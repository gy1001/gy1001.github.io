import{r as t,o,c,a as n,b as p,F as l,e,d as s}from"./app.11ef605d.js";import{_ as r}from"./plugin-vue_export-helper.21dcd24c.js";const u={},i=e(`<h1 id="webpack" tabindex="-1"><a class="header-anchor" href="#webpack" aria-hidden="true">#</a> webpack</h1><h2 id="_1\u3001-webpack-\u521D\u63A2" tabindex="-1"><a class="header-anchor" href="#_1\u3001-webpack-\u521D\u63A2" aria-hidden="true">#</a> 1\u3001 webpack \u521D\u63A2</h2><h3 id="_1-1-webpack-\u7A76\u7ADF\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_1-1-webpack-\u7A76\u7ADF\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 1.1 webpack \u7A76\u7ADF\u662F\u4EC0\u4E48</h3><h4 id="_1-1-1-\u65E9\u671F\u5F00\u53D1-html" tabindex="-1"><a class="header-anchor" href="#_1-1-1-\u65E9\u671F\u5F00\u53D1-html" aria-hidden="true">#</a> 1.1.1 \u65E9\u671F\u5F00\u53D1 HTML</h4><h5 id="_1-1-1-1-\u5B9E\u73B0\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#_1-1-1-1-\u5B9E\u73B0\u6B65\u9AA4" aria-hidden="true">#</a> 1.1.1.1 \u5B9E\u73B0\u6B65\u9AA4</h5><ol><li>\u521B\u5EFA index.html \u6587\u4EF6</li><li>\u521B\u5EFA\u5E76\u5F15\u5165 index.js \u6587\u4EF6</li><li>\u5982\u679C\u6709\u5176\u4ED6 js \u6587\u4EF6\uFF0C\u9700\u8981\u521B\u5EFA\u5E76\u5728 index.html \u4E2D\u5F15\u5165\u5176\u4ED6 js \u6587\u4EF6\uFF0C\u4F8B\u5982 index2.js \u6587\u4EF6</li></ol><h5 id="_1-1-1-2-\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#_1-1-1-2-\u7F3A\u70B9" aria-hidden="true">#</a> 1.1.1.2 \u7F3A\u70B9\uFF1A</h5><ol><li>\u5728\u4E00\u4E2A index.html \u5F15\u5165\u4E86\u591A\u4E2A js \u6587\u4EF6\uFF0C\u5E26\u6765\u5982\u4E0B\u95EE\u9898\uFF1A</li><li>\u6574\u4E2A\u9875\u9762\u7684\u52A0\u8F7D\u901F\u5EA6\u4F1A\u53D8\u6162</li><li>\u4ECE\u4EE3\u7801\u4E2D\u770B\u4E0D\u51FA\u6587\u4EF6\u4E4B\u95F4\u7684\u76F8\u4E92\u5173\u7CFB\u3002\u4F8B\u5982\uFF1A\u5728 index.js \u4E2D\uFF0C\u5047\u5982\u91CC\u9762\u6709\u5176\u5B83 JS \u6587\u4EF6\u521B\u5EFA\u7684\u7C7B\uFF0C\u4E0D\u77E5\u9053\u5176\u6765\u6E90\uFF0C\u9700\u8981\u56DE\u5230 index.html \u4E2D\u53BB\u67E5\u627E</li><li>\u5F88\u96BE\u53BB\u67E5\u9519\u3002\u5047\u5982\u6587\u4EF6\u4F9D\u8D56\u987A\u5E8F\u4E0D\u6B63\u786E\uFF0C\u4F1A\u5BFC\u81F4\u9519\u8BEF\uFF0C\u8FD9\u65F6\u5019\u4E0D\u5BB9\u6613\u53BB\u7EF4\u62A4</li></ol><p>\u6240\u4EE5\uFF0C\u6709\u6CA1\u6709\u4E00\u79CD\u529E\u6CD5\uFF0Chtml \u6587\u4EF6\u8FD8\u662F\u53EA\u5F15\u7528 index.js \u6587\u4EF6\uFF0C\u5BF9\u4E8E\u5176\u4E2D\u9700\u8981\u7684\u7C7B\u6216\u8005\u65B9\u6CD5\uFF0C\u53EF\u4EE5\u5728\u8FD9\u4E2A js \u6587\u4EF6\u4E2D\u53BB\u5F15\u7528\u4F7F\u7528\u3002\u5E76\u4E14\u539F\u751F\u65B9\u5F0F\u662F\u65E0\u6CD5\u76F4\u63A5\u5F15\u5165(\u6BD4\u5982\u5229\u7528 import \u7B49\u65B9\u5F0F)\uFF0C\u800C webpack \u53EF\u4EE5\u5E2E\u52A9\u8F6C\u8BD1 import \u4E3A\u6D4F\u89C8\u5668\u8BC6\u522B\u7684\u65B9\u5F0F</p><h4 id="_1-1-2-\u5229\u7528-webpack-\u5F00\u53D1" tabindex="-1"><a class="header-anchor" href="#_1-1-2-\u5229\u7528-webpack-\u5F00\u53D1" aria-hidden="true">#</a> 1.1.2 \u5229\u7528 webpack \u5F00\u53D1</h4><h5 id="_1-1-2-1-\u5B9E\u73B0\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#_1-1-2-1-\u5B9E\u73B0\u6B65\u9AA4" aria-hidden="true">#</a> 1.1.2.1 \u5B9E\u73B0\u6B65\u9AA4:</h5><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>// \u521B\u5EFAwebpack-demo\u6587\u4EF6\u5939
<span class="token function">mkdir</span> webpak-demo
// \u8FDB\u5165\u6587\u4EF6\u5939
<span class="token builtin class-name">cd</span> webpack-demo
// <span class="token function">npm</span> \u521D\u59CB\u5316\uFF1A\u524D\u63D0\u9700\u8981\u5B89\u88C5nodejs\u3001npm
<span class="token function">npm</span> init webpack-demo
// \u7136\u540E\u4E00\u8DEF\u56DE\u8F66\uFF0C\u6216\u8005\u6839\u636E\u63D0\u793A\u8F93\u5165\u914D\u7F6E\u5185\u5BB9\u3002\u6700\u7EC8\u6587\u4EF6\u5939\u4E2D\u4F1A\u4EA7\u751F\u4E00\u4E2Apackage.jso\u6587\u4EF6\uFF0C\u8FD9\u662F\u7BA1\u7406\u914D\u7F6E\u6587\u4EF6
// \u63A5\u4E0B\u6765 \u5B89\u88C5 webpack-cli webpack
<span class="token function">npm</span> <span class="token function">install</span> webpack-cli webpack --save-dev
// \u521B\u5EFA index.js\u3001index2.js\u3001index.html\u6587\u4EF6
<span class="token function">touch</span> index.js
<span class="token function">touch</span> index2.js
<span class="token function">touch</span> index.html
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>index2.js \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>index.js \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> add <span class="token keyword">from</span> <span class="token string">&#39;./index2.js&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u4F7F\u7528 webpack \u5BF9 js \u6587\u4EF6\u8FDB\u884C\u7FFB\u8BD1</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx webpack ./index.js --mode development
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u7ED3\u679C\u4F1A\u4EA7\u751F\u4E00\u4E2A dist \u6587\u4EF6\uFF0C\u91CC\u9762\u662F\u7F16\u8BD1\u540E\u7684 main.js \u6587\u4EF6</p><p>index.html \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Document<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./dist/main.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u8FD0\u884C\u540E\uFF0Cindex.html \u7ED3\u679C\u53EF\u4EE5\u770B\u5230\u63A7\u5236\u53F0\u4E2D\u8F93\u51FA\u4E86 console.log(add(2,3)) \u7684\u7ED3\u679C 5</p><blockquote><p>\u8FD9\u91CC\u53EF\u4EE5\u770B\u51FA webpack \u505A\u4E86\u7FFB\u8BD1 js \u6587\u4EF6\u7684\u529F\u80FD\uFF0C\u6B64\u65F6\u53EF\u4EE5\u7B80\u5355\u7406\u89E3\u4E3A\u6587\u4EF6\u7F16\u8BD1\u5668\u3002\u5176\u5B9E\uFF0C\u5B83\u7684\u529F\u80FD\u8FDC\u4E0D\u6B62\u4E8E\u6B64\u3002</p></blockquote><h3 id="_1-2-\u4EC0\u4E48\u662F\u6A21\u5757\u6253\u5305\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#_1-2-\u4EC0\u4E48\u662F\u6A21\u5757\u6253\u5305\u5DE5\u5177" aria-hidden="true">#</a> 1.2 \u4EC0\u4E48\u662F\u6A21\u5757\u6253\u5305\u5DE5\u5177</h3><blockquote><p>\u5B98\u65B9\u5B9A\u4E49\uFF1A <em>webpack</em> is a module bundler.</p></blockquote><h4 id="_1-2-1-\u66F4\u6362\u5176\u4ED6\u89C4\u8303\u8FDB\u884C\u6253\u5305" tabindex="-1"><a class="header-anchor" href="#_1-2-1-\u66F4\u6362\u5176\u4ED6\u89C4\u8303\u8FDB\u884C\u6253\u5305" aria-hidden="true">#</a> 1.2.1 \u66F4\u6362\u5176\u4ED6\u89C4\u8303\u8FDB\u884C\u6253\u5305</h4><p>\u5728\u4E0A\u4E00\u8282\u4E2D index2.js \u4E2D add \u51FD\u6570\u662F\u901A\u8FC7 export default \u65B9\u5F0F\u6765\u5BFC\u51FA\uFF0C\u5E76\u5728 index.js \u4E2D\u901A\u8FC7 import add from &quot;./index2.js&quot;\u6765\u5F15\u5165\u7684\u3002\u8FD9\u662F Es Module \u7684\u5BFC\u51FA\u3001\u5BFC\u5165\u65B9\u5F0F\u3002</p><p>\u540C\u6837\u5730\u8FD8\u662F\u6709\u522B\u7684\u6A21\u5757\u5BFC\u51FA\u3001\u5BFC\u5165\u65B9\u5F0F\uFF0C\u4F8B\u5982 Common JS</p><p>index2.js \u5185\u5BB9\u66F4\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> add
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>index.js \u5185\u5BB9\u66F4\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> add <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./index2.js&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5220\u9664 dist \u76EE\u5F55\uFF0C\u5E76\u8FD0\u884C\u4EE5\u4E0B\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx webpack ./index.js --mode development
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u5B8C\u6BD5\u540E\uFF0C\u518D\u6B21\u6253\u5F00 index.html \u6587\u4EF6\u5E76\u8FD0\u884C\u5728\u6D4F\u89C8\u5668\u4E2D\uFF0C\u53EF\u4EE5\u770B\u5230 \u63A7\u5236\u53F0\u4E2D\u6253\u5370\u7ED3\u679C\u4ECD\u7136\u662F 5</p><blockquote><p>\u53EF\u4EE5\u770B\u51FA\uFF0Cwebpack \u4E0D\u4EC5\u53EF\u4EE5\u6253\u5305\u7B26\u5408 Es Module \u89C4\u8303\u7684 js \u6587\u4EF6\uFF0C\u8FD8\u53EF\u4EE5\u6253\u5305 Commonjs \u89C4\u8303\u7684\u6587\u4EF6\u3002\u5176\u5B9E\u4ED6\u8FD8\u53EF\u4EE5\u6253\u5305 CSS \u6587\u4EF6\uFF0Cimage \u56FE\u7247\uFF0C\u7B49\u7B49\u5176\u4ED6\u683C\u5F0F\u7684\u6587\u4EF6\u3002\u6240\u4EE5\uFF0C\u51C6\u786E\u5730\u8BF4\uFF0Cwebpack \u5C31\u662F\u4E00\u4E2A\u6A21\u5757\u6253\u5305\u5DE5\u5177\u3002</p></blockquote><h4 id="_1-2-2-\u63A8\u8350\u9605\u8BFB" tabindex="-1"><a class="header-anchor" href="#_1-2-2-\u63A8\u8350\u9605\u8BFB" aria-hidden="true">#</a> 1.2.2 \u63A8\u8350\u9605\u8BFB</h4>`,37),k={href:"https://webpack.js.org/concepts/modules/",target:"_blank",rel:"noopener noreferrer"},b=s("webpack \u4E4B Modules"),d={href:"https://webpack.js.org/api/module-methods/",target:"_blank",rel:"noopener noreferrer"},m=s("webpack API \u4E4B Module Methods"),g={href:"https://webpack.js.org/api/module-variables/",target:"_blank",rel:"noopener noreferrer"},h=s("webpack API \u4E4B Module Variables"),y=n("h3",{id:"_1-3-webpack-\u7684\u73AF\u5883\u642D\u5EFA",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_1-3-webpack-\u7684\u73AF\u5883\u642D\u5EFA","aria-hidden":"true"},"#"),s(" 1.3 webpack \u7684\u73AF\u5883\u642D\u5EFA")],-1),_=n("p",null,"\u5B89\u88C5 nodejs LTS \u7248\u672C",-1),v={href:"https://nodejs.org/en/",target:"_blank",rel:"noopener noreferrer"},f=s("nodejs \u5B98\u7F51"),j=e(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>// \u67E5\u770Bnode\u3001npm\u7248\u672C
<span class="token function">node</span> -v
<span class="token function">npm</span> -v
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,1),w=e(`<li><p>\u6267\u884C\u4E0B\u8FF0\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> webpak-demo
<span class="token builtin class-name">cd</span> webpack-demo
<span class="token function">npm</span> init webpack-demo
<span class="token function">npm</span> <span class="token function">install</span> webpack-cli webpack --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>\u6CE8\u610F\uFF1A\u4F7F\u7528\u672C\u9879\u76EE\u4E2D node_module \u4E2D webpack \u7248\u672C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx webpack -v
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>\u6B64\u547D\u4EE4\u53EF\u6EE1\u8DB3\u5728\u4E0D\u540C\u9879\u76EE\u4E2D\u4F7F\u7528\u4E0D\u540C\u7248\u672C\u7684 webpack</p></li>`,1),x=e(`<h3 id="_1-4-webpack-\u7684\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-4-webpack-\u7684\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 1.4 webpack \u7684\u914D\u7F6E\u6587\u4EF6</h3><h4 id="_1-4-1-\u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_1-4-1-\u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 1.4.1 \u4F7F\u7528\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6</h4><ol><li><p>\u4E0A\u8FF0\u7F16\u8BD1\u547D\u4EE4\u4E2D\u6CA1\u6709\u6307\u660E\u914D\u7F6E\u6587\u4EF6\uFF0C\u4E00\u6837\u53EF\u4EE5\u6253\u5305\u7F16\u8BD1\u3002\u90A3\u65F6\u56E0\u4E3A webpack \u4E3A\u4E86\u4FBF\u4E8E\u4F7F\u7528\uFF0C \u672C\u8EAB\u8BBE\u7F6E\u4E86\u4E00\u4E9B\u9ED8\u8BA4\u914D\u7F6E\u3002</p><p>\u9ED8\u8BA4\u914D\u7F6E\u6587\u4EF6\u540D\uFF1Awebpack.config.js</p></li><li><p>webpack.config.js \u914D\u7F6E\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">&#39;path&#39;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./index.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u5165\u53E3\u6587\u4EF6</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u6253\u5305\u540E\u7684\u6587\u4EF6\u914D\u7F6E</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6587\u4EF6\u540D</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u6587\u4EF6\u6240\u5728\u8DEF\u5F84\u914D\u7F6E\uFF0C</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u91CD\u65B0\u8FD0\u884C\u547D\u4EE4<code>npx webpck</code></p></li><li><p>\u7ED3\u679C\u51FA\u73B0\u4E86</p><ol><li>\u4E00\u4E2A bundle.js \u6587\u4EF6</li><li>\u4E00\u4E2A bundle \u6587\u4EF6\u5939</li></ol></li><li><p>\u66F4\u6539 index.html \u4E2D\u7684\u5F15\u5165\u6587\u4EF6\u4E3A bundle/bundle.js</p></li><li><p>\u8FD0\u884C\u5230\u6D4F\u89C8\u5668\uFF0C\u63A7\u5236\u53F0\u8F93\u51FA\u7ED3\u679C\u4ECD\u7136\u662F 5</p></li></ol><h4 id="_1-4-2-\u4F7F\u7528\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\u540D" tabindex="-1"><a class="header-anchor" href="#_1-4-2-\u4F7F\u7528\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\u540D" aria-hidden="true">#</a> 1.4.2 \u4F7F\u7528\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\u540D</h4><ol><li><p>\u4F8B\u5982\u81EA\u5B9A\u4E49\u914D\u7F6E\u6587\u4EF6\u4E3A webpack.mine.js</p></li><li><p>\u6587\u4EF6\u5185\u5BB9\u540C\u4E0A</p></li><li><p>\u5220\u9664 bundle \u6587\u4EF6\u5939\u53CA\u5185\u5BB9</p></li><li><p>\u8FD0\u884C\u547D\u4EE4\u9700\u8981\u66F4\u6539\u4E3A</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx webpack --config webpack.mine.js
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u91CD\u65B0\u8FD0\u884C\u4E0A\u8FF0\u547D\u4EE4\uFF0C\u5E76\u518D\u6B21\u6253\u5F00 index.html \u6587\u4EF6</p></li><li><p>\u8FD0\u884C\u5230\u6D4F\u89C8\u5668\u4E2D\uFF0C\u63A7\u5236\u53F0\u8F93\u51FA\u7ED3\u679C\u4ECD\u7136\u662F 5</p></li></ol><h4 id="_1-4-3-\u4F7F\u7528\u811A\u672C\u547D\u4EE4" tabindex="-1"><a class="header-anchor" href="#_1-4-3-\u4F7F\u7528\u811A\u672C\u547D\u4EE4" aria-hidden="true">#</a> 1.4.3 \u4F7F\u7528\u811A\u672C\u547D\u4EE4</h4><ol><li><p>\u521B\u5EFA js \u6587\u4EF6\u5939\uFF0C\u5E76\u628A js \u6587\u4EF6\u90FD\u79FB\u5165\u6587\u4EF6\u5939\u5185</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>// \u6587\u4EF6\u5939\u7ED3\u6784\u5982\u4E0B
- index.html
- node_modules
- package.json
- webpack.config.js
- src
  - js
    - index.js
    - index2.js
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>webpack.config.js \u5185\u5BB9\u66F4\u6539\u5982\u4E0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>const path <span class="token operator">=</span> require<span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	mode: <span class="token string">&#39;development&#39;</span>,
	entry: <span class="token string">&#39;./src/js/index.js&#39;</span>,
	output: <span class="token punctuation">{</span>
		filename: <span class="token string">&#39;bundle.js&#39;</span>,
		path: path.resolve<span class="token punctuation">(</span>__dirname, <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span>,
	<span class="token punctuation">}</span>,
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u66F4\u6539 package.json \u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;main&quot;</span><span class="token operator">:</span> <span class="token string">&quot;index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.71.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.9.2&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>\u6B64\u65F6\u53EA\u9700\u8981\u8FD0\u884C <code>npm run dev</code> \u5373\u53EF</p><blockquote><p>\u5B9E\u9645\u4E0A \u8FD9\u91CC\u8FD0\u884C\u7684\u4E5F\u662F webapack , \u5F53\u7136\u662F node_modules \u4E2D\u7684 webpack\uFF0C\u7136\u540E\u5BFB\u627E\u76F8\u5E94\u7684\u914D\u7F6E\u6587\u4EF6</p></blockquote></li></ol><h4 id="_1-4-4-\u672C\u8282\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#_1-4-4-\u672C\u8282\u5C0F\u7ED3" aria-hidden="true">#</a> 1.4.4 \u672C\u8282\u5C0F\u7ED3</h4><ol><li><p>\u4F7F\u7528\u5168\u5C40\u5B89\u88C5\u5E76\u8FD0\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack -g
webpack index.js
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u4F7F\u7528\u672C\u5730\u5B89\u88C5\u5E76\u8FD0\u884C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack --save-dev
npx webpack index.js
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u672C\u5730\u5B89\u88C5\uFF0C\u5E76\u4F7F\u7528 npm \u811A\u672C\u8FD0\u884C</p><p>\u5B89\u88C5\u65B9\u5F0F\u53C2\u8003\u4E0A\u8FF0\u6587\u6863</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run webpack // \u672C\u8D28\u8FD8\u662F\u8FD0\u884C webpack
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li></ol><h4 id="_1-4-5-\u5B98\u65B9\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_1-4-5-\u5B98\u65B9\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 1.4.5 \u5B98\u65B9\u53C2\u8003\u6587\u6863</h4>`,10),q={href:"https://webpack.js.org/guides/getting-started/",target:"_blank",rel:"noopener noreferrer"},P=s("webpack \u4E4B Getting Started"),C=e(`<h3 id="_1-5-\u6D45\u8C08-webpack-\u6253\u5305\u77E5\u8BC6\u70B9" tabindex="-1"><a class="header-anchor" href="#_1-5-\u6D45\u8C08-webpack-\u6253\u5305\u77E5\u8BC6\u70B9" aria-hidden="true">#</a> 1.5 \u6D45\u8C08 Webpack \u6253\u5305\u77E5\u8BC6\u70B9</h3><ol><li>webpack.config.js \u4E2D mode \u6A21\u5F0F\u53EF\u8BBE\u7F6E\u4E3A development\u3001production ,\u9ED8\u8BA4\u662F production\u3002\u540E\u8005\u6253\u5305\u4F1A\u8FDB\u884C\u538B\u7F29\u3001\u5904\u7406\u7A7A\u683C\u7B49</li><li>\u5728 npm run webpack \u811A\u672C\u8FD0\u884C\u540E\uFF0Cwebpack \u4E5F\u4F1A\u51FA\u73B0\u76F8\u5E94\u7684\u4E00\u4E9B\u6253\u5305\u4FE1\u606F\uFF0C\u6BD4\u5982\uFF1A\u6253\u5305\u8017\u8D39\u65F6\u95F4\u3001\u6253\u5305\u6587\u4EF6\u540D\u5B57\u7B49</li></ol><h3 id="_1-6-\u5C0F\u7ED3" tabindex="-1"><a class="header-anchor" href="#_1-6-\u5C0F\u7ED3" aria-hidden="true">#</a> 1.6 \u5C0F\u7ED3</h3><ul><li>Webpack \u662F\u4EC0\u4E48</li><li>\u6A21\u5757\u662F\u4EC0\u4E48</li><li>Webpack \u914D\u7F6E\u6587\u4EF6\u7684\u4F5C\u7528\u662F\u4EC0\u4E48\uFF0C\u4EE5\u53CA\u57FA\u672C\u7684\u914D\u7F6E\u4FE1\u606F</li></ul><h2 id="_2\u3001-\u6838\u5FC3\u89C2\u5FF5" tabindex="-1"><a class="header-anchor" href="#_2\u3001-\u6838\u5FC3\u89C2\u5FF5" aria-hidden="true">#</a> 2\u3001 \u6838\u5FC3\u89C2\u5FF5</h2><h3 id="_2-1-\u4EC0\u4E48\u662F-loader" tabindex="-1"><a class="header-anchor" href="#_2-1-\u4EC0\u4E48\u662F-loader" aria-hidden="true">#</a> 2.1 \u4EC0\u4E48\u662F loader</h3><blockquote><p>Webpack \u9ED8\u8BA4\u662F\u77E5\u9053\u5982\u4F55\u6253\u5305 js\u3001json \u6587\u4EF6\u7684\uFF0C\u4F46\u662F\u5BF9\u4E8E css\u3001image \u7B49\u6587\u4EF6\u662F\u4E0D\u80FD\u8BC6\u522B\u7684\uFF0C\u6240\u4EE5\u9700\u8981\u4E00\u79CD\u65B9\u5F0F\u6765\u5E2E\u52A9 webpack \u8BC6\u522B\u76F8\u5E94\u7684\u6587\u4EF6\u7C7B\u578B\uFF0C\u8FD9\u79CD\u65B9\u5F0F\u53EF\u4EE5\u79F0\u4E3A loader\u3002\u5E38\u89C1\u7684\u5982\uFF1Ats-loader\u3001css-loader\u3001style-loader\u3001ts-loader\u3001file-loader \u7B49</p></blockquote><p>Loader \u5C31\u662F\u4E00\u4E2A\u6253\u5305\u65B9\u6848\uFF0C</p><p>\u4F8B\u5982\uFF1A\u4E0B\u5C5E\u4EE3\u7801\u5F15\u5165\u4E00\u4E2A img \u56FE\u7247</p><ol><li><p>\u627E\u5230\u4E00\u5F20\u56FE\u7247\u653E\u7F6E scr \u76EE\u5F55\u4E0B</p></li><li><p>index.js \u4E2D\u5F15\u5165\u56FE\u7247\uFF0C\u589E\u52A0\u4EE5\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../math.jpeg&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u7C7B\u578B\u53EF\u80FD\u6709\u51FA\u5165\uFF0C\u4EE5\u81EA\u8EAB\u4E3A\u51C6</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>src <span class="token operator">=</span> img
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>index.html \u4E2D\u589E\u52A0\u5982\u4E0B\u4EE3\u7801</p><div class="language-html ext-html line-numbers-mode"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u7EC8\u7AEF\u5B89\u88C5 file-loader</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> file-loader --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>webpakc \u4E2D\u8BBE\u5B9A\u89C4\u5219\uFF0C\u4F7F\u7528 file-loader\uFF0Cwebpack.config.js \u6587\u4EF6\u53D8\u4E3A\u5982\u4E0B\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.jpeg$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// \u8FD9\u91CC\u6CE8\u610F\u540C\u4E0A\u9762\u56FE\u7247\u7C7B\u578B\u4FDD\u6301\u4E00\u81F4</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// file-loader\u5728\u65B0\u7248\u672C\u4E2DesModule\u9ED8\u8BA4\u4E3Atrue\uFF0C\u56E0\u6B64\u624B\u52A8\u8BBE\u7F6E\u4E3Afalse</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li><li><p>\u91CD\u65B0\u8FD0\u884C\u6253\u5305\u547D\u4EE4<code>npm run dev</code></p></li><li><p>\u91CD\u65B0\u8FD0\u884C index.html \u4F1A\u770B\u5230\u56FE\u7247\u6B63\u5E38\u663E\u793A</p></li></ol><h3 id="_2-2-\u4F7F\u7528-loader-\u6253\u5305\u9759\u6001\u8D44\u6E90-\u56FE\u7247\u7BC7" tabindex="-1"><a class="header-anchor" href="#_2-2-\u4F7F\u7528-loader-\u6253\u5305\u9759\u6001\u8D44\u6E90-\u56FE\u7247\u7BC7" aria-hidden="true">#</a> 2.2 \u4F7F\u7528 Loader \u6253\u5305\u9759\u6001\u8D44\u6E90\uFF08\u56FE\u7247\u7BC7\uFF09</h3><ol><li>\u4E0A\u8282\u53D1\u73B0\u56FE\u7247\u6253\u5305\u540E\u540D\u5B57\u53D8\u4E3A\u4E86\u4E00\u957F\u4E32\u5B57\u7B26\u4E32\uFF0C\u90A3\u4E48\u5982\u4F55\u8BA9\u4ED6\u53D8\u4E3A\u81EA\u5DF1\u60F3\u8981\u7684\u540D\u5B57\u5462</li><li>\u5982\u679C\u60F3\u8BA9\u56FE\u7247\u6253\u5305\u540E\u653E\u5728\u4E00\u4E2A\u6587\u4EF6\u5939\u4E2D\u5462</li></ol><h4 id="_2-2-1-webpack-4" tabindex="-1"><a class="header-anchor" href="#_2-2-1-webpack-4" aria-hidden="true">#</a> 2.2.1 <strong>webpack 4</strong></h4><p>webpack 4 \u4E2D webpack.config.js \u6587\u4EF6\u4E2D\u5185\u5BB9\u914D\u7F6E\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;file-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">esModule</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
            <span class="token comment">// placeholder \u5360\u4F4D\u7B26</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[name].[ext]&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">// \u8BBE\u7F6E\u6253\u5305\u540E\u7684\u6587\u4EF6\u5939</span>
            <span class="token literal-property property">outputPath</span><span class="token operator">:</span> <span class="token string">&#39;images/&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><p>\u4EE5\u4E0A\u662F\u4F7F\u7528 file-loader \u8FDB\u884C\u5904\u7406\uFF0C\u5176\u5B9E\u8FD8\u53EF\u4EE5\u4F7F\u7528 url-loader \u6765\u8FDB\u884C\u5904\u7406\uFF0C\u540E\u8005\u53EF\u4EE5\u8BBE limit,\u5F53\u5927\u5C0F\u5C0F\u4E8E\u8BBE\u7F6E\u7684\u5927\u5C0F\u65F6\u5019\uFF0Curl-loader \u4F1A\u628A\u4ED6\u6253\u5305\u4E3A\u4E00\u4E2A base64 \u4F4D\u6D41\u6570\u636E\uFF0C\u800C\u4E0D\u662F\u4E00\u4E2A\u6587\u4EF6\uFF0C\u8FD9\u6837\u53EF\u4EE5\u51CF\u5C11\u8D44\u6E90\u7684\u8BF7\u6C42\uFF0C\u5F53\u7136\u56FE\u7247\u8981\u5C3D\u91CF\u5C0F\u3002</p><h4 id="_2-2-2-webpack-5" tabindex="-1"><a class="header-anchor" href="#_2-2-2-webpack-5" aria-hidden="true">#</a> 2.2.2 **webpack 5 **</h4><p>webpack 5 \u4E2D\u7684 webpack.config.js \u6587\u4EF6\u4E2D\u5185\u5BB9\u914D\u7F6E\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment">// \u901A\u8FC7\u8FD9\u91CC\u4E5F\u53EF\u4EE5\u8BBE\u7F6E, webpack5\u4E2D\u4E0D\u7528\u52A0.</span>
    <span class="token comment">// assetModuleFilename: &#39;images/[name][ext]&#39;,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">generator</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;images/[name][ext]&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>\u6CE8\u610F\uFF1Awebpack 5 \u4E2D file-loader \u5DF2\u7ECF\u5E9F\u5F03</p><h4 id="_2-2-3-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_2-2-3-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 2.2.3 \u53C2\u8003\u6587\u6863</h4>`,21),E={href:"https://v4.webpack.js.org/loaders/file-loader/",target:"_blank",rel:"noopener noreferrer"},M=s("webpack4 \u4E4B file-loader"),A={href:"https://v4.webpack.js.org/loaders/url-loader/",target:"_blank",rel:"noopener noreferrer"},D=s("webpack4 \u4E4B url-loader"),R={href:"https://webpack.docschina.org/guides/asset-modules#root",target:"_blank",rel:"noopener noreferrer"},W=s("webpack 5 \u4E4B asset-modules"),S=e('<h3 id="_2-3-\u4F7F\u7528-loader-\u6253\u5305\u9759\u6001\u8D44\u6E90-\u6837\u5F0F\u7BC7" tabindex="-1"><a class="header-anchor" href="#_2-3-\u4F7F\u7528-loader-\u6253\u5305\u9759\u6001\u8D44\u6E90-\u6837\u5F0F\u7BC7" aria-hidden="true">#</a> 2.3 \u4F7F\u7528 Loader \u6253\u5305\u9759\u6001\u8D44\u6E90\uFF08\u6837\u5F0F\u7BC7\uFF09</h3><h4 id="_2-3-1-css-loader" tabindex="-1"><a class="header-anchor" href="#_2-3-1-css-loader" aria-hidden="true">#</a> 2.3.1 css-loader</h4><p><code>css-loader</code> \u89E3\u91CA(interpret) <code>@import</code> \u548C <code>url()</code> \uFF0C\u4F1A <code>import/require()</code> \u540E\u518D\u89E3\u6790(resolve)\u5B83\u4EEC\u3002</p><h4 id="_2-3-2-style-loader" tabindex="-1"><a class="header-anchor" href="#_2-3-2-style-loader" aria-hidden="true">#</a> 2.3.2 style-loader</h4>',4),I=s("\u5EFA\u8BAE\u5C06 "),B=n("code",null,"style-loader",-1),T=s(" \u4E0E "),L={href:"https://github.com/webpack/css-loader",target:"_blank",rel:"noopener noreferrer"},O=n("code",null,"css-loader",-1),H=s(" \u7ED3\u5408\u4F7F\u7528"),z=e(`<h4 id="_2-3-3-less-loader" tabindex="-1"><a class="header-anchor" href="#_2-3-3-less-loader" aria-hidden="true">#</a> 2.3.3 less-loader</h4><p>\u4E00\u4E2A less \u52A0\u8F7D\u5668\uFF0C\u5E2E\u52A9 webpack \u5904\u7406 less \u6587\u4EF6\u7684\u3002\u540C\u7406\uFF0C\u8FD8\u6709 sass-loader\u3001stylus-loader \u7B49, \u8FD9\u91CC\u4EE5 less-loader \u4E3A\u4F8B</p><h4 id="_2-3-4-postcss-loader" tabindex="-1"><a class="header-anchor" href="#_2-3-4-postcss-loader" aria-hidden="true">#</a> 2.3.4 postcss-loader</h4><p>\u5B9E\u73B0\u6837\u5F0F\u517C\u5BB9\u6027\u5904\u7406\uFF0C\u81EA\u52A8\u4E3A\u6837\u5F0F\u6DFB\u52A0\u6D4F\u89C8\u5668\u524D\u7F00\u3002</p><h4 id="_2-3-5-\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_2-3-5-\u793A\u4F8B" aria-hidden="true">#</a> 2.3.5 \u793A\u4F8B</h4><ol><li><p>\u5728 src \u4E0B\u65B0\u5EFA css \u6587\u4EF6\u5939\uFF0C\u65B0\u5EFA index.css\u3001img.less \u6587\u4EF6\uFF0C\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><p>img.less \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">html</span> <span class="token punctuation">{</span>
  <span class="token selector">.el-img</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translate</span><span class="token punctuation">(</span>100px<span class="token punctuation">,</span> 100px<span class="token punctuation">)</span> // \u8FD9\u91CC\u5C5E\u4E8E\u65B0\u7279\u6027\uFF0C\u67D0\u4E9B\u6D4F\u89C8\u9700\u8981\u589E\u52A0\u76F8\u5E94\u524D\u7F00\u624D\u4F1A\u8BC6\u522B\uFF0Cpostcss-loader \u53EF\u4EE5\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\uFF0C\u81EA\u52A8\u589E\u52A0\u524D\u7F00
<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>index.css \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token atrule"><span class="token rule">@import</span> <span class="token string">&#39;./img.less&#39;</span><span class="token punctuation">;</span></span> // \u6CE8\u610F\u8FD9\u91CC\u662F css \u6587\u4EF6\u5F15\u5165 less \u6587\u4EF6
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>index.js \u4E2D\u5F15\u5165 index.css \u6587\u4EF6, \u5E76\u4FEE\u6539\u5F15\u5165 img \u7247\u6BB5\u5185\u5BB9\uFF0C\u66F4\u6539\u5982\u4E0B</p><ol><li><p>\u5F53\u4E0D\u4F7F\u7528 modules: true \u6A21\u5757\u5316\u914D\u7F6E\u65F6\u5019\u5982\u6B64\u5F15\u4EBA\uFF0C\u662F\u4F5C\u4E3A\u5168\u5C40\u6837\u5F0F\u5F15\u5165</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token comment">// \u5F53\u4E0D\u4F7F\u7528 modules: true \u6A21\u5757\u5316\u914D\u7F6E\u65F6\u5019\u5982\u6B64\u5F15\u4EBA\uFF0C\u662F\u4F5C\u4E3A\u5168\u5C40\u6837\u5F0F\u5F15\u5165, \u5047\u5982\u5176\u4ED6\u6587\u4EF6\u4E2D\u4E5F\u6709\u540C\u540D\u5143\u7D20\uFF0C\u5C06\u4F1A\u6536\u5230\u5F71\u54CD</span>
<span class="token keyword">import</span> <span class="token string">&#39;../css/index.css&#39;</span>

<span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../math.jpeg&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> imgEl <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span>
imgEl<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;el-img&#39;</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u5F53\u4F7F\u7528\u6A21\u5757\u5316\u5F15\u5165\u65F6\u5019\uFF0C\u9700\u8981\u66F4\u6539\u5982\u4E0B</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code>...
// \u5F53\u4F7F\u7528 <span class="token property">modules</span><span class="token punctuation">:</span> true \u6A21\u5757\u5316\u914D\u7F6E\u65F6\u5019\u5982\u6B64\u5F15\u4EBA\uFF0C\u662F\u4F5C\u4E3A\u5C40\u90E8\u6837\u5F0F\u5F15\u5165\uFF0C\u5E76\u4E0D\u5F71\u54CD\u5176\u4ED6\u6587\u4EF6\u4E2D\u540C\u540D\u6837\u5F0F\u7684\u5143\u7D20
import styles from <span class="token string">&#39;../css/index.css&#39;</span>

const img = <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;../math.jpeg&#39;</span><span class="token punctuation">)</span>
const imgEl = document.<span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;img&#39;</span><span class="token punctuation">)</span>
imgEl.classList.<span class="token function">add</span><span class="token punctuation">(</span>styles[<span class="token string">&#39;el-img&#39;</span>]<span class="token punctuation">)</span>
...
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol></li><li><p>\u5B89\u88C5 css-loader style-loader less-loader postcss-loader \uFF0C\u56E0\u4E3A css\u3001less \u6587\u4EF6 webpack \u5E76\u4E0D\u80FD\u8BC6\u522B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> css-loader style-loader -D
<span class="token function">npm</span> <span class="token function">install</span> <span class="token function">less</span> less-loader -D
<span class="token function">npm</span> <span class="token function">install</span> --save-dev postcss-loader postcss
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>webpack.config.js \u6587\u4EF6\u4FEE\u6539\u5982\u4E0B</p><blockquote><p>\u6CE8\u610F\uFF1A\u591A\u4E2A loader \u7684\u6267\u884C\u987A\u5E8F\u662F <code>\u4ECE\u540E\u5F80\u524D</code> \u6267\u884C\u7684</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
	<span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token operator">...</span>
    	<span class="token punctuation">{</span>
				<span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
					<span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
					<span class="token punctuation">{</span>
						<span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
						<span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
							<span class="token comment">// \u5F15\u5165\u6A21\u5757\u5316\uFF0C\u6CE8\u610F\u7B2C2\u6B65\u4E2D\u7684\u5F15\u5165\u533A\u522B</span>
							<span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
						<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token punctuation">}</span><span class="token punctuation">,</span>
					<span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
				<span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
         <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
           <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
           <span class="token punctuation">{</span>
    				 <span class="token literal-property property">loader</span><span class="token operator">:</span><span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
    				 <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    						<span class="token comment">// \u901A\u8FC7 import \u52A0\u8F7D\u7684less\u6587\u4EF6\u4E5F\u9700\u8981\u6267\u884C\u524D\u4E24\u4E2Aloader</span>
    						<span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span>
  					 <span class="token punctuation">}</span>
  				 <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
           <span class="token punctuation">{</span>
             <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
             <span class="token comment">//  \u6216\u8005\u4F7F\u7528 PostCSS \u672C\u8EAB\u7684 \u914D\u7F6E\u6587\u4EF6\uFF1Apostcss.config.js</span>
             <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                 <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">}</span><span class="token punctuation">,</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div></li><li><p>\u8FD0\u884C\u811A\u672C\u6253\u5305\u547D\u4EE4<code>npm run dev</code></p></li><li><p>\u8FD0\u884C index.html \u5230\u6D4F\u89C8\u5668\u4E2D\uFF0C\u53D1\u73B0\u56FE\u7247\u8EAB\u4E0A\u6709\u6307\u5B9A\u7684 css, \u4E14\u6309\u7167\u6307\u5B9A\u7684\u6837\u5F0F\u663E\u793A</p></li></ol><h4 id="_2-3-6-\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#_2-3-6-\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> 2.3.6 \u53C2\u8003\u6587\u732E</h4>`,7),F={href:"https://v4.webpack.js.org/loaders/postcss-loader/",target:"_blank",rel:"noopener noreferrer"},U=s("webpack \u4E4B postcss-loader"),N={href:"https://webpack.js.org/guides/asset-management/",target:"_blank",rel:"noopener noreferrer"},$=s("webpack \u4E4B Asset Management"),K=n("h3",{id:"_2-4-\u4F7F\u7528-plugins-\u8BA9\u6253\u5305\u66F4\u4FBF\u6377",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-4-\u4F7F\u7528-plugins-\u8BA9\u6253\u5305\u66F4\u4FBF\u6377","aria-hidden":"true"},"#"),s(" 2.4 \u4F7F\u7528 plugins \u8BA9\u6253\u5305\u66F4\u4FBF\u6377")],-1),G=n("h4",{id:"_2-4-1-html-webpack-plugin",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-4-1-html-webpack-plugin","aria-hidden":"true"},"#"),s(" 2.4.1 html-webpack-plugin")],-1),J={href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer"},V=n("code",null,"HtmlWebpackPlugin",-1),Y=s(" \u4F1A\u5E2E\u6211\u81EA\u52A8\u521B\u5EFA\u6216\u8005\u6839\u636E\u5F15\u5165\u7684\u6587\u4EF6\u6A21\u677F\u521B\u5EFA\u4E00\u4E2A html \u6587\u4EF6\uFF0C\uFF0C\u5E76\u628A\u6253\u5305\u751F\u6210\u7684 js \u6587\u4EF6\u81EA\u52A8\u5F15\u5165\u3002"),Q=e(`<h4 id="_2-4-2-clean-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#_2-4-2-clean-webpack-plugin" aria-hidden="true">#</a> 2.4.2 clean-webpack-plugin</h4><p>\u5728\u6BCF\u6B21\u6253\u5305\u65F6\u5019\uFF0C\u5E2E\u4F60\u5148\u6E05\u7A7A\u76EE\u6807\u6587\u4EF6\u5939\uFF1Adist \u6216\u8005\u914D\u7F6E\u7684\u5176\u4ED6\u540D\u79F0\u6587\u4EF6\u5939</p><h4 id="_2-4-3-\u793A\u4F8B\u6B65\u9AA4" tabindex="-1"><a class="header-anchor" href="#_2-4-3-\u793A\u4F8B\u6B65\u9AA4" aria-hidden="true">#</a> 2.4.3 \u793A\u4F8B\u6B65\u9AA4</h4><ol><li><p>\u5B89\u88C5\u63D2\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> html-webpack-plugin --save-dev
<span class="token function">npm</span> <span class="token function">install</span> clean-webpack-plugin --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>webpack \u5F15\u5165\u63D2\u4EF6\uFF0CWebpack.config.js \u6587\u4EF6\u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">// \u6307\u5B9A\u6587\u4EF6\u6A21\u677F\uFF0C\u4E5F\u53EF\u4EE5\u4E0D\u6307\u5B9A</span>
       	<span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>\u91CD\u65B0\u8FD0\u884C\u6253\u5305\u547D\u4EE4\uFF0C\u5E76\u8FD0\u884C\u5230\u6D4F\u89C8\u5668\u91CC</p></li><li><p>\u67E5\u770B\u9875\u9762\u6548\u679C</p></li></ol><h4 id="_2-4-4-\u76F8\u5173\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_2-4-4-\u76F8\u5173\u6587\u6863" aria-hidden="true">#</a> 2.4.4 \u76F8\u5173\u6587\u6863</h4>`,5),X={href:"https://webpack.docschina.org/plugins/",target:"_blank",rel:"noopener noreferrer"},Z=s("webpack \u4E4B Plugin"),nn=e(`<h3 id="_2-5-entry-\u4E0E-output-\u7684\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-5-entry-\u4E0E-output-\u7684\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> 2.5 Entry \u4E0E Output \u7684\u57FA\u672C\u914D\u7F6E</h3><h4 id="_2-5-1-entry-\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-5-1-entry-\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> 2.5.1 entry \u57FA\u672C\u914D\u7F6E</h4><ol><li><p>\u53EF\u4EE5\u662F\u4E00\u4E2A\u5B57\u7B26\u4E32</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u5165\u53E3\u6587\u4EF6</span>

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u4E5F\u53EF\u4EE5\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5DE6\u4FA7\u952E\u8868\u793A\u6253\u5305\u540E\u751F\u6210\u7684\u6587\u4EF6\u540D\u5B57</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token comment">// main \u662F\u6253\u5305\u540E\u7684\u6587\u4EF6\u540D\uFF0C\u53F3\u4FA7\u662F\u6587\u4EF6\u5165\u53E3</span>
  <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u4E5F\u53EF\u4EE5\u662F\u591A\u4E2A\u952E\u503C\u5BF9\u5BF9\u8C61, \u8868\u793A\u751F\u6210\u4E24\u4E2A\u6587\u4EF6; \u8868\u793A\u591A\u4E2A\u6587\u4EF6\u5165\u53E3</p><p>tips: \u8FD9\u91CC\u5982\u679C\u7528\u7684\u662F html-webpack-plugin \u751F\u6210\u7684 html \u6587\u4EF6\uFF0C\u5C06\u4F1A\u81EA\u52A8\u5F15\u5165\u8FD9\u4E24\u4E2A\u751F\u6210\u7684 js \u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sub</span><span class="token operator">:</span> <span class="token string">&quot;./src/index.js&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol><h4 id="_2-5-2-output-\u57FA\u672C\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-5-2-output-\u57FA\u672C\u914D\u7F6E" aria-hidden="true">#</a> 2.5.2 output \u57FA\u672C\u914D\u7F6E</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// \u5982\u679C\u6253\u5305\u540E\u7684\u6587\u4EF6\u4E0D\u662F\u76F4\u63A5\u996E\u7528\uFF0C\u800C\u662F\u653E\u5230\u4E86\u522B\u7684\u670D\u52A1\u5668\uFF0C\u6BD4\u5982\u4F7F\u7528\u4E86CDN, \u5C31\u53EF\u4EE5\u4F7F\u7528publicPath\u6765\u8FDB\u884C\u8BBE\u7F6E</span>
  <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;https://xxcdn.com/&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h4 id="_2-5-3-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_2-5-3-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 2.5.3 \u53C2\u8003\u6587\u6863</h4>`,6),sn={href:"https://webpack.js.org/concepts/entry-points",target:"_blank",rel:"noopener noreferrer"},an=s("webpack \u4E4B Entry Points"),pn={href:"https://webpack.js.org/guides/output-management/",target:"_blank",rel:"noopener noreferrer"},en=s("webpack \u4E4B Output Management"),tn={href:"https://webpack.js.org/configuration/output/",target:"_blank",rel:"noopener noreferrer"},on=s("webpack \u4E4B output"),cn=e(`<h3 id="_2-6-sourcemap-\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-6-sourcemap-\u7684\u914D\u7F6E" aria-hidden="true">#</a> 2.6 SourceMap \u7684\u914D\u7F6E</h3><h4 id="_2-6-1-sourcemap" tabindex="-1"><a class="header-anchor" href="#_2-6-1-sourcemap" aria-hidden="true">#</a> 2.6.1 sourceMap</h4><blockquote><p>sourceMap \u662F\u4E00\u4E2A\u6620\u5C04\u5173\u7CFB\u3002\u5047\u5982\u4EE3\u7801\u8FD0\u884C\u65F6\u5019\uFF0C\u63A7\u5236\u53F0\u63D0\u793A 96 \u884C\u62A5\u9519\uFF0C\u56E0\u4E3A\u4EE3\u7801\u662F\u6253\u5305\u538B\u7F29\u540E\u7684\uFF0C\u6839\u636E\u63D0\u793A\u7684 96 \u884C\u6839\u672C\u4E0D\u80FD\u5FEB\u901F\u5B9A\u4F4D\u5230\u6E90\u6587\u4EF6\u4E2D\u7684\u9519\u8BEF\u4F4D\u7F6E\u3002\u800C sourceMap \u53EF\u4EE5\u5E2E\u52A9\u6211\u4EEC\u5FEB\u901F\u5B9A\u4F4D\u5230\u76F8\u5E94\u7684\u9519\u8BEF\u4F4D\u7F6E\u3002</p></blockquote><h4 id="_2-6-2-\u76F8\u5E94\u7684\u914D\u7F6E\u9009\u9879-devtool" tabindex="-1"><a class="header-anchor" href="#_2-6-2-\u76F8\u5E94\u7684\u914D\u7F6E\u9009\u9879-devtool" aria-hidden="true">#</a> 2.6.2 \u76F8\u5E94\u7684\u914D\u7F6E\u9009\u9879 devtool</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;source-map&#39;</span> <span class="token comment">// \u6B64\u9009\u9879\u63A7\u5236\u662F\u5426\u751F\u6210\uFF0C\u4EE5\u53CA\u5982\u4F55\u751F\u6210 source map\u3002</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-6-3-\u53EF\u4EE5\u914D\u7F6E\u7684\u503C" tabindex="-1"><a class="header-anchor" href="#_2-6-3-\u53EF\u4EE5\u914D\u7F6E\u7684\u503C" aria-hidden="true">#</a> 2.6.3 \u53EF\u4EE5\u914D\u7F6E\u7684\u503C</h4><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>^<span class="token punctuation">(</span>inline-<span class="token operator">|</span>hidden-<span class="token operator">|</span>eval-<span class="token punctuation">)</span>?<span class="token punctuation">(</span>nosources-<span class="token punctuation">)</span>?<span class="token punctuation">(</span>cheap-<span class="token punctuation">(</span>module-<span class="token punctuation">)</span>?<span class="token punctuation">)</span>?source-map$

eval: \u53EF\u4EE5\u901A\u8FC7 <span class="token builtin class-name">eval</span> \u7684\u65B9\u5F0F \u5BF9\u6211\u4EEC\u7684\u4EE3\u7801\u6216\u8005 sourcemap \u8FDB\u884C\u6253\u5305\uFF0C\u63D0\u9AD8\u6253\u5305\u901F\u5EA6
module: loader\u7B49\u5176\u4E2D\u7684\u9519\u8BEF\u4E5F\u8FDB\u884C\u5B9A\u4F4D
cheap: <span class="token number">1</span>: \u53EA\u63D0\u793A\u591A\u5C11\u884C\u51FA\u9519\u4E86\uFF0C\u4E0D\u63D0\u793A\u5217\u6570 <span class="token number">2</span>\uFF1A\u53EA\u8D1F\u8D23\u4E1A\u52A1\u4EE3\u7801\u4E2D\u7684\u9519\u8BEF\uFF0Cloader\u7B49\u4F9D\u8D56\u4E09\u65B9\u7684\u9519\u8BEF\u4E0D\u5B9A\u4F4D
inline: \u4F1A\u628Amap\u6587\u4EF6\u6253\u5305\u5165 js \u6587\u4EF6\u4E2D\u53BB
source-map: \u4F1A\u81EA\u52A8\u751F\u6210\u4E00\u4E2A .map \u6587\u4EF6
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h4 id="_2-6-4-\u63A8\u8350\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_2-6-4-\u63A8\u8350\u7684\u914D\u7F6E" aria-hidden="true">#</a> 2.6.4 \u63A8\u8350\u7684\u914D\u7F6E</h4><p>mode: development \u73AF\u5883\u4E0B\u7684\u63A8\u8350\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;cheap-module-eval-source-map&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>mode: production \u73AF\u5883\u4E0B\u7684\u63A8\u8350\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;cheap-module-source-map&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h4 id="_2-6-5-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_2-6-5-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 2.6.5 \u53C2\u8003\u6587\u6863</h4>`,13),ln={href:"https://webpack.docschina.org/configuration/devtool/",target:"_blank",rel:"noopener noreferrer"},rn=s("webpack \u4E4B Devtool\uFF1Asource-map"),un=n("h3",{id:"_2-7-\u4F7F\u7528-webpackdevserver-\u63D0\u5347\u5F00\u53D1\u6548\u7387",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-7-\u4F7F\u7528-webpackdevserver-\u63D0\u5347\u5F00\u53D1\u6548\u7387","aria-hidden":"true"},"#"),s(" 2.7 \u4F7F\u7528 WebpackDevServer \u63D0\u5347\u5F00\u53D1\u6548\u7387")],-1),kn=n("h4",{id:"_2-7-1-webpack-dev-server",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-7-1-webpack-dev-server","aria-hidden":"true"},"#"),s(" 2.7.1 webpack-dev-server")],-1),bn={href:"https://github.com/webpack/webpack-dev-server",target:"_blank",rel:"noopener noreferrer"},dn=s("webpack-dev-server"),mn=s(" \u53EF\u7528\u4E8E\u5FEB\u901F\u5F00\u53D1\u5E94\u7528\u7A0B\u5E8F\u3002\u53EF\u4EE5\u5B9E\u73B0\u5982\u4E0B\u7684\u6548\u679C\uFF1A\u66F4\u6539\u4E86\u4EE3\u7801\u65F6\u5019\uFF0C\u81EA\u52A8\u8FDB\u884C\u7F16\u8BD1\u8FD0\u884C\uFF0C\u5237\u65B0\u6D4F\u89C8\u5668\u3002"),gn=e(`<h4 id="_2-7-2-\u4F7F\u7528-webpack-watch-\u5B9E\u73B0" tabindex="-1"><a class="header-anchor" href="#_2-7-2-\u4F7F\u7528-webpack-watch-\u5B9E\u73B0" aria-hidden="true">#</a> 2.7.2 \u4F7F\u7528 webpack -- watch \u5B9E\u73B0</h4><ol><li>\u66F4\u6539\u811A\u672C dev \u7684\u8FD0\u884C\u547D\u4EE4</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --watch&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="2"><li>\u8FD0\u884C\u547D\u4EE4<code>npm run dev</code></li><li>\u4FEE\u6539\u6587\u4EF6\u5185\u5BB9\uFF0C\u624B\u52A8\u5237\u65B0\u6D4F\u89C8\u5668, \u7136\u540E\u89C2\u5BDF\u6548\u679C</li></ol><h4 id="_2-7-3-\u4F7F\u7528-webpack-dev-server" tabindex="-1"><a class="header-anchor" href="#_2-7-3-\u4F7F\u7528-webpack-dev-server" aria-hidden="true">#</a> 2.7.3 \u4F7F\u7528 webpack-dev-server</h4><ol><li><p>\u5B89\u88C5 webpack-dev-server</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack-dev-server -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u66F4\u6539\u811A\u672C\u547D\u4EE4\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --watch&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u4E3A webpack.config.js \u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token operator">...</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u81EA\u52A8\u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u5E76\u8FD0\u884C\u672C\u5730\u542F\u52A8\u65F6\u7684\u670D\u52A1\u5668\u5730\u5740</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run start</code></p></li><li><p>\u53EF\u4EE5\u770B\u5230\u63A7\u5236\u53F0\u8F93\u51FA\u7ED3\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack-dev-server<span class="token punctuation">]</span> Project is running at:
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack-dev-server<span class="token punctuation">]</span> Loopback: http://localhost:8081/
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack-dev-server<span class="token punctuation">]</span> On Your Network <span class="token punctuation">(</span>IPv4<span class="token punctuation">)</span>: http://192.168.31.191:8081/
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack-dev-server<span class="token punctuation">]</span> On Your Network <span class="token punctuation">(</span>IPv6<span class="token punctuation">)</span>: http://<span class="token punctuation">[</span>fe80::1<span class="token punctuation">]</span>:8081/
<span class="token operator">&lt;</span>i<span class="token operator">&gt;</span> <span class="token punctuation">[</span>webpack-dev-server<span class="token punctuation">]</span> Content not from webpack is served from <span class="token string">&#39;/Users/yuangao/Desktop/webpack-demo/public&#39;</span> directory
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u6253\u5F00\u5982\u4E0B\u63D0\u793A\u7684\u5730\u5740<code>http://localhost:8081</code> \uFF08\u53EF\u80FD\u4F1A\u6709\u51FA\u5165\uFF0C\u4EE5\u672C\u5730\u8FD0\u884C\u4E3A\u51C6\uFF09</p></li><li><p>\u66F4\u6539\u4EE3\u7801\u540E\uFF0C\u53EF\u4EE5\u770B\u5230\u4EE3\u7801<code>\u81EA\u52A8\u7F16\u8BD1</code>\uFF0C\u6D4F\u89C8\u5668<code>\u81EA\u52A8\u5237\u65B0</code>\uFF0C\u5448\u73B0\u6700\u65B0\u6548\u679C</p></li></ol><h4 id="_2-7-4-\u4F7F\u7528-node-\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_2-7-4-\u4F7F\u7528-node-\u65B9\u5F0F" aria-hidden="true">#</a> 2.7.4 \u4F7F\u7528 node \u65B9\u5F0F</h4><ol><li><p>\u66F4\u6539\u811A\u672C\u547D\u4EE4\u5982\u4E0B</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;dev&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;webpack --watch&quot;</span>,
  <span class="token string">&quot;start&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;webpack-dev-server&quot;</span>,
  <span class="token string">&quot;middle&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;node server.js&quot;</span>
<span class="token punctuation">}</span>,
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u5B89\u88C5 express, webpack-dev-middle</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack-dev-middleware express -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u6839\u76EE\u5F55\u4E0B\u65B0\u5EFA server.js ,\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> express <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;express&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpackDevMiddleware <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-dev-middleware&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.config&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> compiler <span class="token operator">=</span> <span class="token function">webpack</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">express</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
  <span class="token function">webpackDevMiddleware</span><span class="token punctuation">(</span>compiler<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u76F8\u5E94\u7684webpack.config.js\u4E2D\u7684output\u9700\u8981\u8FDB\u884C\u8BBE\u7F6E\uFF0C\u4E5F\u53EF\u4EE5\u7B80\u5355\u8BBE\u7F6E\u5982\u4E0B\u4E3A&quot;/&quot;, \u6216\u4E0D\u8BBE\u7F6E</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> config<span class="token punctuation">.</span>output<span class="token punctuation">.</span>publicPath<span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">listen</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;server is running&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li></ol><h4 id="_2-7-5-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_2-7-5-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 2.7.5 \u53C2\u8003\u6587\u6863</h4>`,9),hn={href:"https://webpack.js.org/configuration/dev-server/",target:"_blank",rel:"noopener noreferrer"},yn=s("webpack \u4E4B webpack-dev-server"),_n={href:"https://webpack.js.org/guides/development/",target:"_blank",rel:"noopener noreferrer"},vn=s("webpack \u4E4B development"),fn={href:"https://webpack.js.org/api/node/",target:"_blank",rel:"noopener noreferrer"},jn=s("webpack \u4E4B nodejs Api"),wn=n("h3",{id:"_2-8-hot-module-replacement-\u70ED\u6A21\u5757\u66FF\u6362",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-8-hot-module-replacement-\u70ED\u6A21\u5757\u66FF\u6362","aria-hidden":"true"},"#"),s(" 2.8 Hot Module Replacement \u70ED\u6A21\u5757\u66FF\u6362")],-1),xn=n("h4",{id:"_2-8-1-\u5B9A\u4E49",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2-8-1-\u5B9A\u4E49","aria-hidden":"true"},"#"),s(" 2.8.1 \u5B9A\u4E49")],-1),qn=s("\u6A21\u5757\u70ED\u66FF\u6362(HMR - Hot Module Replacement)\u529F\u80FD\u4F1A\u5728\u5E94\u7528\u7A0B\u5E8F\u8FD0\u884C\u8FC7\u7A0B\u4E2D\u66FF\u6362\u3001\u6DFB\u52A0\u6216\u5220\u9664"),Pn={href:"https://www.webpackjs.com/concepts/modules/",target:"_blank",rel:"noopener noreferrer"},Cn=s("\u6A21\u5757"),En=s("\uFF0C\u800C\u65E0\u9700\u91CD\u65B0\u52A0\u8F7D\u6574\u4E2A\u9875\u9762\u3002\u4E3B\u8981\u662F\u901A\u8FC7\u4EE5\u4E0B\u51E0\u79CD\u65B9\u5F0F\uFF0C\u6765\u663E\u8457\u52A0\u5FEB\u5F00\u53D1\u901F\u5EA6\uFF1A"),Mn=e(`<ul><li>\u4FDD\u7559\u5728\u5B8C\u5168\u91CD\u65B0\u52A0\u8F7D\u9875\u9762\u65F6\u4E22\u5931\u7684\u5E94\u7528\u7A0B\u5E8F\u72B6\u6001</li><li>\u53EA\u66F4\u65B0\u53D8\u66F4\u5185\u5BB9\uFF0C\u4EE5\u8282\u7701\u5B9D\u8D35\u7684\u5F00\u53D1\u65F6\u95F4</li><li>\u8C03\u6574\u6837\u5F0F\u66F4\u52A0\u5FEB\u901F - \u51E0\u4E4E\u76F8\u5F53\u4E8E\u5728\u6D4F\u89C8\u5668\u8C03\u8BD5\u5668\u4E2D\u66F4\u6539\u6837\u5F0F</li></ul><h4 id="_2-8-2-\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2-8-2-\u4F7F\u7528" aria-hidden="true">#</a> 2.8.2 \u4F7F\u7528</h4><ol><li><p>\u66F4\u6539 webpack.config.js \u4E2D\u7684\u76F8\u5173\u914D\u7F6E, \u66F4\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token string">&#39;only&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>index.js \u4E2D\u6DFB\u52A0\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token keyword">function</span> <span class="token function">createBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;button&#39;</span><span class="token punctuation">)</span>
	btn<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;\u6211\u662F\u6309\u94AE\uFF0C\u70B9\u51FB\u6211\u65B0\u589E\u4E00\u4E2Adiv&#39;</span>
	btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
		div<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;test-btn&#39;</span><span class="token punctuation">)</span>
		div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&#39;item&#39;</span>
		document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">createBtn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run start</code>, \u4F7F\u7528 <code>webpack-dev-server</code>\u8FDB\u884C\u7F16\u8BD1\u8FD0\u884C</p></li><li><p>\u70B9\u51FB <code>\u6211\u662F\u6309\u94AE\uFF0C\u70B9\u51FB\u6211\u65B0\u589E\u4E00\u4E2Adiv</code> \u67E5\u770B\u9875\u9762\u6548\u679C\uFF0C\u53D1\u73B0\u9875\u9762\u4E2D\u591A\u4E86\u8BB8\u591A \u5185\u5BB9\u4E3A item \u7684<code>div</code></p></li><li><p>\u5728<code>index.css</code> \u4E2D\u6DFB\u52A0\u5982\u4E0B\u6837\u5F0F, \u7136\u540E\u4FDD\u5B58\uFF0C\u67E5\u770B\u6D4F\u89C8\u5668\u6548\u679C</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">.test-btn:nth-child(2n)</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightblue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.test-btn:nth-child(2n + 1)</span> <span class="token punctuation">{</span>
  <span class="token property">background-color</span><span class="token punctuation">:</span> lightgreen<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u4F1A\u53D1\u73B0\uFF0C\u5185\u5BB9\u4E3A item \u7684<code>div</code> \u5E76\u4E0D\u4F1A\u6D88\u5931\uFF0C\u540C\u65F6\u80CC\u666F\u8272\u53D8\u4E3A\u4E0A\u8FF0\u8BBE\u7F6E\u7684\u80CC\u666F\u8272\u3002\uFF08\u6CE8\u610F\uFF1A\u8FD9\u4E9B div\uFF0C\u662F\u70B9\u51FB\u4EE5\u540E\u624D\u6DFB\u52A0\u7684\uFF0C\u5982\u679C\u5237\u65B0\u5C31\u4F1A\u6D88\u5931\uFF0C\u8BF4\u660E\u8FD9\u65F6\u6CA1\u6709\u5237\u65B0\uFF0C\u53EA\u662F\u6DFB\u52A0\u6216\u8005\u4FEE\u6539\u4E86\u67D0\u4E9B\u6A21\u5757\uFF09</p></li><li><p>\u5982\u679C\u4F60\u518D\u6539\u53D8 index.css \u4E2D\u7684\u80CC\u666F\u8272\uFF0C\u4F1A\u770B\u5230\u76F8\u5E94\u7684\u5143\u7D20\u80CC\u666F\u8272\u4E5F\u53D1\u751F\u4E86\u53D8\u5316\uFF0C\u8FD9\u5C31\u662F HMR \u7684\u795E\u5947\u4E4B\u5904\u3002</p></li></ol><h4 id="_2-8-3-\u5B9E\u73B0-js-\u7684\u70ED\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#_2-8-3-\u5B9E\u73B0-js-\u7684\u70ED\u66F4\u65B0" aria-hidden="true">#</a> 2.8.3 \u5B9E\u73B0 JS \u7684\u70ED\u66F4\u65B0</h4><h5 id="_2-8-3-1-\u7528\u4E0A\u8FF0\u4EE3\u7801\u770B\u662F\u5426\u652F\u6301-js-\u7684\u70ED\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#_2-8-3-1-\u7528\u4E0A\u8FF0\u4EE3\u7801\u770B\u662F\u5426\u652F\u6301-js-\u7684\u70ED\u66F4\u65B0" aria-hidden="true">#</a> 2.8.3.1 \u7528\u4E0A\u8FF0\u4EE3\u7801\u770B\u662F\u5426\u652F\u6301 JS \u7684\u70ED\u66F4\u65B0</h5><blockquote><p>\u4E0A\u4E00\u8282\u4EE3\u7801\u793A\u4F8B\u4E2D\uFF0C\u4F7F\u7528 hmr \u6765\u5B9E\u73B0 css \u5185\u5BB9\u7684\u66F4\u65B0\u66FF\u6362\uFF0C\u540C\u65F6\u4E0D\u4F1A\u5F71\u54CD\u9875\u9762\u5143\u7D20\uFF0C\u90A3\u4E48\u5BF9\u4E8E JS \u5462</p></blockquote><ol><li><p>\u65B0\u5EFA\u6587\u4EF6 counter.js\u3001number.js \u6587\u4EF6\uFF0C\u5E76\u5728 index.js \u4E2D\u5F15\u5165</p><p>counter.js \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token number">1</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;counter&#39;</span><span class="token punctuation">)</span>
  div<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>div<span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span>
  <span class="token punctuation">}</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> counter
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>number.js \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token number">1000</span>
  div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;id&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span>
  document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> number
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>index.js \u4E2D\u65B0\u589E\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> counter <span class="token keyword">from</span> <span class="token string">&#39;./counter&#39;</span>
<span class="token keyword">import</span> number <span class="token keyword">from</span> <span class="token string">&#39;./number&#39;</span>
<span class="token function">counter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u5176\u4F59\u914D\u7F6E\u4E0D\u53D8\uFF0C\u8FD0\u884C\u7F16\u8BD1\u547D\u4EE4 <code>npm run dev</code> \u67E5\u770B\u6548\u679C\uFF0C\u53EF\u4EE5\u770B\u5230\u9875\u9762\u4E2D\u6709\u4E00\u884C\u663E\u793A 1\uFF0C\u6709\u4E00\u884C\u663E\u793A 1000\uFF0C\u70B9\u51FB 1 \u7684\u5143\u7D20 div \u5185\u5BB9\u4F1A\u8FDB\u884C\u81EA\u589E\u52A0\uFF0C\u4F8B\u5982\u6B64\u65F6\u70B9\u51FB\u4F7F\u5176\u53D8\u4E3A 10</p></li><li><p>\u6B64\u65F6\u5BF9<code>numebr.js</code>\u6587\u4EF6\u8FDB\u884C\u66F4\u6539\uFF0C\u5C06 1000 \u53D8\u4E3A 2000\uFF0C\u7136\u540E\u4FDD\u5B58\u8FD0\u884C\uFF0C\u4F1A\u53D1\u73B0\u9875\u9762\u5185\u5BB9\u6CA1\u6709\u53D1\u751F\u53D8\u5316\u3002</p></li><li><p>\u53EF\u4EE5\u770B\u51FA\u6765\uFF1AHMR \u5BF9 JS \u6587\u4EF6\u5185\u5BB9\u7684\u66F4\u65B0\u662F\u505A\u4E0D\u5230\u7684</p></li></ol><h5 id="_2-8-3-2-\u5B9E\u73B0-hmr-\u5BF9-js-\u6587\u4EF6\u7684\u70ED\u66F4\u65B0" tabindex="-1"><a class="header-anchor" href="#_2-8-3-2-\u5B9E\u73B0-hmr-\u5BF9-js-\u6587\u4EF6\u7684\u70ED\u66F4\u65B0" aria-hidden="true">#</a> 2.8.3.2 \u5B9E\u73B0 HMR \u5BF9 JS \u6587\u4EF6\u7684\u70ED\u66F4\u65B0</h5><ol><li><p>\u4FEE\u6539 webpack.config.js \u6587\u4EF6\u4E2D\u7684\u5185\u5BB9\uFF0C\u589E\u52A0\u5982\u4E0B\u63D2\u4EF6\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> HotModuleReplacementPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

<span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
  <span class="token operator">...</span>
  <span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>index.js \u4E2D\u589E\u52A0\u5982\u4E0B\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4EE3\u8868 \u5F53 number.js \u6587\u4EF6\u53D1\u751F\u53D8\u5316\u65F6\u5019\uFF0C\u6267\u884C\u540E\u9762\u7684\u56DE\u8C03\u51FD\u6570</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>module<span class="token punctuation">.</span>hot<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  module<span class="token punctuation">.</span>hot<span class="token punctuation">.</span><span class="token function">accept</span><span class="token punctuation">(</span><span class="token string">&#39;./number.js&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;number&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token function">number</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u91CD\u65B0\u8FD0\u884C <code>npm run dev</code> \u67E5\u770B\u6548\u679C\uFF0C\u7136\u540E\u5148\u70B9\u51FB 1 \u4F7F\u5176\u53D8\u4E3A 10\uFF0C \u5728\u66F4\u6539 numebr.js \u4E2D\u7684 1000 \u4E3A 2000\uFF0C \u4E3A 300\uFF0C</p></li><li><p>\u53EF\u4EE5\u770B\u5230\u7ED3\u679C \u53D1\u751F\u53D8\u5316\uFF0C\u800C\u4E0A\u9762\u7684 10 \u6CA1\u6709\u53D8\u5316\u3002\u8FD9\u65F6\u5C31\u8BF4\u660E\u5BF9 js \u6267\u884C\u4E86\u70ED\u66F4\u65B0\u6A21\u5757</p></li></ol><h5 id="_2-8-3-3-\u4E3B\u6D41\u6846\u67B6\u5185\u7F6E\u4E86\u4E0A\u8FF0\u5904\u7406\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_2-8-3-3-\u4E3B\u6D41\u6846\u67B6\u5185\u7F6E\u4E86\u4E0A\u8FF0\u5904\u7406\u51FD\u6570" aria-hidden="true">#</a> 2.8.3.3 \u4E3B\u6D41\u6846\u67B6\u5185\u7F6E\u4E86\u4E0A\u8FF0\u5904\u7406\u51FD\u6570</h5><p>\u5728\u65E5\u5E38\u5F00\u53D1\u4E2D\uFF0C\u50CF vue \u6216\u8005 react \u6280\u672F\u6808\u90FD\u5185\u7F6E\u4E86\u70ED\u66F4\u65B0\u5904\u7406\u6A21\u5757\uFF0C\u6240\u4EE5\u6211\u4EEC\u5E76\u4E0D\u9700\u8981\u5199\u4E0A\u4E00\u8282\u7684\u4EE3\u7801\u53BB\u624B\u52A8\u5904\u7406\u3002</p><h4 id="_2-8-4-\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#_2-8-4-\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> 2.8.4 \u53C2\u8003\u6587\u732E</h4>`,12),An={href:"https://webpack.js.org/guides/hot-module-replacement/#enabling-hmr",target:"_blank",rel:"noopener noreferrer"},Dn=s("GUIDE \u4E4B HMR"),Rn={href:"https://webpack.js.org/concepts/hot-module-replacement/#how-it-works",target:"_blank",rel:"noopener noreferrer"},Wn=s("concepts \u4E4B Hot Module Replacement"),Sn={href:"https://webpack.js.org/configuration/dev-server/",target:"_blank",rel:"noopener noreferrer"},In=s("webpack \u4E4B dev-server \u4E2D\u4F7F\u7528 HMR"),Bn={href:"https://webpack.js.org/api/hot-module-replacement/#module-api",target:"_blank",rel:"noopener noreferrer"},Tn=s("API \u4E4B HMR"),Ln=e(`<h3 id="_2-9-\u4F7F\u7528-babel-\u5904\u7406-es6-\u51FD\u6570" tabindex="-1"><a class="header-anchor" href="#_2-9-\u4F7F\u7528-babel-\u5904\u7406-es6-\u51FD\u6570" aria-hidden="true">#</a> 2.9 \u4F7F\u7528 babel \u5904\u7406 ES6 \u51FD\u6570</h3><h4 id="_2-9-1-\u4E0D\u5904\u7406\u65F6\u5019\u4F1A\u600E\u4E48\u6837" tabindex="-1"><a class="header-anchor" href="#_2-9-1-\u4E0D\u5904\u7406\u65F6\u5019\u4F1A\u600E\u4E48\u6837" aria-hidden="true">#</a> 2.9.1 \u4E0D\u5904\u7406\u65F6\u5019\u4F1A\u600E\u4E48\u6837</h4><ol><li><p>\u6E05\u7A7A index.js \u4E2D\u7684\u5185\u5BB9\uFF0C\u4FEE\u6539\u4E3A\u5982\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>

arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>\u6CE8\u610F\uFF1A Promise \u662F\u65B0\u7684\u8BED\u6CD5\uFF0C\u53E6\u5916\u4E0A\u9762\u7528\u5230\u4E86\u65B0\u7684\u8BED\u6CD5 \u7BAD\u5934\u51FD\u6570\uFF0C\u90E8\u5206\u6D4F\u89C8\u5668\u53EF\u80FD\u4E0D\u517C\u5BB9</p></blockquote></li><li><p>\u5F80 <code>package.json</code>\u4E2D\u6DFB\u52A0\u6253\u5305\u547D\u4EE4\u811A\u672C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u8FD0\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>\uFF0C\u67E5\u770B\u6253\u5305\u540E\u7684\u6587\u4EF6\u5185\u5BB9</p></li><li><p>\u53EF\u4EE5\u770B\u5230\u5982\u4E0B\u6253\u5305\u7ED3\u679C(\u53EF\u80FD\u7248\u672C\u4E0D\u540C\uFF0C\u6253\u5305\u5185\u5BB9\u6709\u5DEE\u5F02)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token doc-comment comment">/***/ &quot;./src/js/index.js&quot;:
/*!*************************!*\\
  !*** ./src/js/index.js ***!
  \\*************************/</span>
<span class="token doc-comment comment">/***/ (() =&gt; <span class="token punctuation">{</span>

const arr = [new Promise(() =&gt; <span class="token punctuation">{</span><span class="token punctuation">}</span>), new Promise(() =&gt; <span class="token punctuation">{</span><span class="token punctuation">}</span>)]

arr.map((item) =&gt; <span class="token punctuation">{</span>
	console.log(item)
<span class="token punctuation">}</span>)

/***/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">...</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u4ECE\u4E0A\u9762\u53EF\u4EE5\u770B\u5230\u6587\u4EF6\u5185\u5BB9\u57FA\u672C\u6CA1\u6709\u53D1\u751F\u53D8\u5316\uFF0C\u8FD9\u6837\u8FD0\u884C\u5230\u6D4F\u89C8\u5668\u4E2D\u80AF\u5B9A\u4F1A\u9047\u5230\u517C\u5BB9\u6027\u95EE\u9898\u7684</p></li></ol><h4 id="_2-9-2-\u5982\u4F55\u89E3\u51B3\u5462" tabindex="-1"><a class="header-anchor" href="#_2-9-2-\u5982\u4F55\u89E3\u51B3\u5462" aria-hidden="true">#</a> 2.9.2 \u5982\u4F55\u89E3\u51B3\u5462</h4>`,4),On=s("\u6253\u5F00 "),Hn={href:"https://babeljs.io/setup#installation",target:"_blank",rel:"noopener noreferrer"},zn=s("babel \u4E4B setup"),Fn=s(" \u9009\u62E9 webpack \uFF0C\u4F1A\u51FA\u73B0\u5982\u4E0B\u547D\u4EE4, \u6309\u7167\u64CD\u4F5C\u5373\u53EF"),Un=e(`<ol><li><p>\u5B89\u88C5 babel</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev babel-loader @babel/core
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>Webpack.config.js \u4E2D\u589E\u52A0\u76F8\u5E94\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>\u589E\u52A0 <code>babel.config.json</code> \u6587\u4EF6\uFF0C\u5E76\u8FDB\u884C\u5982\u4E0B\u64CD\u4F5C(\u6B64\u65F6 3.2 \u6B65\u53EF\u4EE5\u4E0D\u7528\u64CD\u4F5C\uFF0C\u56E0\u4E3A\u4E0A\u8FF0\u7B2C 2 \u6B65\u5DF2\u7ECF\u5F15\u5165\uFF0C\u4E24\u79CD\u65B9\u5F0F\u9009\u62E9\u5176\u4E00\u5373\u53EF)</p><ol><li><p>\u5148\u5B89\u88C5\u4F9D\u8D56\u6A21\u5757</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/preset-env --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><code>babel.config.json</code>\u5199\u5165\u5982\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol></li><li><p>\u8FD0\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>\uFF0C\u67E5\u770B\u6253\u5305\u7F16\u8BD1\u7ED3\u679C\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/***/ &quot;./src/js/index.js&quot;:
/*!*************************!*\\
  !*** ./src/js/index.js ***!
  \\*************************/</span>
<span class="token doc-comment comment">/***/ (() =&gt; <span class="token punctuation">{</span>

var arr = [new Promise(function () <span class="token punctuation">{</span><span class="token punctuation">}</span>), new Promise(function () <span class="token punctuation">{</span><span class="token punctuation">}</span>)];
arr.map(function (item) <span class="token punctuation">{</span>
  console.log(item);
<span class="token punctuation">}</span>);

/***/</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>\u53EF\u4EE5\u53D1\u73B0\u4E0A\u8FF0\u4EE3\u7801\u4E2D\u7684\u7BAD\u5934\u51FD\u6570\u5DF2\u7ECF\u8FDB\u884C\u4E86\u7F16\u8BD1\u8F6C\u6362\uFF0C\u5DF2\u7ECF\u521D\u6B65\u5B8C\u6210\u4E86\u8F6C\u6362\uFF0C\u53EF\u662F\u90E8\u5206\u6D4F\u89C8\u5668\u662F\u4E0D\u80FD\u8BC6\u522B Promise \u4EE5\u53CA map \u8BED\u6CD5\u7684\uFF0C\u90A3\u53C8\u8BE5\u600E\u4E48\u529E\u5462</p><blockquote><p>\u6CE8\u610F\uFF1A@babel/preset-env \u662F Babel6 \u65F6\u4EE3 babel-preset-latest \u7684\u589E\u5F3A\u7248\u3002\u8BE5\u9884\u8BBE\u9664\u4E86\u5305\u542B\u6240\u6709\u7A33\u5B9A\u7684\u8F6C\u7801\u63D2\u4EF6\uFF0C\u8FD8\u53EF\u4EE5\u6839\u636E\u6211\u4EEC\u8BBE\u5B9A\u7684\u76EE\u6807\u73AF\u5883\u8FDB\u884C\u9488\u5BF9\u6027\u8F6C\u7801\u3002</p><p>Babel \u7684\u7F16\u8BD1\u5206\u4E3A\u8BED\u6CD5\u548C API \u4E24\u90E8\u5206\uFF1A\u8BED\u6CD5\uFF08\u8BF8\u5982 const let ...\u89E3\u6784\u3001class \u8BED\u6CD5\u7B49\uFF09\u3001API\uFF08\u8BF8\u5982[].includes\u3001[].reduce \u7B49\uFF09</p><p>\u9ED8\u8BA4\u7684 Babel \u5982\u4E0B\uFF0C\u53EA\u4F1A\u7F16\u8BD1\u8BED\u6CD5\uFF0C\u4E0D\u4F1A\u7F16\u8BD1 API \uFF1BBabel \u63D0\u4F9B\u4E86 polyfill \u5E93\u8FDB\u884C api \u7684\u8F6C\u6362\uFF0C\u540C\u65F6 @babel/preset-env \u63D0\u4F9B\u4E86\u914D\u7F6E\u53C2\u6570 useBuiltIns \u8FDB\u884C\u8BBE\u7F6E\u5982\u4F55\u5904\u7406\u3002</p></blockquote></li></ol><h4 id="_2-9-3-\u521D\u6B65\u8FDB\u884C\u518D\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#_2-9-3-\u521D\u6B65\u8FDB\u884C\u518D\u8F6C\u6362" aria-hidden="true">#</a> 2.9.3 \u521D\u6B65\u8FDB\u884C\u518D\u8F6C\u6362</h4><ol><li><p>\u6B64\u65F6\u5C31\u9700\u8981\u501F\u52A9\u53E6\u4E00\u4E2A <code>babel/polyfill</code>, \u540C\u6837\u7684\u5148\u5B89\u88C5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save @babel/polyfill
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u7136\u540E\u5728 index.js \u9875\u9762\u4E2D\u8FDB\u884C\u5F15\u5165, \u589E\u52A0\u4EE5\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4FDD\u8BC1\u5728\u9876\u7AEF\u5F15\u5165</span>
<span class="token keyword">import</span> <span class="token string">&#39;@babel/polyfill&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u6B64\u65F6\u5728\u8FDB\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>\u7684\u6267\u884C, \u67E5\u770B\u7F16\u8BD1\u540E\u7684\u7ED3\u679C,(\u5927\u6982\u7C7B\u4F3C\u5982\u4E0B\u7ED3\u679C)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token doc-comment comment">/***/ &quot;./node_modules/core-js/es6/index.js&quot;:
/*!*******************************************!*\\
  !*** ./node_modules/core-js/es6/index.js ***!
  \\*******************************************/</span>
<span class="token doc-comment comment">/***/ ((module, __unused_webpack_exports, __webpack_require__) =&gt; <span class="token punctuation">{</span>

__webpack_require__(/*! ../modules/es6.symbol */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.symbol.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.create */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.create.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.define-property */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.define-property.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.define-properties */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.define-properties.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.get-own-property-descriptor */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.get-own-property-descriptor.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.get-prototype-of */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.get-prototype-of.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.keys */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.keys.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.get-own-property-names */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.get-own-property-names.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.freeze */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.freeze.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.seal */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.seal.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.prevent-extensions */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.prevent-extensions.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.is-frozen */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.is-frozen.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.is-sealed */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.is-sealed.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.is-extensible */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.is-extensible.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.assign */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.assign.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.is */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.is.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.set-prototype-of */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.set-prototype-of.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.object.to-string */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.to-string.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.function.bind */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.function.bind.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.function.name */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.function.name.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.function.has-instance */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.function.has-instance.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.parse-int */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.parse-int.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.parse-float */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.parse-float.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.constructor */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.constructor.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.to-fixed */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.to-fixed.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.to-precision */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.to-precision.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.epsilon */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.epsilon.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.is-finite */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.is-finite.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.is-integer */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.is-integer.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.is-nan */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.is-nan.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.is-safe-integer */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.is-safe-integer.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.max-safe-integer */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.max-safe-integer.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.min-safe-integer */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.min-safe-integer.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.parse-float */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.parse-float.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.number.parse-int */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.number.parse-int.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.acosh */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.acosh.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.asinh */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.asinh.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.atanh */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.atanh.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.cbrt */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.cbrt.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.clz32 */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.clz32.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.cosh */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.cosh.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.expm1 */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.expm1.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.fround */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.fround.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.hypot */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.hypot.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.imul */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.imul.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.log10 */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.log10.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.log1p */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.log1p.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.log2 */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.log2.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.sign */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.sign.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.sinh */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.sinh.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.tanh */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.tanh.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.math.trunc */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.math.trunc.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.from-code-point */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.from-code-point.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.raw */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.raw.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.trim */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.trim.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.iterator */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.iterator.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.code-point-at */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.code-point-at.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.ends-with */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.ends-with.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.includes */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.includes.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.repeat */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.repeat.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.starts-with */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.starts-with.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.anchor */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.anchor.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.big */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.big.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.blink */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.blink.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.bold */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.bold.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.fixed */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.fixed.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.fontcolor */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.fontcolor.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.fontsize */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.fontsize.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.italics */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.italics.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.link */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.link.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.small */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.small.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.strike */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.strike.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.sub */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.sub.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.string.sup */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.string.sup.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.date.now */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.date.now.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.date.to-json */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.date.to-json.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.date.to-iso-string */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.date.to-iso-string.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.date.to-string */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.date.to-string.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.date.to-primitive */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.date.to-primitive.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.is-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.is-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.from */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.from.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.of */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.of.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.join */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.join.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.slice */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.slice.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.sort */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.sort.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.for-each */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.for-each.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.map */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.map.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.filter */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.filter.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.some */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.some.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.every */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.every.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.reduce */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.reduce.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.reduce-right */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.reduce-right.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.index-of */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.index-of.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.last-index-of */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.last-index-of.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.copy-within */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.copy-within.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.fill */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.fill.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.find */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.find.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.find-index */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.find-index.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.species */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.species.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.array.iterator */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.iterator.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.constructor */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.constructor.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.exec */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.exec.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.to-string */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.to-string.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.flags */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.flags.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.match */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.match.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.replace */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.replace.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.search */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.search.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.regexp.split */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.regexp.split.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.promise */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.promise.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.map */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.map.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.set */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.set.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.weak-map */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.weak-map.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.weak-set */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.weak-set.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.array-buffer */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.array-buffer.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.data-view */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.data-view.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.int8-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.int8-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.uint8-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.uint8-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.uint8-clamped-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.uint8-clamped-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.int16-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.int16-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.uint16-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.uint16-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.int32-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.int32-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.uint32-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.uint32-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.float32-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.float32-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.typed.float64-array */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.typed.float64-array.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.apply */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.apply.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.construct */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.construct.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.define-property */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.define-property.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.delete-property */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.delete-property.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.enumerate */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.enumerate.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.get */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.get.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.get-own-property-descriptor */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.get-own-property-descriptor.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.get-prototype-of */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.get-prototype-of.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.has */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.has.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.is-extensible */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.is-extensible.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.own-keys */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.own-keys.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.prevent-extensions */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.prevent-extensions.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.set */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.set.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/es6.reflect.set-prototype-of */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.reflect.set-prototype-of.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! ../modules/_core */</span> <span class="token string">&quot;./node_modules/core-js/modules/_core.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/***/ <span class="token punctuation">}</span>),
  ....
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br></div></div></li><li><p>\u53EF\u4EE5\u770B\u5230\u6587\u4EF6\u5185\u5BB9\u4E2D\u591A\u4E86\u5F88\u591A\u5904\u7406\u51FD\u6570\uFF0C\u5E76\u4E14\u6253\u5305\u540E\u7684\u6587\u4EF6\u4F53\u79EF\u4E5F\u53D8\u5F97\u5F88\u5927(\u5F15\u5165\u4E86\u5168\u90E8\u7684\u8F6C\u6362\u51FD\u6570\uFF0C\u5373\u4F7F\u4EE3\u7801\u4E2D\u6CA1\u6709\u4F7F\u7528\u76F8\u5E94\u7684\u8BED\u6CD5\u529F\u80FD\uFF0C\u8FD9\u65F6\u5019\u5C31\u5F88\u6CA1\u6709\u5FC5\u8981\uFF0C\u6709\u6CA1\u6709\u529E\u6CD5\u8FDB\u884C\u4F18\u5316\u5462)</p></li></ol><h4 id="_2-9-4-\u7EE7\u7EED\u4F18\u5316-1" tabindex="-1"><a class="header-anchor" href="#_2-9-4-\u7EE7\u7EED\u4F18\u5316-1" aria-hidden="true">#</a> 2.9.4 \u7EE7\u7EED\u4F18\u5316 1</h4><blockquote><p>\u4E0A\u8282\u6253\u5305\u4E2D\u5F15\u5165\u4E86\u5168\u91CF\u7684\u5904\u7406\u51FD\u6570\uFF0C\u5373\u4F7F\u6211\u7684\u4EE3\u7801\u4E2D\u6CA1\u6709\u4F7F\u7528\u76F8\u5E94\u7684\u8BED\u6CD5\uFF0C\u6709\u6CA1\u6709\u53EF\u80FD\u6211\u7528\u4E86\u4EC0\u4E48\u65B0\u8BED\u6CD5\uFF0C\u4ED6\u5C31\u53EA\u8F6C\u6362\u67D0\u79CD\u8BED\u6CD5\u5462\uFF0C\u90A3\u4E9B\u6211\u6CA1\u6709\u4F7F\u7528\u7684\u8BED\u6CD5\uFF0C\u76F8\u5E94\u7684\u7F16\u8BD1\u5305\u5C31\u4E0D\u5F15\u5165\u5462</p></blockquote><ol><li><p>\u66F4\u6539 webpack.config.js \u4E2D\u76F8\u5E94 js \u6587\u4EF6\u7684\u5904\u7406\u89C4\u5219\uFF0C\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span>
            <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u5B83\u7684\u610F\u601D\u662F\u53EA\u52A0\u7528\u6237\u4F7F\u7528\u7684\u90A3\u4E9B\u9700\u8981\u7F16\u8BD1\u7684\u5904\u7406\u51FD\u6570</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><p>\u6B64\u65F6\u5728\u8FDB\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>\u7684\u6267\u884C, \u67E5\u770B\u7F16\u8BD1\u540E\u7684\u7ED3\u679C,(\u5927\u6982\u7C7B\u4F3C\u5982\u4E0B\u7ED3\u679C)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token doc-comment comment">/***/ &quot;./src/js/index.js&quot;:
/*!*************************!*\\
  !*** ./src/js/index.js ***!
  \\*************************/</span>
<span class="token doc-comment comment">/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) =&gt; <span class="token punctuation">{</span>

&quot;use strict&quot;;
__webpack_require__.r(__webpack_exports__);
/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es6.object.to-string.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.object.to-string.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es6_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_1__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es6.promise.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.promise.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_1___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es6_promise_js__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es6_array_map_js__WEBPACK_IMPORTED_MODULE_2__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es6.array.map.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es6.array.map.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es6_array_map_js__WEBPACK_IMPORTED_MODULE_2___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es6_array_map_js__WEBPACK_IMPORTED_MODULE_2__<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/***/ <span class="token punctuation">}</span>),
...
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li><li><p>\u6CE8\u610F\u8FD9\u91CC\u7684\u7ED3\u679C\uFF1A\u53EA\u5F15\u5165\u4E86\u4EE3\u7801\u4E2D\u5B9E\u9645\u7528\u5230\u7684\u5904\u7406\u51FD\u6570\uFF0C\u5F15\u5165\u91CF\u5C11\u4E86\u5F88\u591A</p></li><li><p>\u6CE8\u610F\uFF1A\u6211\u76EE\u524D\u7684\u7248\u672C\u914D\u7F6E\u4E2D\u6709\u5982\u4E0B\u8B66\u544A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token constant">WARNING</span> <span class="token punctuation">(</span>@babel<span class="token operator">/</span>preset<span class="token operator">-</span>env<span class="token punctuation">)</span><span class="token operator">:</span> We noticed you&#39;re using the <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">useBuiltIns</span><span class="token template-punctuation string">\`</span></span> option without declaring a core<span class="token operator">-</span>js version<span class="token punctuation">.</span> Currently<span class="token punctuation">,</span> we assume version <span class="token number">2</span><span class="token punctuation">.</span>x when no version is passed<span class="token punctuation">.</span> Since <span class="token keyword">this</span> <span class="token keyword">default</span> version will likely change <span class="token keyword">in</span> future versions <span class="token keyword">of</span> Babel<span class="token punctuation">,</span> we recommend explicitly setting the core<span class="token operator">-</span>js version you are using via the <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">corejs</span><span class="token template-punctuation string">\`</span></span> option<span class="token punctuation">.</span>

You should also be sure that the version you pass to the <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">corejs</span><span class="token template-punctuation string">\`</span></span> option matches the version specified <span class="token keyword">in</span> your <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">package.json</span><span class="token template-punctuation string">\`</span></span><span class="token string">&#39;s \`dependencies\` section. If it doesn&#39;</span>t<span class="token punctuation">,</span> you need to run one <span class="token keyword">of</span> the following commands<span class="token operator">:</span>

  npm install <span class="token operator">--</span>save core<span class="token operator">-</span>js@<span class="token number">2</span>    npm install <span class="token operator">--</span>save core<span class="token operator">-</span>js@<span class="token number">3</span>
  yarn add core<span class="token operator">-</span>js@<span class="token number">2</span>              yarn add core<span class="token operator">-</span>js@<span class="token number">3</span>

More info about useBuiltIns<span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>babeljs<span class="token punctuation">.</span>io<span class="token operator">/</span>docs<span class="token operator">/</span>en<span class="token operator">/</span>babel<span class="token operator">-</span>preset<span class="token operator">-</span>env#usebuiltins
More info about core<span class="token operator">-</span>js<span class="token operator">:</span> https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>babeljs<span class="token punctuation">.</span>io<span class="token operator">/</span>docs<span class="token operator">/</span>en<span class="token operator">/</span>babel<span class="token operator">-</span>preset<span class="token operator">-</span>env#corejs

When setting <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">useBuiltIns: &#39;usage&#39;</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> polyfills are automatically imported when needed<span class="token punctuation">.</span>
Please remove the direct <span class="token keyword">import</span> <span class="token keyword">of</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">@babel/polyfill</span><span class="token template-punctuation string">\`</span></span> or use <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">useBuiltIns: &#39;entry&#39;</span><span class="token template-punctuation string">\`</span></span> instead<span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>\u53EF\u4EE5\u5148\u5FFD\u7565\uFF0C\u540E\u7EED\u4F1A\u8FDB\u884C\u5904\u7406</p><blockquote><p>\u4E0A\u9762\u7684\u610F\u601D\u662F\u8BF4\u5F53\u4F60\u4F7F\u7528\u914D\u7F6E useBuiltIns \u65F6\u5019\uFF0C\u5EFA\u8BAE\u589E\u52A0 corejs \u914D\u7F6E\uFF0C\u5982\u679C\u4E0D\u58F0\u660E\u7684\u8BDD\uFF0C\u4F1A\u9ED8\u8BA4\u4F7F\u7528 2.x \u7248\u672C\uFF0C\u800C 2.x \u7684\u7248\u672C\u5DF2\u7ECF\u4E0D\u66F4\u65B0\uFF0C\u5EFA\u8BAE\u4F7F\u7528\u7248\u672C 3.x \uFF0C\u53EF\u4EE5\u4FEE\u6539\u4E3A\u5982\u4E0B\u914D\u7F6E\u5E76\u5B89\u88C5\u76F8\u5E94\u4F9D\u8D56</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span>
            <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u5B83\u7684\u610F\u601D\u662F\u53EA\u52A0\u7528\u6237\u4F7F\u7528\u7684\u90A3\u4E9B\u9700\u8981\u7F16\u8BD1\u7684\u5904\u7406\u51FD\u6570</span>
              <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token number">3</span> <span class="token comment">// \u9700\u8981\u6267\u884C yarn add core-js@3</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></blockquote></li></ol><h4 id="_2-9-5-\u7EE7\u7EED\u7EE7\u7EED\u4F18\u5316-2" tabindex="-1"><a class="header-anchor" href="#_2-9-5-\u7EE7\u7EED\u7EE7\u7EED\u4F18\u5316-2" aria-hidden="true">#</a> 2.9.5 \u7EE7\u7EED\u7EE7\u7EED\u4F18\u5316 2</h4>`,7),Nn=s("\u4E0A\u8FF0\u914D\u7F6E\u4E2D\uFF0C\u8FD8\u6709\u5176\u4ED6\u4E00\u4E9B\u914D\u7F6E\u9009\u9879\uFF0C\u5177\u4F53\u53C2\u8003 "),$n={href:"https://babeljs.io/docs/en/usage",target:"_blank",rel:"noopener noreferrer"},Kn=s("babel-useage"),Gn=e(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
  <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">[</span>
            <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
              <span class="token comment">// \u9700\u8981\u652F\u6301\u7684\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\uFF0C\u5982\u679C\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\u652F\u6301\u8BED\u6CD5\uFF0C\u5C31\u4F1A\u7565\u8FC7\u8F6C\u6362\u5904\u7406</span>
              <span class="token string-property property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token string-property property">&quot;edge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;17&quot;</span><span class="token punctuation">,</span>
                <span class="token string-property property">&quot;firefox&quot;</span><span class="token operator">:</span> <span class="token string">&quot;60&quot;</span><span class="token punctuation">,</span>
                <span class="token string-property property">&quot;chrome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;67&quot;</span><span class="token punctuation">,</span>
                <span class="token string-property property">&quot;safari&quot;</span><span class="token operator">:</span> <span class="token string">&quot;11.1&quot;</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
              <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>  <span class="token comment">// \u5B83\u7684\u610F\u601D\u662F\u53EA\u52A0\u7528\u6237\u4F7F\u7528\u7684\u90A3\u4E9B\u9700\u8981\u7F16\u8BD1\u7684\u5904\u7406\u51FD\u6570</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div>`,1),Jn=e(`<h4 id="_2-9-6-babel-preset-env-usebuiltins-\u8BF4\u660E" tabindex="-1"><a class="header-anchor" href="#_2-9-6-babel-preset-env-usebuiltins-\u8BF4\u660E" aria-hidden="true">#</a> 2.9.6 @babel/preset-env useBuiltIns \u8BF4\u660E</h4><blockquote><p>useBuiltIns \u9009\u9879\u53EF\u4EE5\u914D\u7F6E\u7684\u9009\u9879\u6709\uFF1Afalse\u3001entry\u3001usage</p></blockquote><ol><li><p>false: \u6B64\u65F6\u4E0D\u5BF9 polyfill \u505A\u64CD\u4F5C\u3002\u5982\u679C\u5F15\u5165 <code>@babel/polyfill</code>\uFF0C\u5219\u65E0\u89C6\u914D\u7F6E\u7684\u6D4F\u89C8\u5668\u517C\u5BB9\uFF0C\u5F15\u5165\u6240\u6709\u7684 polyfill\u3002</p></li><li><p>entry: \u6839\u636E\u914D\u7F6E\u7684\u6D4F\u89C8\u5668\u517C\u5BB9\uFF0C\u5F15\u5165\u6D4F\u89C8\u5668\u4E0D\u517C\u5BB9\u7684 polyfill\u3002\u9700\u8981\u5728\u5165\u53E3\u6587\u4EF6\u624B\u52A8\u6DFB\u52A0 <code>import &#39;@babel/polyfill&#39;</code>\uFF0C\u4F1A\u81EA\u52A8\u6839\u636E browserslist \u66FF\u6362\u6210\u6D4F\u89C8\u5668\u4E0D\u517C\u5BB9\u7684\u6240\u6709 polyfill</p><blockquote><p><strong>\u6CE8\u610F</strong>\uFF1A<code>import &#39;@babel/polyfill&#39;</code> \u5B98\u65B9\u5DF2\u7ECF\u63D0\u793A\u5E9F\u5F03\uFF0C\u5EFA\u8BAE\u6539\u4E3A\u5982\u4E0B\u914D\u7F6E\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&#39;core-js/stable&#39;</span>
<span class="token keyword">import</span> <span class="token string">&#39;regenerator-runtime/runtime&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></blockquote></li><li><p>usage: usage \u4F1A\u6839\u636E\u914D\u7F6E\u7684\u6D4F\u89C8\u5668\u517C\u5BB9\uFF0C\u4EE5\u53CA\u4F60\u4EE3\u7801\u4E2D\u7528\u5230\u7684 API \u6765\u8FDB\u884C polyfill\uFF0C\u5B9E\u73B0\u4E86\u81EA\u52A8\u6309\u9700\u6DFB\u52A0\u3002</p></li></ol><h4 id="_2-9-7-\u4F7F\u7528-babel-plugin-transform-runtime" tabindex="-1"><a class="header-anchor" href="#_2-9-7-\u4F7F\u7528-babel-plugin-transform-runtime" aria-hidden="true">#</a> 2.9.7 \u4F7F\u7528 @babel/plugin-transform-runtime</h4><h5 id="_2-9-7-1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u5B83" tabindex="-1"><a class="header-anchor" href="#_2-9-7-1-\u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u5B83" aria-hidden="true">#</a> 2.9.7.1 \u4E3A\u4EC0\u4E48\u8981\u4F7F\u7528\u5B83</h5><p>@babel/plugin-transform-runtime \u6709\u4E09\u5927\u4F5C\u7528</p><ul><li>\u81EA\u52A8\u79FB\u9664\u8BED\u6CD5\u8F6C\u6362\u540E\u5185\u8054\u7684\u8F85\u52A9\u51FD\u6570\uFF08inline Babel helpers\uFF09\uFF0C\u4F7F\u7528@babel/runtime/helpers \u91CC\u7684\u8F85\u52A9\u51FD\u6570\u6765\u66FF\u4EE3\u3002\u8FD9\u6837\u5C31\u51CF\u5C11\u4E86\u6211\u4EEC\u624B\u52A8\u5F15\u5165\u7684\u9EBB\u70E6\u3002</li><li>\u5F53\u4EE3\u7801\u91CC\u4F7F\u7528\u4E86 core-js \u7684 API\uFF0C\u81EA\u52A8\u5F15\u5165@babel/runtime-corejs3/core-js-stable/\uFF0C\u4EE5\u6B64\u6765\u66FF\u4EE3\u5168\u5C40\u5F15\u5165\u7684 core-js/stable;</li><li>\u5F53\u4EE3\u7801\u91CC\u4F7F\u7528\u4E86 Generator/async \u51FD\u6570\uFF0C\u81EA\u52A8\u5F15\u5165@babel/runtime/regenerator\uFF0C\u4EE5\u6B64\u6765\u66FF\u4EE3\u5168\u5C40\u5F15\u5165\u7684 regenerator-runtime/runtime\uFF1B</li></ul><ol><li><p>\u4F7F\u7528\u5982\u4E0B\u914D\u7F6E\u5176\u5B9E\u5DF2\u7ECF\u6EE1\u8DB3\u57FA\u672C\u9700\u6C42\u4E86</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">[</span>
			<span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token string-property property">&quot;useBuiltIns&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u5B9E\u73B0\u6309\u9700\u52A0\u8F7D</span>
				<span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
					<span class="token string-property property">&quot;proposals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// \u9700\u8981\u652F\u6301\u7684\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\uFF0C\u5982\u679C\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\u652F\u6301\u8BED\u6CD5\uFF0C\u5C31\u4F1A\u7565\u8FC7\u8F6C\u6362\u5904\u7406</span>
            <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
               <span class="token comment">// edge: &#39;17&#39;,</span>
				   <span class="token comment">// firefox: &#39;60&#39;,</span>
				   <span class="token comment">// chrome: &#39;67&#39;,</span>
				   <span class="token comment">// safari: &#39;11.1&#39;,</span>
            <span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><p>index.js \u4E2D\u5199\u5165\u5982\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">Person</span> <span class="token punctuation">{</span>
  <span class="token function">sayname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;name&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> john <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>john<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>,\u67E5\u770B\u6253\u5305\u540E\u7684\u7F16\u8BD1\u6548\u679C, \u5185\u5BB9\u5927\u6982\u7C7B\u4F3C\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/***/ &quot;./src/index.js&quot;:
/*!**********************!*\\
  !*** ./src/index.js ***!
  \\**********************/</span>
<span class="token doc-comment comment">/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) =&gt; <span class="token punctuation">{</span>

&quot;use strict&quot;;
__webpack_require__.r(__webpack_exports__);
/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es.object.to-string.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es.object.to-string.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_0__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es.promise.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es.promise.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es.array.map.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es.array.map.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_2__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es.object.define-property.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es.object.define-property.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es_object_define_property_js__WEBPACK_IMPORTED_MODULE_3__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token parameter">instance<span class="token punctuation">,</span> Constructor</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>instance <span class="token keyword">instanceof</span> <span class="token class-name">Constructor</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">&quot;Cannot call a class as a function&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> props<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">var</span> descriptor <span class="token operator">=</span> props<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span> descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span> descriptor<span class="token punctuation">.</span>configurable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span> <span class="token keyword">in</span> descriptor<span class="token punctuation">)</span> descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span>key<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_createClass</span><span class="token punctuation">(</span><span class="token parameter">Constructor<span class="token punctuation">,</span> protoProps<span class="token punctuation">,</span> staticProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>protoProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> protoProps<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>staticProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> staticProps<span class="token punctuation">)</span><span class="token punctuation">;</span> Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> <span class="token string">&quot;prototype&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> Constructor<span class="token punctuation">;</span> <span class="token punctuation">}</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Person <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">_classCallCheck</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token function">_createClass</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;sayname&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">sayname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> Person<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> john <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>john<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/***/ <span class="token punctuation">}</span>),
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div></li><li><p>\u53EF\u4EE5\u770B\u5230\u91CC\u9762\u58F0\u660E\u4E86\u5F88\u591A\u53D8\u91CF\u548C\u51FD\u6570\uFF0C\u8FD9\u4F1A\u4EA7\u751F\u4EE5\u4E0B\u95EE\u9898</p><ol><li>\u5982\u679C\u5176\u4ED6\u7684\u6587\u4EF6\u4E5F\u6709\u7C7B\u4F3C\u7684\u8BED\u6CD5\uFF0C\u5E76\u4E14\u6253\u5305\u540E\u662F\u4E24\u4E2A\u6587\u4EF6\uFF0C\u90A3\u4E48\u4E24\u4E2A\u6587\u4EF6\u4E2D\u90FD\u4F1A\u6709\u7C7B\u4F3C\u7684\u51FD\u6570\u548C\u53D8\u91CF\uFF0C\u8FD9\u6837\u4F1A\u5BFC\u81F4\u4EE3\u7801\u91CD\u590D\uFF0C\u5F71\u54CD\u6700\u7EC8\u4F53\u79EF\u7684\u95EE\u9898\u3002\u4E0D\u8FC7\u8FD9\u4E48\u591A\u7684\u8F85\u52A9\u51FD\u6570\uFF0C\u4E00\u4E2A\u4E2A\u8BB0\u4F4F\u5E76\u624B\u52A8\u5F15\u5165\uFF0C\u5E73\u5E38\u4EBA\u505A\u4E0D\u5230\uFF0CBabel \u63D2\u4EF6@babel/plugin-transform-runtime \u5C31\u6765\u5E2E\u6211\u4EEC\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898\u3002</li></ol></li></ol><h5 id="_2-9-7-2-\u521D\u6B65\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_2-9-7-2-\u521D\u6B65\u4F7F\u7528" aria-hidden="true">#</a> 2.9.7.2 \u521D\u6B65\u4F7F\u7528</h5><ol><li><p>\u66F4\u65B0 package.json \u6587\u4EF6\uFF0C\u66F4\u6539\u4E3A\u4EE5\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token literal-property property">proposals</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// \u9700\u8981\u652F\u6301\u7684\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\uFF0C\u5982\u679C\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\u652F\u6301\u8BED\u6CD5\uFF0C\u5C31\u4F1A\u7565\u8FC7\u8F6C\u6362\u5904\u7406</span>
        <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// edge: &#39;17&#39;,</span>
          <span class="token comment">// firefox: &#39;60&#39;,</span>
          <span class="token comment">// chrome: &#39;67&#39;,</span>
          <span class="token comment">// safari: &#39;11.1&#39;,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/plugin-transform-runtime&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>,\u67E5\u770B\u6253\u5305\u540E\u7684\u7F16\u8BD1\u6548\u679C, \u5185\u5BB9\u5927\u6982\u7C7B\u4F3C\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token doc-comment comment">/***/ &quot;./src/js/index.js&quot;:
/*!*************************!*\\
  !*** ./src/js/index.js ***!
  \\*************************/</span>
<span class="token doc-comment comment">/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) =&gt; <span class="token punctuation">{</span>

&quot;use strict&quot;;
__webpack_require__.r(__webpack_exports__);
/* harmony import */</span> <span class="token keyword">var</span> _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! @babel/runtime/helpers/classCallCheck */</span> <span class="token string">&quot;./node_modules/@babel/runtime/helpers/esm/classCallCheck.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! @babel/runtime/helpers/createClass */</span> <span class="token string">&quot;./node_modules/@babel/runtime/helpers/esm/createClass.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es.object.to-string.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es.object.to-string.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es_object_to_string_js__WEBPACK_IMPORTED_MODULE_2__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es.promise.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es.promise.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es_promise_js__WEBPACK_IMPORTED_MODULE_3__<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__ <span class="token operator">=</span> <span class="token function">__webpack_require__</span><span class="token punctuation">(</span><span class="token comment">/*! core-js/modules/es.array.map.js */</span> <span class="token string">&quot;./node_modules/core-js/modules/es.array.map.js&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/* harmony import */</span> <span class="token keyword">var</span> core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4___default <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span>__webpack_require__<span class="token punctuation">.</span><span class="token function">n</span><span class="token punctuation">(</span>core_js_modules_es_array_map_js__WEBPACK_IMPORTED_MODULE_4__<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> Person <span class="token operator">=</span> <span class="token comment">/*#__PURE__*/</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0__<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> Person<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span>_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1__<span class="token punctuation">[</span><span class="token string">&quot;default&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">(</span>Person<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">{</span>
    <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">&quot;sayname&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">value</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">sayname</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token string">&#39;name&#39;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> Person<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> john <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>john<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">...</span>
<span class="token keyword">function</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> props<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> descriptor <span class="token operator">=</span> props<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">=</span> descriptor<span class="token punctuation">.</span>enumerable <span class="token operator">||</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    descriptor<span class="token punctuation">.</span>configurable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&quot;value&quot;</span> <span class="token keyword">in</span> descriptor<span class="token punctuation">)</span> descriptor<span class="token punctuation">.</span>writable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> descriptor<span class="token punctuation">.</span>key<span class="token punctuation">,</span> descriptor<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">_createClass</span><span class="token punctuation">(</span><span class="token parameter">Constructor<span class="token punctuation">,</span> protoProps<span class="token punctuation">,</span> staticProps</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>protoProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span><span class="token class-name">Constructor</span><span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> protoProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>staticProps<span class="token punctuation">)</span> <span class="token function">_defineProperties</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> staticProps<span class="token punctuation">)</span><span class="token punctuation">;</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>Constructor<span class="token punctuation">,</span> <span class="token string">&quot;prototype&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> Constructor<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token doc-comment comment">/***/ <span class="token punctuation">}</span>),
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br></div></div></li><li><p>\u6B64\u65F6\u6211\u4EEC\u53D1\u73B0\u8F85\u52A9\u51FD\u6570\u5E76\u6CA1\u6709\u88AB\u63D0\u53D6\u51FA\u6765\uFF0C\u4ECD\u7136\u5728\u7F16\u8BD1\u540E\u7684\u4EE3\u7801\u4E2D\uFF0C\u6B64\u65F6\u9700\u8981\u5F15\u5165\u53E6\u4E00\u4E2A\u6A21\u5757<code>@babel/runtime</code></p></li></ol><h5 id="_2-9-7-3-babel-\u4E2D-plugins-\u548C-presets-\u7684\u533A\u522B" tabindex="-1"><a class="header-anchor" href="#_2-9-7-3-babel-\u4E2D-plugins-\u548C-presets-\u7684\u533A\u522B" aria-hidden="true">#</a> 2.9.7.3 Babel \u4E2D plugins \u548C presets \u7684\u533A\u522B</h5><h6 id="_2-9-7-3-1-plugin-\u4E0E-preset-\u6267\u884C\u987A\u5E8F" tabindex="-1"><a class="header-anchor" href="#_2-9-7-3-1-plugin-\u4E0E-preset-\u6267\u884C\u987A\u5E8F" aria-hidden="true">#</a> 2.9.7.3.1 Plugin \u4E0E Preset \u6267\u884C\u987A\u5E8F\uFF1A</h6><p>\u53EF\u4EE5\u540C\u65F6\u4F7F\u7528\u591A\u4E2A Plugin \u548C Preset\uFF0C\u6B64\u65F6\uFF0C\u5B83\u4EEC\u7684\u6267\u884C\u987A\u5E8F\u975E\u5E38\u91CD\u8981\u3002</p><ol><li><p><strong>\u5148\u6267\u884C\u5B8C\u6240\u6709 Plugin\uFF0C\u518D\u6267\u884C Preset\u3002</strong></p></li><li><p><strong>\u591A\u4E2A Plugin\uFF0C\u6309\u7167\u58F0\u660E\u6B21\u5E8F\u987A\u5E8F\u6267\u884C\u3002</strong></p></li><li><p><strong>\u591A\u4E2A Preset\uFF0C\u6309\u7167\u58F0\u660E\u6B21\u5E8F\u9006\u5E8F\u6267\u884C\u3002</strong></p></li></ol><h4 id="_2-9-8-webpack-\u5B9E\u73B0\u5BF9-react-\u6846\u67B6\u4EE3\u7801\u7684\u6253\u5305" tabindex="-1"><a class="header-anchor" href="#_2-9-8-webpack-\u5B9E\u73B0\u5BF9-react-\u6846\u67B6\u4EE3\u7801\u7684\u6253\u5305" aria-hidden="true">#</a> 2.9.8 Webpack \u5B9E\u73B0\u5BF9 React \u6846\u67B6\u4EE3\u7801\u7684\u6253\u5305</h4><ol><li><p>React \u662F\u4E00\u79CD\u6D41\u884C\u7684\u524D\u7AEF\u6846\u67B6\uFF0C\u5982\u4F55\u4F7F\u7528 webpack+babel \u5BF9 react \u8BED\u6CD5\u8FDB\u884C\u6253\u5305\u7F16\u8BD1\u5462</p></li><li><p>\u6211\u4EEC\u76EE\u524D\u53EA\u662F\u4E66\u5199\u4E5F\u65E0\u6587\u4EF6\uFF0C\u6240\u4EE5\u65E0\u9700\u4F7F\u7528 plugin-transform-runtime, \u53EA\u4F7F\u7528 preset-ent \u5373\u53EF\uFF0C\u5177\u4F53\u914D\u7F6E\u4FE1\u606F\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
	<span class="token string-property property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
		<span class="token punctuation">[</span>
			<span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				<span class="token string-property property">&quot;useBuiltIns&quot;</span><span class="token operator">:</span> <span class="token string">&quot;usage&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u5B9E\u73B0\u6309\u9700\u52A0\u8F7D</span>
				<span class="token string-property property">&quot;corejs&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
					<span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
					<span class="token string-property property">&quot;proposals&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// \u9700\u8981\u652F\u6301\u7684\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\uFF0C\u5982\u679C\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\u652F\u6301\u8BED\u6CD5\uFF0C\u5C31\u4F1A\u7565\u8FC7\u8F6C\u6362\u5904\u7406</span>
        <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// edge: &#39;17&#39;,</span>
          <span class="token comment">// firefox: &#39;60&#39;,</span>
          <span class="token comment">// chrome: &#39;67&#39;,</span>
          <span class="token comment">// safari: &#39;11.1&#39;,</span>
        <span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&#39;@babel/preset-react&#39;</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li><li><p>\u5B89\u88C5 react \u4F9D\u8D56\u6A21\u5757</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> react react-dom @babel/preset-react
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539 index.js \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> ReactDom <span class="token keyword">from</span> <span class="token string">&#39;react-dom/client&#39;</span>
<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Hello World<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">// \u6CE8\u610F index.html \u4E2D\u4FDD\u8BC1\u6709\u5143\u7D20id \u4E3A root</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> ReactDom<span class="token punctuation">.</span><span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>App<span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run dev</code>, \u67E5\u770B\u6D4F\u89C8\u5668\u8FD0\u884C\u6548\u679C</p></li><li><p>\u53EF\u4EE5\u770B\u5230\u6709 hello world \u663E\u793A</p></li></ol><h4 id="_2-9-9-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_2-9-9-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 2.9.9 \u53C2\u8003\u6587\u6863</h4>`,17),Vn={href:"https://mp.weixin.qq.com/s?__biz=Mzg3ODAyNDI0OQ==&mid=2247486933&idx=1&sn=50a9e7812f8bc60b95038283b15fab4b&chksm=cf1b4e83f86cc795bd8dc6da8e5b0007a835ac1314715326026e73f8eb2c3ceb53109fb3121e&mpshare=1&scene=1&srcid=0409aSB7Ktrj8y5vFbNND9Ra&sharer_sharetime=1649482090275&sharer_shareid=1d8b1570dbbf3ea076148a4c359b60bd#rd",target:"_blank",rel:"noopener noreferrer"},Yn=s("\u5F3A\u70C8\u63A8\u8350 1:\u300C\u524D\u7AEF\u57FA\u5EFA\u300D\u6DF1\u5165 Babel \u7684\u4E16\u754C"),Qn={href:"https://www.jiangruitao.com/babel/rudiments/",target:"_blank",rel:"noopener noreferrer"},Xn=s("\u5F3A\u70C8\u63A8\u8350 2:\u59DC\u745E\u6D9B\u7684\u5B98\u65B9\u7F51\u7AD9\u4E4B Babel \u6559\u7A0B"),Zn={href:"https://github.com/pigcan/blog/issues/26",target:"_blank",rel:"noopener noreferrer"},ns=s("\u5403\u4E00\u5811\u957F\u4E00\u667A\u7CFB\u5217: 99% \u5F00\u53D1\u8005\u6CA1\u5F04\u660E\u767D\u7684 babel \u77E5\u8BC6"),ss={href:"https://segmentfault.com/a/1190000021188054",target:"_blank",rel:"noopener noreferrer"},as=s("@babel/preset-env \u4E0E@babel/plugin-transform-runtime \u4F7F\u7528\u53CA\u573A\u666F\u533A\u522B"),ps={href:"https://github.com/SunshowerC/blog/issues/5",target:"_blank",rel:"noopener noreferrer"},es=s("Show me the code\uFF0Cbabel 7 \u6700\u4F73\u5B9E\u8DF5"),ts={href:"https://juejin.cn/post/6845166891015602190",target:"_blank",rel:"noopener noreferrer"},os=s("\u7528\u4E86 babel \u8FD8\u9700\u8981 polyfill \u5417\uFF1F\uFF1F\uFF1F"),cs={href:"https://blog.hhking.cn/2019/04/02/babel-v7-update/",target:"_blank",rel:"noopener noreferrer"},ls=s("Babel 7 \u5347\u7EA7\u5B9E\u8DF5"),rs={href:"https://juejin.cn/post/6844904199554072583",target:"_blank",rel:"noopener noreferrer"},us=s("\u5173\u4E8E babel \u7684\u8BE6\u7EC6\u89E3\u8BFB(\u7CBE\u534E\u53C8\u901A\u4FD7)"),is={href:"https://blog.csdn.net/m0_37846579/article/details/103379084?spm=1001.2101.3001.6661.1&utm_medium=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_aa&depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-2%7Edefault%7ECTRLIST%7ERate-1.pc_relevant_aa&utm_relevant_index=1",target:"_blank",rel:"noopener noreferrer"},ks=s("@babel/preset-env \u4E0E@babel/plugin-transform-runtime \u4F7F\u7528\u53CA\u573A\u666F\u533A\u522B"),bs=e(`<h2 id="_3\u3001\u9AD8\u7EA7\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#_3\u3001\u9AD8\u7EA7\u6982\u5FF5" aria-hidden="true">#</a> 3\u3001\u9AD8\u7EA7\u6982\u5FF5</h2><h3 id="_3-1-tree-shaking-\u6982\u5FF5\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#_3-1-tree-shaking-\u6982\u5FF5\u8BE6\u89E3" aria-hidden="true">#</a> 3.1 Tree Shaking \u6982\u5FF5\u8BE6\u89E3</h3><h4 id="_3-1-1-\u5B9A\u4E49" tabindex="-1"><a class="header-anchor" href="#_3-1-1-\u5B9A\u4E49" aria-hidden="true">#</a> 3.1.1 \u5B9A\u4E49</h4><blockquote><p><em>tree shaking</em> \u662F\u4E00\u4E2A\u672F\u8BED\uFF0C\u901A\u5E38\u7528\u4E8E\u63CF\u8FF0\u79FB\u9664 JavaScript \u4E0A\u4E0B\u6587\u4E2D\u7684\u672A\u5F15\u7528\u4EE3\u7801(dead-code)\u3002\u5177\u4F53\u6765\u8BF4\uFF0C\u5728 webpack \u9879\u76EE\u4E2D\uFF0C\u6709\u4E00\u4E2A\u5165\u53E3\u6587\u4EF6\uFF0C\u76F8\u5F53\u4E8E\u4E00\u68F5\u6811\u7684\u4E3B\u5E72\uFF0C\u5165\u53E3\u6587\u4EF6\u6709\u5F88\u591A\u4F9D\u8D56\u7684\u6A21\u5757\uFF0C\u76F8\u5F53\u4E8E\u6811\u679D\u3002\u5B9E\u9645\u60C5\u51B5\u4E2D\uFF0C\u867D\u7136\u4F9D\u8D56\u4E86\u67D0\u4E2A\u6A21\u5757\uFF0C\u4F46\u5176\u5B9E\u53EA\u4F7F\u7528\u5176\u4E2D\u7684\u67D0\u4E9B\u529F\u80FD\u3002\u901A\u8FC7 tree-shaking\uFF0C\u5C06\u6CA1\u6709\u4F7F\u7528\u7684\u6A21\u5757\u6447\u6389\uFF0C\u8FD9\u6837\u6765\u8FBE\u5230\u5220\u9664\u65E0\u7528\u4EE3\u7801\u7684\u76EE\u7684\u3002</p></blockquote><h4 id="_3-1-2-\u4E3A\u4EC0\u4E48-tree-shaking-\u662F\u6700\u8FD1\u51E0\u5E74\u6D41\u884C\u8D77\u6765\u4E86" tabindex="-1"><a class="header-anchor" href="#_3-1-2-\u4E3A\u4EC0\u4E48-tree-shaking-\u662F\u6700\u8FD1\u51E0\u5E74\u6D41\u884C\u8D77\u6765\u4E86" aria-hidden="true">#</a> 3.1.2 \u4E3A\u4EC0\u4E48 tree-shaking \u662F\u6700\u8FD1\u51E0\u5E74\u6D41\u884C\u8D77\u6765\u4E86</h4><p>\u524D\u7AEF\u6A21\u5757\u5316\u6982\u5FF5\u5DF2\u7ECF\u6709\u5F88\u591A\u5E74\u5386\u53F2\u4E86\uFF0C\u8FD9\u662F\u56E0\u4E3A <code>tree-shaking</code> \u7684\u6D88\u9664\u539F\u7406\u662F\u4F9D\u8D56\u4E8E ES6 \u7684\u6A21\u5757\u7279\u6027\u3002</p><ol><li><p>ES6 module \u7279\u70B9\uFF1A</p><ul><li>\u80FD\u4F5C\u4E3A\u6A21\u5757\u9876\u5C42\u7684\u8BED\u53E5\u51FA\u73B0</li><li>import \u7684\u6A21\u5757\u540D\u53EA\u80FD\u662F\u5B57\u7B26\u4E32\u5E38\u91CF</li><li>import binding \u662F immutable(\u4E0D\u53EF\u66F4\u6539) \u7684</li></ul><p>ES6 \u6A21\u5757\u4F9D\u8D56\u5173\u7CFB\u662F\u786E\u5B9A\u7684\uFF0C\u548C\u8FD0\u884C\u65F6\u7684\u72B6\u6001\u65E0\u5173\uFF0C\u53EF\u4EE5\u8FDB\u884C\u53EF\u9760\u7684\u9759\u6001\u5206\u6790\uFF0C\u8FD9\u5C31\u662F tree-shaking \u7684\u57FA\u7840\u3002\u6240\u8C13\u9759\u6001\u5206\u6790\u5C31\u662F\u4E0D\u6267\u884C\u4EE3\u7801\uFF0C\u4ECE\u5B57\u9762\u91CF\u4E0A\u5BF9\u4EE3\u7801\u8FDB\u884C\u5206\u6790\uFF0CES6 \u4E4B\u524D\u7684\u6A21\u5757\u5316\uFF0C\u6BD4\u5982\u6211\u4EEC\u53EF\u4EE5\u52A8\u6001 require \u4E00\u4E2A\u6A21\u5757\uFF0C\u53EA\u6709\u6267\u884C\u540E\u624D\u77E5\u9053\u5F15\u7528\u7684\u4EC0\u4E48\u6A21\u5757\uFF0C\u8FD9\u4E2A\u5C31\u4E0D\u80FD\u901A\u8FC7\u9759\u6001\u5206\u6790\u53BB\u505A\u4F18\u5316\u3002</p></li></ol><h4 id="_3-1-3-\u4F7F\u7528\u4E3E\u4F8B" tabindex="-1"><a class="header-anchor" href="#_3-1-3-\u4F7F\u7528\u4E3E\u4F8B" aria-hidden="true">#</a> 3.1.3 \u4F7F\u7528\u4E3E\u4F8B</h4><ol><li><p>\u65B0\u5EFA math.js \u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;add&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">minus</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;minus&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>index.js \u4E2D\u5F15\u5165 math.js \u7684 add \u51FD\u6570\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// Tree Shaking \u53EA\u652F\u6301 ES Module</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./math&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u5176\u4E2D babel \u7684\u914D\u7F6E\u6587\u4EF6 babel.config.js \u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// presets \u6267\u884C\u987A\u5E8F\u662F\u4ECE\u540E\u5F80\u524D\u6267\u884C</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token literal-property property">proposals</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// 	// \u9700\u8981\u652F\u6301\u7684\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\uFF0C\u5982\u679C\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\u652F\u6301\u8BED\u6CD5\uFF0C\u5C31\u4F1A\u7565\u8FC7\u8F6C\u6362\u5904\u7406</span>
        <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token string">&#39;8&#39;</span><span class="token punctuation">,</span>
          <span class="token comment">// 		// edge: &#39;17&#39;,</span>
          <span class="token comment">// 		// firefox: &#39;60&#39;,</span>
          <span class="token comment">// 		// chrome: &#39;67&#39;,</span>
          <span class="token comment">// 		// safari: &#39;11.1&#39;,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li><li><p>\u8FD9\u91CC\u8981\u533A\u5206\u5F00\u53D1\u73AF\u5883\u548C\u751F\u4EA7\u73AF\u5883</p><p>\u5F00\u53D1\u73AF\u5883\u4E0B</p></li><li><p>webpack.config.js \u914D\u7F6E\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> HotModuleReplacementPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bundle</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u8FC7\u6807\u8BB0\u67D0\u4E9B\u51FD\u6570\u662F\u5426\u88AB\u4F7F\u7528\uFF0C\u4E4B\u540E\u901A\u8FC7Terser\u6765\u8FDB\u884C\u4F18\u5316\u7684</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u901A\u8FC7import \u52A0\u8F7D\u7684less\u6587\u4EF6\u4E5F\u9700\u8981\u6267\u884C\u524D\u4E24\u4E2Aloader</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">//  \u6216\u8005\u4F7F\u7528 PostCSS \u672C\u8EAB\u7684 \u914D\u7F6E\u6587\u4EF6\uFF1Apostcss.config.js</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token string">&#39;only&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>,\u67E5\u770B\u6253\u5305\u540E\u7684\u7F16\u8BD1\u6548\u679C, \u5185\u5BB9\u5927\u6982\u7C7B\u4F3C\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	<span class="token doc-comment comment">/***/ &#39;./src/js/math.js&#39;:
			/*!************************!*\\
  !*** ./src/js/math.js ***!
  \\************************/</span>
			<span class="token doc-comment comment">/***/ (__unused_webpack_module, __webpack_exports__, __webpack_require__) =&gt; <span class="token punctuation">{</span>
				eval(
					&quot;/* harmony export */</span> __webpack_require__<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>__webpack_exports__<span class="token punctuation">,</span> <span class="token punctuation">{</span>\\n<span class="token comment">/* harmony export */</span>   \\<span class="token string">&quot;add\\&quot;: () =&gt; (/* binding */ add)\\n/* harmony export */ });\\n/* unused harmony export minus */\\nvar add = function add(a, b) {\\n  console.log(&#39;add&#39;);\\n  return a + b;\\n};\\nvar minus = function minus(a, b) {\\n  console.log(&#39;minus&#39;);\\n  return a - b;\\n};\\n\\n//# sourceURL=webpack://webpack-demo/./src/js/math.js?&quot;</span>
				<span class="token punctuation">)</span>

				<span class="token doc-comment comment">/***/
			<span class="token punctuation">}</span>,
</span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u8FD9\u91CC\u53D1\u73B0\u4E24\u4E2A\u6A21\u5757\u5747\u88AB\u6253\u5305\u8FDB\u5165\u4E86\uFF0C\u4F46\u662F\u6709\u4E00\u4E2A\u6807\u8BB0(unused harmony export minus),\u8868\u793A\u6CA1\u6709\u7528\u8FC7\u7684\u6A21\u5757( \u5728 usedExports \u8BBE\u7F6E\u4E3A true \u65F6\uFF0C\u4F1A\u6709\u4E00\u6BB5\u6CE8\u91CA\uFF1Aunused harmony export mul\uFF1B\u8FD9\u6BB5\u6CE8\u91CA\u7684\u610F\u4E49\u662F\u4EC0\u4E48\u5462\uFF1F\u544A\u77E5 Terser \u5728\u4F18\u5316\u65F6\uFF0C\u53EF\u4EE5\u5220\u9664\u6389\u8FD9\u6BB5\u4EE3\u7801; usedExports \u5B9E\u73B0 Tree Shaking \u662F\u7ED3\u5408 Terser \u6765\u5B8C\u6210\u7684\u3002)</p></li></ol><p>\u751F\u4EA7\u73AF\u5883\u4E0B</p><ol start="5"><li><p>webpack.config.js \u7684\u914D\u7F6E\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> HotModuleReplacementPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bundle</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u901A\u8FC7import \u52A0\u8F7D\u7684less\u6587\u4EF6\u4E5F\u9700\u8981\u6267\u884C\u524D\u4E24\u4E2Aloader</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">//  \u6216\u8005\u4F7F\u7528 PostCSS \u672C\u8EAB\u7684 \u914D\u7F6E\u6587\u4EF6\uFF1Apostcss.config.js</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token string">&#39;only&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>,\u67E5\u770B\u6253\u5305\u540E\u7684\u7F16\u8BD1\u6548\u679C, \u5185\u5BB9\u5927\u6982\u7C7B\u4F3C\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string">&#39;use strict&#39;</span> <span class="token keyword">var</span> e<span class="token punctuation">,</span>r<span class="token punctuation">,</span>n <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token number">782</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;add&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">}</span><span class="token punctuation">,</span>t <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u5168\u5C40\u4E2D\u641C\u4E0D\u5230 miuns \u51FD\u6570\u4E2D\u7684 console.log(&quot;miuns&quot;),\u8BF4\u660E\u6B64\u51FD\u6570\u5728\u751F\u4EA7\u73AF\u5883\u4E0B\u6CA1\u6709\u88AB\u7F16\u8BD1\u8FDB\u5165\u3002\u5DF2\u7ECF\u88AB\u5FFD\u7565\u4E86</p></li></ol><h4 id="_3-1-4-usedexports\u3001sideeffects" tabindex="-1"><a class="header-anchor" href="#_3-1-4-usedexports\u3001sideeffects" aria-hidden="true">#</a> 3.1.4 <strong>usedExports</strong>\u3001<strong>sideEffects</strong></h4><p>\u4E8B\u5B9E\u4E0A webpack \u5B9E\u73B0 Tree Shaking \u91C7\u7528\u4E86\u4E24\u79CD\u4E0D\u540C\u7684\u65B9\u6848\uFF1A</p><ul><li>usedExports\uFF1A\u901A\u8FC7\u6807\u8BB0\u67D0\u4E9B\u51FD\u6570\u662F\u5426\u88AB\u4F7F\u7528\uFF0C\u4E4B\u540E\u901A\u8FC7 Terser \u6765\u8FDB\u884C\u4F18\u5316\u7684\uFF1B</li><li>sideEffects\uFF1A\u8DF3\u8FC7\u6574\u4E2A\u6A21\u5757/\u6587\u4EF6\uFF0C\u76F4\u63A5\u67E5\u770B\u8BE5\u6587\u4EF6\u662F\u5426\u6709\u526F\u4F5C\u7528\uFF1B</li></ul><ol><li><p><strong>usedExports</strong></p><p>\u5C06 mode \u8BBE\u7F6E\u4E3A development \u6A21\u5F0F\uFF1A</p><ul><li>\u4E3A\u4E86\u53EF\u4EE5\u770B\u5230 usedExports \u5E26\u6765\u7684\u6548\u679C\uFF0C\u6211\u4EEC\u9700\u8981\u8BBE\u7F6E\u4E3A development \u6A21\u5F0F</li><li>\u56E0\u4E3A\u5728 production \u6A21\u5F0F\u4E0B\uFF0Cwebpack \u9ED8\u8BA4\u7684\u4E00\u4E9B\u4F18\u5316\u4F1A\u5E26\u6765\u5F88\u5927\u989D\u5F71\u54CD\u3002</li></ul><p>\u8BBE\u7F6E usedExports \u4E3A true \u548C false \u5BF9\u6BD4\u6253\u5305\u540E\u7684\u4EE3\u7801</p><ul><li>\u5728 usedExports \u8BBE\u7F6E\u4E3A true \u65F6\uFF0C\u4F1A\u6709\u4E00\u6BB5\u6CE8\u91CA\uFF1Aunused harmony export mul\uFF1B</li><li>\u8FD9\u6BB5\u6CE8\u91CA\u7684\u610F\u4E49\u662F\u4EC0\u4E48\u5462\uFF1F\u544A\u77E5 Terser \u5728\u4F18\u5316\u65F6\uFF0C\u53EF\u4EE5\u5220\u9664\u6389\u8FD9\u6BB5\u4EE3\u7801\uFF1B</li></ul><p>\u8FD9\u4E2A\u65F6\u5019\uFF0C\u6211\u4EEC\u8BB2 minimize \u8BBE\u7F6E true\uFF1A</p><ul><li>usedExports \u8BBE\u7F6E\u4E3A false \u65F6\uFF0Cmul \u51FD\u6570\u6CA1\u6709\u88AB\u79FB\u9664\u6389\uFF1B</li><li>usedExports \u8BBE\u7F6E\u4E3A true \u65F6\uFF0Cmul \u51FD\u6570\u6709\u88AB\u79FB\u9664\u6389\uFF1B</li></ul><p>\u6240\u4EE5\uFF0CusedExports \u5B9E\u73B0 Tree Shaking \u662F\u7ED3\u5408 Terser \u6765\u5B8C\u6210\u7684\u3002</p></li><li><p><strong>sideEffects</strong></p><p>sideEffects \u7528\u4E8E\u544A\u77E5 webpack compiler \u54EA\u4E9B\u6A21\u5757\u65F6\u6709\u526F\u4F5C\u7528\u7684\uFF1A</p><ul><li>\u526F\u4F5C\u7528\u7684\u610F\u601D\u662F\u8FD9\u91CC\u9762\u7684\u4EE3\u7801\u6709\u6267\u884C\u4E00\u4E9B\u7279\u6B8A\u7684\u4EFB\u52A1\uFF0C\u4E0D\u80FD\u4EC5\u4EC5\u901A\u8FC7 export \u6765\u5224\u65AD\u8FD9\u6BB5\u4EE3\u7801\u7684\u610F\u4E49\uFF1B</li><li>\u526F\u4F5C\u7528\u7684\u95EE\u9898\uFF0C\u5728\u8BB2 React \u7684\u7EAF\u51FD\u6570\u65F6\u662F\u6709\u8BB2\u8FC7\u7684\uFF1B</li></ul><p>\u5728 package.json \u4E2D\u8BBE\u7F6E sideEffects \u7684\u503C\uFF1A</p><ul><li>\u5982\u679C\u6211\u4EEC\u5C06 sideEffects \u8BBE\u7F6E\u4E3A false\uFF0C\u5C31\u662F\u544A\u77E5 webpack \u53EF\u4EE5\u5B89\u5168\u7684\u5220\u9664\u672A\u7528\u5230\u7684 exports\uFF1B</li><li>\u5982\u679C\u6709\u4E00\u4E9B\u6211\u4EEC\u5E0C\u671B\u4FDD\u7559\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u4E3A\u6570\u7EC4\uFF1B</li></ul><p>\u6BD4\u5982\u6211\u4EEC\u6709\u4E00\u4E2A format.js\u3001style.css \u6587\u4EF6\uFF1A</p><ul><li>\u8BE5\u6587\u4EF6\u5728\u5BFC\u5165\u65F6\u6CA1\u6709\u4F7F\u7528\u4EFB\u4F55\u7684\u53D8\u91CF\u6765\u63A5\u53D7\uFF1B</li><li>\u90A3\u4E48\u6253\u5305\u540E\u7684\u6587\u4EF6\uFF0C\u4E0D\u4F1A\u4FDD\u7559 format.js\u3001style.css \u76F8\u5173\u7684\u4EFB\u4F55\u4EE3\u7801\uFF1B</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
	<span class="token string">&quot;./src/util/format.js&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;*.css&quot;</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p><strong>Webpack \u4E2D tree shaking \u7684\u8BBE\u7F6E</strong></p><p>\u6240\u4EE5\uFF0C\u5982\u4F55\u5728\u9879\u76EE\u4E2D\u5BF9 JavaScript \u7684\u4EE3\u7801\u8FDB\u884C TreeShaking \u5462\uFF08\u751F\u6210\u73AF\u5883\uFF09\uFF1F</p><ul><li><p>\u5728 optimization \u4E2D\u914D\u7F6E usedExports \u4E3A true\uFF0C\u6765\u5E2E\u52A9 Terser \u8FDB\u884C\u4F18\u5316\uFF1B</p></li><li><p>\u5728 package.json \u4E2D\u914D\u7F6E sideEffects\uFF0C\u76F4\u63A5\u5BF9\u6A21\u5757\u8FDB\u884C\u4F18\u5316\uFF1B</p></li></ul></li></ol><h3 id="_3-2-develoment-\u548C-production-\u6A21\u5F0F\u7684\u533A\u5206\u6253\u5305" tabindex="-1"><a class="header-anchor" href="#_3-2-develoment-\u548C-production-\u6A21\u5F0F\u7684\u533A\u5206\u6253\u5305" aria-hidden="true">#</a> 3.2 Develoment \u548C Production \u6A21\u5F0F\u7684\u533A\u5206\u6253\u5305</h3><h4 id="_3-2-1-\u5206\u79BB\u7684\u914D\u7F6E\u6587\u4EF6" tabindex="-1"><a class="header-anchor" href="#_3-2-1-\u5206\u79BB\u7684\u914D\u7F6E\u6587\u4EF6" aria-hidden="true">#</a> 3.2.1 \u5206\u79BB\u7684\u914D\u7F6E\u6587\u4EF6</h4><ol><li><p>\u5B9E\u9645\u5F00\u53D1\u4E2D\u8981\u533A\u5206 development\u3001production \u6A21\u5F0F\uFF0C\u6240\u4EE5\u914D\u7F6E\u6587\u4EF6\u9700\u8981\u5206\u79BB\u5F00</p></li><li><p>\u65B0\u5EFA\u5F00\u53D1\u73AF\u5883\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6 webpack.dev.js\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> HotModuleReplacementPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// development \u9ED8\u8BA4\u6CA1\u6709 tree shaking</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;eval-cheap-module-source-map&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bundle</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// publicPath: &#39;https://xxcdn.com/&#39;,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u5F15\u5165\u6A21\u5757\u5316\uFF0C</span>
              <span class="token comment">// modules: true,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u901A\u8FC7import \u52A0\u8F7D\u7684less\u6587\u4EF6\u4E5F\u9700\u8981\u6267\u884C\u524D\u4E24\u4E2Aloader</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">//  \u6216\u8005\u4F7F\u7528 PostCSS \u672C\u8EAB\u7684 \u914D\u7F6E\u6587\u4EF6\uFF1Apostcss.config.js</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token string">&#39;only&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br></div></div></li><li><p>\u65B0\u5EFA\u751F\u4EA7\u73AF\u5883\u914D\u7F6E\u6587\u4EF6 webpack.prod.js, \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> HotModuleReplacementPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;nosources-source-map&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bundle</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// publicPath: &#39;https://xxcdn.com/&#39;,</span>
    <span class="token comment">// filename: &#39;bundle.js&#39;,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// generator: {</span>
        <span class="token comment">// 	filename: &#39;images/[name][ext]&#39;,</span>
        <span class="token comment">// },</span>
        <span class="token comment">// use: {</span>
        <span class="token comment">// 	loader: &#39;file-loader&#39;,</span>
        <span class="token comment">// 	options: {</span>
        <span class="token comment">// 		esModule: false,</span>
        <span class="token comment">// 		// placeholder \u5360\u4F4D\u7B26</span>
        <span class="token comment">// 		name: &#39;[name].[ext]&#39;,</span>
        <span class="token comment">// 		// \u8BBE\u7F6E\u6253\u5305\u540E\u7684\u6587\u4EF6\u5939</span>
        <span class="token comment">// 		outputPath: &#39;images/&#39;,</span>
        <span class="token comment">// 	},</span>
        <span class="token comment">// },</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u5F15\u5165\u6A21\u5757\u5316\uFF0C</span>
              <span class="token comment">// modules: true,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u901A\u8FC7import \u52A0\u8F7D\u7684less\u6587\u4EF6\u4E5F\u9700\u8981\u6267\u884C\u524D\u4E24\u4E2Aloader</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">//  \u6216\u8005\u4F7F\u7528 PostCSS \u672C\u8EAB\u7684 \u914D\u7F6E\u6587\u4EF6\uFF1Apostcss.config.js</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br></div></div></li><li><p>\u76F8\u5E94\u7F16\u8BD1\u65F6\u5019\u7684\u547D\u4EE4\u66F4\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config webpack.dev.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.prod.js&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li></ol><h4 id="_3-2-2-\u5982\u4F55\u5408\u5E76\u76F8\u540C\u90E8\u5206-\u5206\u79BB\u5DEE\u5F02\u90E8\u5206" tabindex="-1"><a class="header-anchor" href="#_3-2-2-\u5982\u4F55\u5408\u5E76\u76F8\u540C\u90E8\u5206-\u5206\u79BB\u5DEE\u5F02\u90E8\u5206" aria-hidden="true">#</a> 3.2.2 \u5982\u4F55\u5408\u5E76\u76F8\u540C\u90E8\u5206\uFF0C\u5206\u79BB\u5DEE\u5F02\u90E8\u5206</h4><blockquote><p>\u6D89\u53CA\u5230 webpack-merge, \u5E2E\u52A9\u6211\u4EEC\u5408\u5E76\u76F8\u5173\u914D\u7F6E</p><p>\u5B89\u88C5\u547D\u4EE4\uFF1Anpm install webpack-merge</p></blockquote><ol><li><p>\u65B0\u5EFA webpack.common.js \u6587\u4EF6\uFF0C\u6587\u4EF6\u5185\u5BB9\uFF08\u662F\u76F8\u540C\u7684\u90E8\u5206\uFF09\u5982\u4E0B\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bundle</span><span class="token operator">:</span> <span class="token string">&#39;./src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;./&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span> <span class="token string">&#39;images/[name][ext]&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
        <span class="token comment">// generator: {</span>
        <span class="token comment">// 	filename: &#39;images/[name][ext]&#39;,</span>
        <span class="token comment">// },</span>
        <span class="token comment">// use: {</span>
        <span class="token comment">// 	loader: &#39;file-loader&#39;,</span>
        <span class="token comment">// 	options: {</span>
        <span class="token comment">// 		esModule: false,</span>
        <span class="token comment">// 		// placeholder \u5360\u4F4D\u7B26</span>
        <span class="token comment">// 		name: &#39;[name].[ext]&#39;,</span>
        <span class="token comment">// 		// \u8BBE\u7F6E\u6253\u5305\u540E\u7684\u6587\u4EF6\u5939</span>
        <span class="token comment">// 		outputPath: &#39;images/&#39;,</span>
        <span class="token comment">// 	},</span>
        <span class="token comment">// },</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.ts$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u5F15\u5165\u6A21\u5757\u5316\uFF0C</span>
              <span class="token comment">// modules: true,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&#39;style-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// \u901A\u8FC7import \u52A0\u8F7D\u7684less\u6587\u4EF6\u4E5F\u9700\u8981\u6267\u884C\u524D\u4E24\u4E2Aloader</span>
              <span class="token literal-property property">importLoaders</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
              <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;postcss-loader&#39;</span><span class="token punctuation">,</span>
            <span class="token comment">//  \u6216\u8005\u4F7F\u7528 PostCSS \u672C\u8EAB\u7684 \u914D\u7F6E\u6587\u4EF6\uFF1Apostcss.config.js</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">postcssOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;autoprefixer&#39;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br></div></div></li><li><p>\u5F00\u53D1\u73AF\u5883\u4E0B\u7684\u914D\u7F6E\u6587\u4EF6 webpack.dev.js\uFF0C\u5185\u5BB9\u7CBE\u7B80\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> HotModuleReplacementPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.common.js&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;eval-cheap-module-source-map&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">usedExports</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">open</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token string">&#39;only&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> devConfig<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><p>\u751F\u4EA7\u73AF\u5883\u914D\u7F6E\u6587\u4EF6 webpack.prod.js, \u5185\u5BB9\u7CBE\u7B80\u5982\u4E0B</p><div class="language-JavaScript ext-JavaScript line-numbers-mode"><pre class="language-JavaScript"><code>const commonConfig = require(&#39;./webpack.common.js&#39;)
const { merge } = require(&quot;webpack-merge&quot;)
const prodConfig = {
	mode: &#39;production&#39;,
	devtool: &#39;nosources-source-map&#39;,
}
module.exports = merge(commonConfig, prodConfig )
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u5176\u4ED6\u7684\u6253\u5305\u547D\u4EE4\u4E0D\u53D8</p></li></ol><h3 id="_3-3-webpack-\u548C-code-splitting" tabindex="-1"><a class="header-anchor" href="#_3-3-webpack-\u548C-code-splitting" aria-hidden="true">#</a> 3.3 Webpack \u548C Code Splitting</h3><h4 id="_3-2-3-1-code-splitting-\u662F\u4EC0\u4E48\u4EE5\u53CA\u4E3A\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_3-2-3-1-code-splitting-\u662F\u4EC0\u4E48\u4EE5\u53CA\u4E3A\u4EC0\u4E48" aria-hidden="true">#</a> 3.2.3.1 Code Splitting \u662F\u4EC0\u4E48\u4EE5\u53CA\u4E3A\u4EC0\u4E48</h4><blockquote><p>\u5728\u4EE5\u524D\uFF0C\u4E3A\u4E86\u51CF\u5C11 HTTP \u8BF7\u6C42\uFF0C\u901A\u5E38\u5730\uFF0C\u6211\u4EEC\u90FD\u4F1A\u628A\u6240\u6709\u7684\u4EE3\u7801\u90FD\u6253\u5305\u6210\u4E00\u4E2A\u5355\u72EC\u7684 JS \u6587\u4EF6\u3002\u4F46\u662F\uFF0C\u5982\u679C\u8FD9\u4E2A JS \u6587\u4EF6\u4F53\u79EF\u5F88\u5927\u7684\u8BDD\uFF0C\u90A3\u5C31\u5F97\u4E0D\u507F\u5931\u4E86\u3002</p><p>\u8FD9\u65F6\uFF0C\u6211\u4EEC\u4E0D\u59A8\u628A\u6240\u6709\u4EE3\u7801\u5206\u6210\u4E00\u5757\u4E00\u5757\uFF0C\u9700\u8981\u67D0\u5757\u4EE3\u7801\u7684\u65F6\u5019\u518D\u53BB\u52A0\u8F7D\u5B83\uFF1B\u8FD8\u53EF\u4EE5\u5229\u7528\u6D4F\u89C8\u5668\u7684\u7F13\u5B58\uFF0C\u4E0B\u6B21\u7528\u5230\u5B83\u7684\u8BDD\uFF0C\u76F4\u63A5\u4ECE\u7F13\u5B58\u4E2D\u8BFB\u53D6\u3002\u5F88\u663E\u7136\uFF0C\u8FD9\u79CD\u505A\u6CD5\u53EF\u4EE5\u52A0\u5FEB\u6211\u4EEC\u7F51\u9875\u7684\u52A0\u8F7D\u901F\u5EA6\uFF0C\u7F8E\u6ECB\u6ECB\uFF01</p></blockquote><h4 id="_3-2-3-2-code-splitting-\u600E\u4E48\u505A" tabindex="-1"><a class="header-anchor" href="#_3-2-3-2-code-splitting-\u600E\u4E48\u505A" aria-hidden="true">#</a> 3.2.3.2 Code Splitting \u600E\u4E48\u505A</h4><p>\u4E3B\u8981\u6709 2 \u79CD\u65B9\u5F0F\uFF1A</p>`,26),ds={href:"https://webpack.js.org/guides/code-splitting/#resource-splitting-for-caching-and-parallel-loads",target:"_blank",rel:"noopener noreferrer"},ms=s("\u5206\u79BB\u4E1A\u52A1\u4EE3\u7801\u548C\u7B2C\u4E09\u65B9\u5E93"),gs=s("\uFF08 vendor \uFF09: \u4E4B\u6240\u4EE5\u628A\u4E1A\u52A1\u4EE3\u7801\u548C\u7B2C\u4E09\u65B9\u5E93\u4EE3\u7801\u5206\u79BB\u51FA\u6765\uFF0C\u662F\u56E0\u4E3A\u4EA7\u54C1\u7ECF\u7406\u7684\u9700\u6C42\u662F\u6E90\u6E90\u4E0D\u65AD\u7684\uFF0C\u56E0\u6B64\u4E1A\u52A1\u4EE3\u7801\u66F4\u65B0\u9891\u7387\u5927\uFF0C\u76F8\u53CD\u7B2C\u4E09\u65B9\u5E93\u4EE3\u7801\u66F4\u65B0\u8FED\u4EE3\u76F8\u5BF9\u8F83\u6162\u4E14\u53EF\u4EE5\u9501\u7248\u672C\uFF0C\u6240\u4EE5\u53EF\u4EE5\u5145\u5206\u5229\u7528\u6D4F\u89C8\u5668\u7684\u7F13\u5B58\u6765\u52A0\u8F7D\u8FD9\u4E9B\u7B2C\u4E09\u65B9\u5E93\u3002"),hs={href:"https://webpack.js.org/guides/code-splitting/#resource-splitting-for-caching-and-parallel-loads",target:"_blank",rel:"noopener noreferrer"},ys=s("\u6309\u9700\u52A0\u8F7D"),_s=s("\uFF08\u5229\u7528 "),vs={href:"https://github.com/tc39/proposal-dynamic-import",target:"_blank",rel:"noopener noreferrer"},fs=s("import()"),js=s(" \u8BED\u6CD5\uFF09:\u800C\u6309\u9700\u52A0\u8F7D\u7684\u9002\u7528\u573A\u666F\uFF0C\u6BD4\u5982\u8BF4\u300C\u8BBF\u95EE\u67D0\u4E2A\u8DEF\u7531\u7684\u65F6\u5019\u518D\u53BB\u52A0\u8F7D\u5BF9\u5E94\u7684\u7EC4\u4EF6\u300D\uFF0C\u7528\u6237\u4E0D\u4E00\u5B9A\u4F1A\u8BBF\u95EE\u6240\u6709\u7684\u8DEF\u7531\uFF0C\u6240\u4EE5\u6CA1\u5FC5\u8981\u628A\u6240\u6709\u8DEF\u7531\u5BF9\u5E94\u7684\u7EC4\u4EF6\u90FD\u5148\u5728\u5F00\u59CB\u7684\u52A0\u8F7D\u5B8C\uFF1B\u66F4\u5178\u578B\u7684\u4F8B\u5B50\u662F\u300C\u67D0\u4E9B\u7528\u6237\u4ED6\u4EEC\u7684\u6743\u9650\u53EA\u80FD\u8BBF\u95EE\u67D0\u4E9B\u9875\u9762\u300D\uFF0C\u6240\u4EE5\u6CA1\u5FC5\u8981\u628A\u4ED6\u4EEC\u6CA1\u6743\u9650\u8BBF\u95EE\u7684\u9875\u9762\u7684\u4EE3\u7801\u4E5F\u52A0\u8F7D\u3002"),ws=n("ol",null,[n("li",null,"\u5047\u8BBE\u6211\u4EEC\u7684\u9879\u76EE\u4E2D\u4F7F\u7528\u4E86 vue\u3001lodash\u3001element-ui \u7B49\u4E09\u65B9\u4F9D\u8D56\uFF0C\u5982\u679C\u4E0D\u4F7F\u7528 code spliting \u7684\u8BDD\uFF0C\u6253\u5305\u540E\u7684\u6587\u4EF6\u5185\u5BB9\u5168\u90E8\u5728\u76EE\u6807\u6587\u4EF6 dist.js \u4E2D\uFF0C\u6587\u4EF6\u5C31\u663E\u5F97\u5F88\u5927\u5F88\u81C3\u80BF\uFF0C\u4E0B\u6B21\u4E1A\u52A1\u4EE3\u7801\u53D1\u751F\u4E86\u6539\u53D8\uFF0C\u91CD\u65B0\u6253\u5305\uFF0C\u4ECD\u7136\u8981\u91CD\u65B0\u52A0\u8F7D\u5F88\u5927\u7684\u6587\u4EF6\u3002\u76F8\u5BF9\u7684\u6548\u7387\u4E0D\u592A\u53CB\u597D\uFF1B\u5BF9\u4E8E\u7B2C\u4E09\u65B9\u4F9D\u8D56\u7684\u5E93\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u4F1A\u6709\u6539\u53D8\uFF0C\u5176\u5B9E\u5B8C\u5168\u53EF\u4EE5\u62BD\u79BB\u51FA\u53BB\uFF0C\u53D8\u4E3A\u4E00\u4E2A\u4E0D\u53D8\u7684\u6587\u4EF6\u5904\u7406")],-1),xs=n("h5",{id:"_3-2-3-2-1-\u5206\u79BB-vendor",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-2-3-2-1-\u5206\u79BB-vendor","aria-hidden":"true"},"#"),s(" 3.2.3.2.1 \u5206\u79BB Vendor")],-1),qs=s("\u6700\u7B80\u5355\u65B9\u6CD5\u5C31\u662F\uFF1A\u52A0\u4E00\u4E2A entry ( "),Ps={href:"https://github.com/lyyourc/webpack-code-splitting-demo/commit/6324e8a591b0c2b1fe5cd6c288a2cdfe56e17550",target:"_blank",rel:"noopener noreferrer"},Cs=s("File Changes"),Es=s(" )\uFF1A"),Ms=e(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;element-ui&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;jquery&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div>`,1),As=e(`<li><p>\u5B89\u88C5 vue\u3001axios</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">yarn</span> <span class="token function">add</span> vue axios
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>index.js \u4E2D\u5F15\u5165\u76F8\u5E94\u4F9D\u8D56\uFF0C\u589E\u52A0\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u6253\u5305\u547D\u4EE4\u4E2D\u6DFB\u52A0\u5982\u4E0B\u547D\u4EE4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.prod.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config webpack.dev.js&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;build:test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.dev.js&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p><code>webpack.dev.js</code>\u4E2D\u7684\u914D\u7F6E\u6587\u4EF6\u589E\u52A0\u5982\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u6267\u884C\u547D\u4EE4<code>npm run build:test</code>, \u540E\u53D1\u73B0 dist \u76EE\u5F55\u4E2D\u6709\u6587\u4EF6 vendor.js \u548C main.js</p></li>`,5),Ds=s("\u6211\u4EEC\u5982\u679C\u6253\u5F00\u65F6\u5019\u4F1A\u53D1\u73B0\uFF1A\u867D\u7136 vendor.js \u8FD9\u4E2A entry chunk \u5305\u542B\u4E86\u6211\u4EEC\u60F3\u8981\u7684 vue \u548C axios \uFF0C\u4F46\u662F main.js \u4E5F\u5305\u542B\u4E86\u4ED6\u4EEC\uFF01\u4E3A\u4EC0\u4E48\uFF01\uFF1F\u8FD9\u662F\u56E0\u4E3A\uFF1A\u6BCF\u4E2A entry \u90FD\u5305\u542B\u4E86\u4ED6\u81EA\u5DF1\u7684\u4F9D\u8D56\uFF0C\u8FD9\u6837\u4ED6\u624D\u80FD\u4F5C\u4E3A\u4E00\u4E2A\u5165\u53E3\uFF0C\u72EC\u7ACB\u5730\u8DD1\u8D77\u6765\u3002\u5F88\u96BE\u53D7\uFF0C\u4E8B\u5B9E\u4E0A\u6211\u4EEC\u5E76\u4E0D\u60F3 app.js \u8FD8\u5305\u542B\u4E86 vue \u548C axios \u3002\u5982\u679C\u53EF\u4EE5\u628A\u4ED6\u4EEC\u4FE9\u76F8\u540C\u7684\u4F9D\u8D56\u63D0\u53D6\u51FA\u6765\u5C31\u597D\u4E86\u3002\u5982\u679C\u60F3\u8981\u63D0\u53D6\u516C\u5171\u6A21\u5757\u7684\u8BDD\uFF0C\u5C31\u9700\u8981\u7528\u5230 "),Rs={href:"https://webpack.js.org/plugins/commons-chunk-plugin/",target:"_blank",rel:"noopener noreferrer"},Ws=s("CommonsChunkPlugin"),Ss=s(" \u8FD9\u4E2A\u63D2\u4EF6\u3002"),Is=e(`<h5 id="_3-2-3-2-2-\u4F7F\u7528-commonschunkplugin-\u63D2\u4EF6-webpack4-\u540E\u5DF2\u88AB\u79FB\u9664-\u63A8\u8350\u4F7F\u7528-optimization-splitchunks" tabindex="-1"><a class="header-anchor" href="#_3-2-3-2-2-\u4F7F\u7528-commonschunkplugin-\u63D2\u4EF6-webpack4-\u540E\u5DF2\u88AB\u79FB\u9664-\u63A8\u8350\u4F7F\u7528-optimization-splitchunks" aria-hidden="true">#</a> 3.2.3.2.2 <s>\u4F7F\u7528 CommonsChunkPlugin \u63D2\u4EF6</s>\uFF08 webpack4 \u540E\u5DF2\u88AB\u79FB\u9664\uFF0C\u63A8\u8350\u4F7F\u7528 <code>optimization.splitChunks</code>.\uFF09</h5><blockquote><p>\u6CE8\u610F\uFF1A\u4ECE webpack4 \u4EE5\u540E\uFF0C <code>CommonsChunkPlugin</code> \u88AB\u79FB\u9664\u4E86\uFF0C\u6765\u652F\u6301 <code>optimization.splitChunks</code>.</p></blockquote><ol><li><p>webpack.dev.js \u6587\u4EF6\u4E2D\u9700\u8981\u505A\u5982\u4E0B\u4FEE\u6539\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> optimize <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">optimize<span class="token punctuation">.</span>CommonsChunkPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;vendor&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li></ol><h5 id="_3-2-3-2-3-\u4F7F\u7528optimization-splitchunks" tabindex="-1"><a class="header-anchor" href="#_3-2-3-2-3-\u4F7F\u7528optimization-splitchunks" aria-hidden="true">#</a> 3.2.3.2.3 \u4F7F\u7528<code>optimization.splitChunks</code></h5><ol><li><p>webpack.dev.js \u4E2D\u7684\u4EE5\u4E0B\u4EE3\u7801\u5220\u9664</p><p><s>entry</s>: {~~ <s>vendor: [&#39;vue&#39;, &#39;axios&#39;],</s><s>},</s></p></li><li><p>\u6DFB\u52A0\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> optimize <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token operator">...</span><span class="token keyword">new</span> <span class="token class-name">optimize<span class="token punctuation">.</span>SplitChunksPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;vendor&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u6267\u884C\u547D\u4EE4<code>npm run build:test</code>, \u540E\u53D1\u73B0 dist \u76EE\u5F55\u4E2D\u6709\u6587\u4EF6 vendor.js \u548C main.js, \u5E76\u4E14 vendor.js \u4E2D\u6DFB\u52A0\u4E86 vue\u3001axios \u7B49\u7B2C\u4E09\u65B9\u5E93\uFF0C\u800C main.js \u6587\u4EF6\u53EA\u6709\u6211\u4EEC\u7F16\u5199\u7684\u76F8\u5173\u4E1A\u52A1\u4EE3\u7801</p></li><li><p>\u867D\u7136\u8BF4\u8FD9\u6837\u5C06\u7B2C\u4E09\u65B9\u6A21\u5757\u5355\u72EC\u6253\u5305\u51FA\u53BB\u80FD\u591F\u51CF\u5C0F\u5165\u53E3\u6587\u4EF6\u7684\u5927\u5C0F\uFF0C\u4F46\u8FD9\u6837\u4ECD\u7136\u662F\u4E2A\u4E0D\u5C0F\u7684\u6587\u4EF6\uFF1B\u8FD9\u4E2A\u5C0F\u7684\u6D4B\u8BD5\u9879\u76EE\u4E2D\u6211\u4EEC\u4F7F\u7528\u5230\u4E86 axios \u548C lodash \u8FD9\u4E24\u4E2A\u7B2C\u4E09\u65B9\u6A21\u5757\uFF0C\u56E0\u6B64\u6211\u4EEC\u5E0C\u671B\u7684\u5E94\u8BE5\u662F\u5C06\u8FD9\u4E24\u4E2A\u6A21\u5757\u5355\u72EC\u5206\u79BB\u51FA\u6765\u4E24\u4E2A\u6587\u4EF6\uFF0C\u800C\u4E0D\u662F\u5168\u90E8\u653E\u5230\u4E00\u4E2A vendors \u4E2D\u53BB\uFF0C\u90A3\u4E48\u6211\u4EEC\u7EE7\u7EED\u914D\u7F6E webpack.config.js:</p></li><li><p><strong>\u5982\u4F55\u5C06\u6BCF\u4E2A npm \u5305\u5355\u72EC\u5206\u79BB\u51FA\u6765</strong></p><blockquote><p>\u8FD9\u91CC\u6211\u4EEC\u4E3B\u8981\u505A\u4E86\u51E0\u4EF6\u4E8B\uFF1A\u4E3A\u4E86\u907F\u514D\u6BCF\u6B21\u6253\u5305\u7684\u6587\u4EF6\u54C8\u5E0C\u53D8\u5316\uFF0C\u6211\u4EEC\u53EF\u4EE5\u4F7F\u7528 webpack \u5185\u7F6E\u7684 HashedModuleIdsPlugin\uFF0C\u8FD9\u6837\u53EF\u4EE5\u907F\u514D\u6BCF\u6B21\u6253\u5305\u7684\u6587\u4EF6\u54C8\u5E0C\u503C\u53D8\u5316</p><p>\u9996\u5148\u589E\u52A0 maxInitialRequests \u5E76\u8BBE\u7F6E\u6210 Infinity\uFF0C\u6307\u5B9A\u8FD9\u4E2A\u5165\u53E3\u6587\u4EF6\u6700\u5927\u5E76\u884C\u8BF7\u6C42\u6570</p><p>\u7136\u540E\u5C06 minSize \u548C minChunks \u5206\u522B\u8BBE\u7F6E\u6210 0 \u548C 1\uFF0C\u5373\u4F7F\u6A21\u5757\u975E\u5E38\u5C0F\u4E5F\u5C06\u5176\u63D0\u53D6\u51FA\u6765\uFF0C\u5E76\u4E14\u8FD9\u4E2A\u6A21\u5757\u7684\u5F15\u7528\u6B21\u6570\u53EA\u6709 1 \u4E5F\u8981\u63D0\u53D6</p><p>\u6700\u540E\u914D\u7F6E\u5339\u914D\u7684\u4F9D\u8D56\u4EE5\u53CA\u5206\u79BB\u51FA\u7684\u6587\u4EF6\u540D\u683C\u5F0F</p><p>\u53E6\u5916\uFF0C\u6211\u4EEC\u8FD8\u5C06\u8FD0\u884C\u65F6\u4EE3\u7801\u5206\u79BB\u51FA\u6765\uFF0C\u8FD9\u5757\u4EE3\u7801\u8FD8\u53EF\u4EE5\u914D\u5408 <strong>InlineManifestWebpackPlugin</strong> \u76F4\u63A5\u63D2\u5165\u5230 HTML \u6587\u4EF6\u4E2D\u3002\u8FD9\u91CC\u6211\u4EEC\u5C06\u8FD9\u4E2A\u914D\u7F6E\u8BBE\u7F6E\u6210 single\uFF0C\u5373\u5C06\u6240\u6709 chunk \u7684\u8FD0\u884C\u4EE3\u7801\u6253\u5305\u5230\u4E00\u4E2A\u6587\u4EF6\u4E2D</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src/index.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ids<span class="token punctuation">.</span>HashedModuleIdsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u6839\u636E\u6A21\u5757\u7684\u76F8\u5BF9\u8DEF\u5F84\u751F\u6210 HASH \u4F5C\u4E3A\u6A21\u5757 ID</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].[contenthash].js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">runtimeChunk</span><span class="token operator">:</span> <span class="token string">&#39;single&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;all&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u9ED8\u8BA4 async \u53EF\u9009\u503C all \u548C initial</span>
      <span class="token literal-property property">maxInitialRequests</span><span class="token operator">:</span> <span class="token number">Infinity</span><span class="token punctuation">,</span> <span class="token comment">// \u4E00\u4E2A\u5165\u53E3\u6700\u5927\u7684\u5E76\u884C\u8BF7\u6C42\u6570</span>
      <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token comment">// \u907F\u514D\u6A21\u5757\u4F53\u79EF\u8FC7\u5C0F\u800C\u88AB\u5FFD\u7565</span>
      <span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// \u9ED8\u8BA4\u4E5F\u662F\u4E00\u8868\u793A\u6700\u5C0F\u5F15\u7528\u6B21\u6570</span>
      <span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// \u5982\u679C\u9700\u8981\u7684\u4F9D\u8D56\u7279\u522B\u5C0F\uFF0C\u53EF\u4EE5\u76F4\u63A5\u8BBE\u7F6E\u6210\u9700\u8981\u6253\u5305\u7684\u4F9D\u8D56\u540D\u79F0</span>
          <span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> chunks<span class="token punctuation">,</span> chcheGroupKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// \u53EF\u63D0\u4F9B\u5E03\u5C14\u503C\u3001\u5B57\u7B26\u4E32\u548C\u51FD\u6570\uFF0C\u5982\u679C\u662F\u51FD\u6570\uFF0C\u53EF\u7F16\u5199\u81EA\u5B9A\u4E49\u8FD4\u56DE\u503C</span>
            <span class="token keyword">const</span> packageName <span class="token operator">=</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>
              <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)</span><span class="token regex-delimiter">/</span></span>
            <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// \u83B7\u53D6\u6A21\u5757\u540D\u79F0</span>
            <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">npm.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>packageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;@&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token comment">// \u53EF\u9009\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\u4E0D\u9700\u8981\u5C06\u6A21\u5757\u540D\u79F0 @ \u7B26\u53F7\u53BB\u9664</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li></ol><h3 id="_3-4-splitchunksplugin-\u914D\u7F6E\u53C2\u6570\u8BE6\u89E3" tabindex="-1"><a class="header-anchor" href="#_3-4-splitchunksplugin-\u914D\u7F6E\u53C2\u6570\u8BE6\u89E3" aria-hidden="true">#</a> 3.4 SplitChunksPlugin \u914D\u7F6E\u53C2\u6570\u8BE6\u89E3</h3>`,6),Bs=e(`<li><p>Webpack \u4E4B\u9B54\u6CD5\u6CE8\u91CA /_ webpackChunkName: x x x x _/ \u7684\u505A\u7528</p><p>\u9B54\u672F\u6CE8\u91CA\u662F\u7531 Webpack \u63D0\u4F9B\u7684\uFF0C\u53EF\u4EE5\u4E3A\u4EE3\u7801\u5206\u5272\u670D\u52A1\u7684\u4E00\u79CD\u6280\u672F\u3002\u901A\u8FC7\u5728 import \u5173\u952E\u5B57\u540E\u7684\u62EC\u53F7\u4E2D\u4F7F\u7528\u6307\u5B9A\u6CE8\u91CA\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5BF9\u4EE3\u7801\u5206\u5272\u540E\u7684 chunk \u6709\u66F4\u591A\u7684\u63A7\u5236\u6743\uFF0C\u8BA9\u6211\u4EEC\u770B\u4E00\u4E2A\u4F8B\u5B50\uFF1A</p><p><strong>\u901A\u8FC7\u8FD9\u6837\u7684\u914D\u7F6E\uFF0C\u6211\u4EEC\u53EF\u4EE5\u5BF9\u5206\u79BB\u51FA\u7684 chunk \u8FDB\u884C\u547D\u540D\uFF0C\u8FD9\u5BF9\u4E8E\u6211\u4EEC debug \u800C\u8A00\u975E\u5E38\u65B9\u4FBF\u3002</strong></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
<span class="token keyword">import</span> <span class="token punctuation">(</span>
  <span class="token comment">/* webpackChunkName: &quot;my-chunk-name&quot; */</span>
  <span class="token string">&#39;./footer&#39;</span>
<span class="token punctuation">)</span>
\u540C\u65F6\uFF0C\u4E5F\u8981\u5728 webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js \u4E2D\u505A\u4E00\u4E9B\u6539\u52A8\uFF1A
<span class="token comment">// webpack.config.js</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;bundle.js&quot;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[name].lazy-chunk.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>\u53C2\u6570\u8BE6\u89E3</p><blockquote><p><code>chunks</code>\u7684\u610F\u601D\u662F\u5BF9\u90A3\u4E9B\u7C7B\u578B\u7684\u4EE3\u7801\u8FDB\u884C\u5206\u5272\uFF0C<code>all</code>\u662F\u5168\u90E8\u3001<code>async</code>\u662F\u5F02\u6B65\u3001<code>initial</code>\u662F\u540C\u6B65;</p><p><code>minSize</code>\u7684\u610F\u601D\u662F\u5F15\u5165\u7684\u6A21\u5757\u5FC5\u987B\u5927\u4E8E 30kb\uFF0C\u624D\u4F1A\u8FDB\u884C\u4EE3\u7801\u5206\u5272\uFF1B</p><p><code>maxSize</code>\u7684\u610F\u601D\u662F\u5982\u679C\u5F15\u5165\u7684\u6A21\u5757\uFF0C\u5982\u679C\u5927\u4E8E 50kb\uFF0C\u8FDB\u884C\u4E8C\u6B21\u5206\u5272\uFF0C\u5206\u6210\u591A\u4E2A\u6587\u4EF6\uFF1B</p><p><code>minChunks</code>\u5F53\u6A21\u5757\u5F15\u5165\u6B21\u6570\u5927\u4E8E 1 \u65F6\uFF0C\u624D\u4F1A\u8FDB\u884C\u4EE3\u7801\u5206\u5272\uFF1B</p><p><code>maxAsyncRequests</code>\u540C\u65F6\u52A0\u8F7D 5 \u4E2A\u4EE5\u4E0A\u7684 js \u6587\u4EF6\uFF0C\u5E76\u884C\u8BF7\u6C42\u7684\u6700\u5927\u6570\u76EE\u4E3A 5\uFF1B</p><p><code>maxInitialRequests</code> \u5165\u53E3\u6587\u4EF6\u4E2D\uFF0C\u5982\u679C\u52A0\u8F7D\u7684\u6A21\u5757\u5927\u4E8E 3 \u4E2A\u65F6\uFF0C\u4E0D\u518D\u8FDB\u884C\u4EE3\u7801\u5206\u5272\uFF1B</p><p><code>automaticNameDelimiter</code>\u8868\u793A\u62C6\u5206\u51FA\u7684 chunk \u7684\u540D\u79F0\u8FDE\u63A5\u7B26\u3002\u9ED8\u8BA4\u4E3A~\u3002\u5982 vendors~main.js;</p><p><code>name</code> \u53EF\u91CD\u65B0\u5B9A\u4E49\u6253\u5305\u540E\u7684\u6587\u4EF6\u540D\u79F0\uFF0CcacheGroups \u7684 vendors \u7684 filename \u751F\u6548;</p><p><code>priority</code>\u5F53\u4E00\u4E2A\u6587\u4EF6\u7684\u6253\u5305\u6761\u4EF6\u540C\u65F6\u6EE1\u8DB3<code>vendors</code>\u4EE5\u53CA<code>default</code>\u4E2D\u7684\u6761\u4EF6\u65F6,\u4F1A\u6839\u636E<code>priority</code>\u7684\u5927\u5C0F\u4F18\u5148\u9009\u62E9\u5E94\u7528\u90A3\u4E2A\uFF0C\u6570\u503C\u8D8A\u5927\u4F18\u5148\u7EA7\u8D8A\u9AD8\uFF1B</p><p><code>reuseExistingChunk</code>\u5982\u679C a \u6A21\u5757\u5F15\u7528\u7684\u6A21\u5757 b \u5DF2\u7ECF\u6253\u5305\u8FC7\uFF0C\u518D\u6253\u5305\u65F6 b \u6A21\u5757\u4E0D\u518D\u8FDB\u884C\u6253\u5305\uFF0C\u76F4\u63A5\u4F7F\u7528;</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">splitChunks</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token string">&#39;async&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u4EE3\u7801\u5206\u5272\u65F6\u5BF9\u5F02\u6B65\u4EE3\u7801\u751F\u6548\uFF0Call\uFF1A\u6240\u6709\u4EE3\u7801\u6709\u6548\uFF0Cinital\uFF1A\u540C\u6B65\u4EE3\u7801\u6709\u6548</span>
    <span class="token literal-property property">minSize</span><span class="token operator">:</span> <span class="token number">30000</span><span class="token punctuation">,</span> <span class="token comment">// \u4F8B\u5982\u5BFC\u516510kb\u7684\u4F9D\u8D56\u5305\u5C0F\u4E8E30kb\u4FBF\u4E0D\u4F1A\u62C6\u5206\u4EE3\u7801\u5757</span>
    <span class="token literal-property property">maxSize</span><span class="token operator">:</span> <span class="token number">50000</span><span class="token punctuation">,</span> <span class="token comment">// \u4EE3\u7801\u5206\u5272\u6700\u5927\u7684\u6A21\u5757\u5927\u5C0F\uFF0C\u5927\u4E8E\u8FD9\u4E2A\u503C\u8981\u8FDB\u884C\u4EE3\u7801\u5206\u5272\uFF0C\u4E00\u822C\u4F7F\u7528\u9ED8\u8BA4\u503C</span>
		<span class="token literal-property property">minChunks</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// \u5F15\u5165\u7684\u6B21\u6570\u5927\u4E8E\u7B49\u4E8E1\u65F6\u624D\u8FDB\u884C\u4EE3\u7801\u5206\u5272</span>
		<span class="token literal-property property">maxAsyncRequests</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span> <span class="token comment">// \u6700\u5927\u7684\u5F02\u6B65\u8BF7\u6C42\u6570\u91CF,\u4E5F\u5C31\u662F\u540C\u65F6\u52A0\u8F7D\u7684\u6A21\u5757\u6700\u5927\u6A21\u5757\u6570\u91CF</span>
		<span class="token literal-property property">maxInitialRequests</span><span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// \u5165\u53E3\u6587\u4EF6\u505A\u4EE3\u7801\u5206\u5272\u6700\u591A\u5206\u6210 4 \u4E2A js \u6587\u4EF6</span>
		<span class="token literal-property property">automaticNameDelimiter</span><span class="token operator">:</span> <span class="token string">&#39;~&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6587\u4EF6\u751F\u6210\u65F6\u7684\u8FDE\u63A5\u7B26</span>
		<span class="token literal-property property">cacheGroups</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">vendor</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/]</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// \u4F4D\u4E8Enode_modules\u4E2D\u7684\u6A21\u5757\u505A\u4EE3\u7801\u5206\u5272</span>
				<span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// \u6839\u636E\u4F18\u5148\u7EA7\u51B3\u5B9A\u6253\u5305\u5230\u54EA\u4E2A\u7EC4\u91CC\uFF0C\u4F8B\u5982\u4E00\u4E2A node_modules \u4E2D\u7684\u6A21\u5757\u8FDB\u884C\u4EE3\u7801</span>
				<span class="token function">name</span><span class="token punctuation">(</span><span class="token parameter">module<span class="token punctuation">,</span> chunks<span class="token punctuation">,</span> cacheGroupKey</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">// \u53EF\u63D0\u4F9B\u5E03\u5C14\u503C\u3001\u5B57\u7B26\u4E32\u548C\u51FD\u6570\uFF0C\u5982\u679C\u662F\u51FD\u6570\uFF0C\u53EF\u7F16\u5199\u81EA\u5B9A\u4E49\u8FD4\u56DE\u503C</span>
					<span class="token keyword">const</span> packageName <span class="token operator">=</span> module<span class="token punctuation">.</span>context<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\\\\/]node_modules[\\\\/](.*?)([\\\\/]|$)</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token comment">// \u83B7\u53D6\u6A21\u5757\u540D\u79F0</span>
					<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">npm.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>packageName<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;@&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span> <span class="token comment">// \u53EF\u9009\uFF0C\u4E00\u822C\u60C5\u51B5\u4E0B\u4E0D\u9700\u8981\u5C06\u6A21\u5757\u540D\u79F0 @ \u7B26\u53F7\u53BB\u9664</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token literal-property property">defaultVendors</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">priority</span><span class="token operator">:</span> <span class="token operator">-</span><span class="token number">20</span><span class="token punctuation">,</span> <span class="token comment">//  \u6839\u636E\u4F18\u5148\u7EA7\u51B3\u5B9A\u6253\u5305\u5230\u54EA\u4E2A\u7EC4\u91CC,\u6253\u5305\u5230\u4F18\u5148\u7EA7\u9AD8\u7684\u7EC4\u91CC\u3002</span>
				<span class="token literal-property property">reuseExistingChunk</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// //\u5982\u679C\u4E00\u4E2A\u6A21\u5757\u5DF2\u7ECF\u88AB\u6253\u5305\u8FC7\u4E86,\u90A3\u4E48\u518D\u6253\u5305\u65F6\u5C31\u5FFD\u7565\u8FD9\u4E2A\u4E0A\u6A21\u5757</span>
				<span class="token function-variable function">filename</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">pathData</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
					<span class="token comment">// Use pathData object for generating filename string based on your requirements</span>
					<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pathData<span class="token punctuation">.</span>chunk<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-bundle.js</span><span class="token template-punctuation string">\`</span></span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div></li>`,2),Ts=n("p",null,"\u53C2\u8003\u6587\u6863:",-1),Ls={href:"https://segmentfault.com/a/1190000039134142",target:"_blank",rel:"noopener noreferrer"},Os=s("\u4F7F\u7528 webpack \u4EE3\u7801\u5206\u5272\u548C\u9B54\u672F\u6CE8\u91CA\u63D0\u5347\u5E94\u7528\u6027\u80FD"),Hs={href:"https://juejin.cn/post/6975898319780315173",target:"_blank",rel:"noopener noreferrer"},zs=s("Code Splitting \u4EE5\u53CA SplitChunksPlugin \u914D\u7F6E\u53C2\u6570\u8BE6\u89E3"),Fs={href:"https://drylint.com/Webpack/SplitChunksPlugin.html",target:"_blank",rel:"noopener noreferrer"},Us=s("\u4EE3\u7801\u5E72\u71E5\u8BA1\u5212\u4E4B SplitChunksPlugin"),Ns=e(`<h3 id="_3-5-lazy-loading-\u61D2\u52A0\u8F7D-chunk-\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_3-5-lazy-loading-\u61D2\u52A0\u8F7D-chunk-\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 3.5 Lazy Loading \u61D2\u52A0\u8F7D\uFF0CChunk \u662F\u4EC0\u4E48\uFF1F</h3><h4 id="_3-5-1-lazy-loading-\u57FA\u672C\u793A\u4F8B" tabindex="-1"><a class="header-anchor" href="#_3-5-1-lazy-loading-\u57FA\u672C\u793A\u4F8B" aria-hidden="true">#</a> 3.5.1 Lazy Loading \u57FA\u672C\u793A\u4F8B</h4><ol><li><p>index.js \u4E2D\u66F4\u6539\u4E3A\u5982\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> add <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./math&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">getVueComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/*webpackChunkName:&quot;vue&quot;*/</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">vue</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>vue<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">getVueComponent</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>\u91CD\u65B0\u8FD0\u884C\u7F16\u8BD1\u547D\u4EE4<code>npm run start</code>\uFF0C\u6253\u5F00\u6D4F\u89C8\u5668\u89C2\u770B\u6548\u679C</p></li><li><p>\u9996\u5148\u52A0\u8F7D<code>add</code>\u51FD\u6570\uFF0C\u6253\u5370\u51FA\u7ED3\u679C\uFF0C3s \u5EF6\u8FDF\u540E\u52A0\u8F7D vue \u6A21\u5757\uFF0C\u5E76\u6253\u5370\u51FA\u7ED3\u679C\u3002\u53EF\u4EE5\u5728\u5F00\u53D1\u5DE5\u5177\u4E2D\u7684\u7F51\u7EDC\u67E5\u770B\u61D2\u52A0\u8F7D\u8FC7\u7A0B\u3002</p></li></ol><h4 id="_3-5-2-chunk-\u662F\u4EC0\u4E48" tabindex="-1"><a class="header-anchor" href="#_3-5-2-chunk-\u662F\u4EC0\u4E48" aria-hidden="true">#</a> 3.5.2 chunk \u662F\u4EC0\u4E48</h4><blockquote><h5 id="webpack\u6253\u5305\u7684\u8FC7\u7A0B\u79CD-\u751F\u6210\u7684js\u6587\u4EF6-\u6BCF\u4E00\u4E2Ajs\u6587\u4EF6\u6211\u4EEC\u90FD\u628A\u5B83\u53EB\u505Achunk\u3002" tabindex="-1"><a class="header-anchor" href="#webpack\u6253\u5305\u7684\u8FC7\u7A0B\u79CD-\u751F\u6210\u7684js\u6587\u4EF6-\u6BCF\u4E00\u4E2Ajs\u6587\u4EF6\u6211\u4EEC\u90FD\u628A\u5B83\u53EB\u505Achunk\u3002" aria-hidden="true">#</a> <code>webpack</code>\u6253\u5305\u7684\u8FC7\u7A0B\u79CD\uFF0C\u751F\u6210\u7684<code>JS\u6587\u4EF6</code>\uFF0C\u6BCF\u4E00\u4E2A<code>JS\u6587\u4EF6</code>\u6211\u4EEC\u90FD\u628A\u5B83\u53EB\u505A<code>Chunk</code>\u3002</h5></blockquote><p>\u6CE8\u610F\u4E0A\u9762\u914D\u7F6E\u7684\u53C2\u6570 minChunks\u3001\u4EE5\u53CA chunks\uFF1Aall \u914D\u7F6E\u7B49</p><h4 id="_3-5-3-\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#_3-5-3-\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> 3.5.3 \u53C2\u8003\u6587\u732E</h4>`,7),$s={href:"https://www.jianshu.com/p/c73570cb934b",target:"_blank",rel:"noopener noreferrer"},Ks=s("Chunk \u662F\u4EC0\u4E48\uFF1F"),Gs=e(`<h3 id="_3-6-\u6253\u5305\u5206\u6790-preloading-prefetching" tabindex="-1"><a class="header-anchor" href="#_3-6-\u6253\u5305\u5206\u6790-preloading-prefetching" aria-hidden="true">#</a> 3.6 \u6253\u5305\u5206\u6790\uFF0CPreloading, Prefetching</h3><h4 id="_3-6-1-\u5B98\u65B9\u6253\u5305\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_3-6-1-\u5B98\u65B9\u6253\u5305\u5206\u6790" aria-hidden="true">#</a> 3.6.1 \u5B98\u65B9\u6253\u5305\u5206\u6790</h4><ol><li><p>\u6253\u5F00\u5730\u5740 https://github.com/webpack/analyse \u67E5\u770B analyse \u6253\u5305\u547D\u4EE4</p></li><li><p>\u4FEE\u6539\u6253\u5305\u811A\u672C\u547D\u4EE4\uFF0C\u589E\u52A0\u5982\u4E0B\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;analyse&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;webpack --profile --json &gt; stats.json --config webpack.prod.js&quot;</span>,
<span class="token punctuation">}</span>,
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u6267\u884C\u547D\u4EE4<code>npm run analyse</code>, \u67E5\u770B\u6587\u4EF6\u65B0\u589E\u52A0 stats.json</p></li><li><p>\u6253\u5F00\u7F51\u5740\uFF1Ahttps://webpack.github.io/analyse/ \u4E0A\u4F20 stats.json \uFF0C\u5B83\u4F1A\u663E\u793A\u5206\u6790\u7ED3\u679C</p></li></ol><h4 id="_3-6-2-\u5B98\u65B9\u5176\u4ED6\u5DE5\u5177\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_3-6-2-\u5B98\u65B9\u5176\u4ED6\u5DE5\u5177\u5206\u6790" aria-hidden="true">#</a> 3.6.2 \u5B98\u65B9\u5176\u4ED6\u5DE5\u5177\u5206\u6790</h4><blockquote><p>\u5730\u5740\uFF1Ahttps://webpack.js.org/guides/code-splitting/#bundle-analysis</p></blockquote>`,5),Js={href:"https://alexkuz.github.io/webpack-chart/",target:"_blank",rel:"noopener noreferrer"},Vs=s("webpack-chart"),Ys=s(": Interactive pie chart for webpack stats."),Qs={href:"https://chrisbateman.github.io/webpack-visualizer/",target:"_blank",rel:"noopener noreferrer"},Xs=s("webpack-visualizer"),Zs=s(": Visualize and analyze your bundles to see which modules are taking up space and which might be duplicates."),na={href:"https://github.com/webpack-contrib/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer"},sa=s("webpack-bundle-analyzer"),aa=s(": A plugin and CLI utility that represents bundle content as a convenient interactive zoomable treemap."),pa={href:"https://webpack.jakoblind.no/optimize",target:"_blank",rel:"noopener noreferrer"},ea=s("webpack bundle optimize helper"),ta=s(": This tool will analyze your bundle and give you actionable suggestions on what to improve to reduce your bundle size."),oa={href:"https://github.com/bundle-stats/bundle-stats",target:"_blank",rel:"noopener noreferrer"},ca=s("bundle-stats"),la=s(": Generate a bundle report(bundle size, assets, modules) and compare the results between different builds."),ra=e(`<h4 id="_3-6-3-preloading\u3001prefetching" tabindex="-1"><a class="header-anchor" href="#_3-6-3-preloading\u3001prefetching" aria-hidden="true">#</a> 3.6.3 preloading\u3001prefetching</h4><blockquote><p>preloading\uFF1A\u8BBE\u7F6E\u8FD9\u4E2A\u6307\u4EE4\uFF0C\u5C31\u4F1A\u5728\u5F53\u524D\u7684\u9875\u9762\u4E2D\uFF0C\u4EE5\u8F83\u9AD8\u4F18\u5148\u7EA7\u9884\u52A0\u8F7D\u67D0\u4E2A\u8D44\u6E90\u3002\u5176\u5B9E\u5C31\u76F8\u5F53\u4E8E\u6D4F\u89C8\u5668\u7684\u9884\u52A0\u8F7D\uFF0C\u4F46\u662F\u6D4F\u89C8\u5668\u7684\u9884\u52A0\u8F7D\u53EA\u4F1A\u52A0\u8F7D html \u4E2D\u58F0\u660E\u7684\u8D44\u6E90\uFF0C\u4F46\u662F preloading \u7A81\u7834\u4E86\u8FD9\u4E2A\u9650\u5236\uFF0C\u8FDE css \u548C js \u8D44\u6E90\u4E5F\u53EF\u4EE5\u9884\u52A0\u8F7D\u4E00\u6CE2\u3002</p><p>Prefetching\uFF1A\u8BBE\u7F6E\u8FD9\u4E2A\u6307\u4EE4\uFF0C\u5C31\u8868\u793A\u5141\u8BB8\u6D4F\u89C8\u5668\u5728\u540E\u53F0\uFF08\u7A7A\u95F2\u65F6\uFF09\u83B7\u53D6\u5C06\u6765\u53EF\u80FD\u7528\u5F97\u5230\u7684\u8D44\u6E90\uFF0C\u5E76\u4E14\u5C06\u4ED6\u4EEC\u5B58\u50A8\u5728\u6D4F\u89C8\u5668\u7684\u7F13\u5B58\u4E2D\u3002 \u8FD9\u4E24\u79CD\u5176\u5B9E\u90FD\u662F webpack \u63D0\u4F9B\u7684\u8D44\u6E90\u52A0\u8F7D\u4F18\u5316\u7684\u65B9\u5F0F\uFF0C\u53CD\u6B63\u5982\u679C\u5C31\u662F\u8BBE\u7F6E\u4E86\u8FD9\u51E0\u4E2A\u6307\u4EE4\uFF0C\u5C31\u4F1A\u5148\u8D70\u4E2A http \u7684\u7F13\u5B58\uFF0C\u7136\u540E\u4E0B\u6B21\u518D\u6B21\u8BF7\u6C42\u7684\u65F6\u5019\u76F4\u63A5\u4ECE\u7F13\u5B58\u91CC\u9762\u62FF\uFF0C\u8FD9\u6837\u5C31\u8282\u7701\u4E86\u52A0\u8F7D\u7684\u65F6\u95F4\u3002</p></blockquote><h5 id="_3-6-3-1-\u8BBE\u7F6E-prefetching" tabindex="-1"><a class="header-anchor" href="#_3-6-3-1-\u8BBE\u7F6E-prefetching" aria-hidden="true">#</a> 3.6.3.1 \u8BBE\u7F6E Prefetching</h5><blockquote><p>\u4F7F\u7528\u9B54\u6CD5\u6CE8\u91CA\u7684\u65B9\u5F0F\uFF0C\u5728\u9700\u8981\u9884\u52A0\u8F7D\u7684\u5730\u65B9\u6DFB\u52A0\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackPrefetch: true */</span> <span class="token string">&#39;./footer.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span>
    module<span class="token punctuation">.</span><span class="token function">createFooter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_3-6-3-2-\u8BBE\u7F6E-preloading" tabindex="-1"><a class="header-anchor" href="#_3-6-3-2-\u8BBE\u7F6E-preloading" aria-hidden="true">#</a> 3.6.3.2 \u8BBE\u7F6E Preloading</h5><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token comment">/* webpackPreload: true */</span> <span class="token string">&#39;./footer.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>module<span class="token punctuation">)</span>
    module<span class="token punctuation">.</span><span class="token function">createFooter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="_3-6-3-\u4F7F\u7528\u65F6\u673A" tabindex="-1"><a class="header-anchor" href="#_3-6-3-\u4F7F\u7528\u65F6\u673A" aria-hidden="true">#</a> 3.6.3 \u4F7F\u7528\u65F6\u673A</h5><p>Preloading \u4EC0\u4E48\u65F6\u5019\u7528\u5462\uFF1F\u6BD4\u5982\u8BF4\uFF0C\u4F60\u9875\u9762\u4E2D\u7684\u5F88\u591A\u7EC4\u4EF6\u90FD\u7528\u5230\u4E86 jQuery\uFF0C\u6BD4\u8F83\u5F3A\u4F9D\u8D56\u8FD9\u4E2A\u4E1C\u897F\uFF0C\u90A3\u4E48\u6211\u4EEC\u5C31\u53EF\u4EE5\u5F53 import \u5F15\u5165 jQuery \u5E93\u7684\u65F6\u5019\u8BBE\u7F6E\u4E3A Preloading\uFF0C\u8BA9\u4ED6\u9884\u52A0\u8F7D\u4E00\u6CE2\u3002</p><p>\u800C Prefetching \u6211\u4EEC\u4E00\u822C\u7528\u7684\u6BD4\u8F83\u591A\uFF0C\u4E5F\u6BD4\u8F83\u597D\u7406\u89E3\uFF0C\u7528\u5B98\u7F51\u7684\u4F8B\u5B50\u6765\u8BF4\uFF1A\u4E00\u822C\u5F53\u6211\u4EEC\u8FDB\u5165\u4E00\u4E2A\u7F51\u7AD9\u9996\u9875\uFF0C\u53EA\u6709\u5F53\u70B9\u51FB\u767B\u5F55\u6309\u94AE\u7684\u65F6\u5019\u6A21\u6001\u6846\u624D\u9700\u8981\u5F39\u51FA\u6765\uFF0C\u90A3\u4E48\u6211\u4EEC\u5C31\u53EF\u4EE5\u5BF9\u8FD9\u4E2A login \u6A21\u6001\u6846\u7EC4\u4EF6\u505A\u4E0B Prefetching\uFF0C\u5F53\u9996\u9875\u52A0\u8F7D\u5B8C\u6BD5\uFF0C\u6D4F\u89C8\u5668\u7A7A\u95F2\u7684\u65F6\u5019\u63D0\u524D\u52A0\u8F7D\u4E00\u4E0B\uFF0C\u8FD9\u6837\u5F53\u7528\u6237\u70B9\u51FB\u767B\u5F55\u6309\u94AE\u5C31\u53EF\u4EE5\u76F4\u63A5\u4ECE\u7F13\u5B58\u91CC\u9762\u52A0\u8F7D\u8FD9\u4E2A\u7EC4\u4EF6\u4E86\u3002</p><h5 id="\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> \u53C2\u8003\u6587\u732E</h5>`,11),ua={href:"https://www.jianshu.com/p/2ad9535968aa",target:"_blank",rel:"noopener noreferrer"},ia=s("prefetching \u548C preloading"),ka={href:"https://blog.csdn.net/ks8380/article/details/107825899",target:"_blank",rel:"noopener noreferrer"},ba=s("webpack Prefetching/Preloading"),da={href:"http://www.360doc.com/content/20/0820/08/65839755_931232900.shtml",target:"_blank",rel:"noopener noreferrer"},ma=s("\u804A\u4E00\u804A webpack \u4E2D\u7684 preloading \u548C Prefetching"),ga=e(`<h3 id="_3-7-css-\u6587\u4EF6\u7684\u5206\u5272" tabindex="-1"><a class="header-anchor" href="#_3-7-css-\u6587\u4EF6\u7684\u5206\u5272" aria-hidden="true">#</a> 3.7 CSS \u6587\u4EF6\u7684\u5206\u5272</h3><blockquote><p>\u77E5\u8BC6\u70B9\uFF1A output \u4E2D\u6709 filename\u3001chunkFilename \u4E24\u4E2A\u914D\u7F6E\u9879\uFF0C\u6709\u4F55\u533A\u522B\u5462\uFF1F\u524D\u8005\u8868\u793A\u662F\u5165\u53E3\u6587\u4EF6\u6253\u5305\u540E\u7684\u6587\u4EF6\u540D\u89C4\u5219\uFF0C\u800C\u540E\u8005\u662F\u76F8\u5173\u4F9D\u8D56\u4EA7\u751F\u7684\u6587\u4EF6\u540D\u914D\u7F6E\u89C4\u5219\u3002</p></blockquote><h4 id="_3-7-1-minicssextractplugin" tabindex="-1"><a class="header-anchor" href="#_3-7-1-minicssextractplugin" aria-hidden="true">#</a> 3.7.1 MiniCssExtractPlugin</h4><ol><li><p>\u5B89\u88C5\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev mini-css-extract-plugin
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u521B\u5EFA style.css, \u5E76\u5728 index.js \u4E2D\u5F15\u7528\uFF0C \u5185\u5BB9\u5982\u4E0B</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> green<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p><strong>webpack.dev.config.js</strong> \u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>\u6CE8\u610F package.json \u4E2D\u7684 \u76F8\u5173\u914D\u7F6E\u9700\u8981\u6709\u5982\u4E0B\u8BBE\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;*.css&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol><h4 id="_3-7-2-css-minimizer-webpack-plugin" tabindex="-1"><a class="header-anchor" href="#_3-7-2-css-minimizer-webpack-plugin" aria-hidden="true">#</a> 3.7.2 css-minimizer-webpack-plugin</h4>`,5),ha=s("\u6CE8\u610F\uFF1A Optimize CSS Assets Webpack Plugin\uFF1A For webpack v5 or above please use "),ya={href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer"},_a=s("css-minimizer-webpack-plugin"),va=s(" instead."),fa=n("p",null,"Webpack 5 \u4E2D\u5EFA\u8BAE\u4F7F\u7528 css-minimizer-webpack-plugin",-1),ja=e(`<ol><li><p>\u5B89\u88C5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> css-minimizer-webpack-plugin --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>Webpack.\u914D\u7F6E\u6587\u4EF6\u4E2D\u505A\u5982\u4E0B\u66F4\u6539\uFF08\u672C\u4F8B\u4E2D\u4E3A webpack.prod.js\uFF09</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;css-minimizer-webpack-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.s?css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;sass-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the \`...\` syntax to extend existing minimizers (i.e. \`terser-webpack-plugin\`), uncomment the next line</span>
      <span class="token comment">// \`...\`,</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><p>\u6CE8\u610F\uFF1AThis will enable CSS optimization only in production mode\u3002If you want to run it also in development set the <code>optimization.minimize</code> option to <code>true</code> \uFF08\u8FD9\u53EA\u5728\u751F\u4EA7\u73AF\u5883\u4E2D\u4F7F CSS \u4F18\u5316\u5668\u751F\u6548\uFF0C\u5982\u679C\u4F60\u60F3\u8981\u5728\u5F00\u53D1\u73AF\u5883\u4E2D\u4F7F\u7528\uFF0C\u8BBE\u7F6E optimization.minimize \u9009\u9879\u4E3A true\uFF09</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// [...]</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// [...]</span>
    <span class="token literal-property property">minimize</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u8FD0\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>, \u5373\u53EF\u53D1\u73B0\u6253\u5305\u540E\u7684\u6587\u4EF6\u88AB\u538B\u7F29\u4E86</p></li><li></li></ol><h4 id="_3-7-3-\u6587\u6863\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#_3-7-3-\u6587\u6863\u53C2\u8003" aria-hidden="true">#</a> 3.7.3 \u6587\u6863\u53C2\u8003</h4>`,2),wa={href:"https://webpack.docschina.org/plugins/mini-css-extract-plugin/",target:"_blank",rel:"noopener noreferrer"},xa=s("webpack \u4E4B MiniCssExtractPlugin"),qa={href:"https://juejin.cn/post/6850418117500715015",target:"_blank",rel:"noopener noreferrer"},Pa=s("\u300EWebpack \u7CFB\u5217\u300F\u2014\u2014 MiniCssExtractPlugin \u63D2\u4EF6\u7528\u6CD5\u8BE6\u89E3"),Ca={href:"https://webpack.js.org/plugins/css-minimizer-webpack-plugin/",target:"_blank",rel:"noopener noreferrer"},Ea=s("webpack \u4E4B CssMinimizerWebpackPlugin"),Ma=e(`<h3 id="_3-8-webpack-\u4E0E\u6D4F\u89C8\u5668\u7F13\u5B58-caching" tabindex="-1"><a class="header-anchor" href="#_3-8-webpack-\u4E0E\u6D4F\u89C8\u5668\u7F13\u5B58-caching" aria-hidden="true">#</a> 3.8 Webpack \u4E0E\u6D4F\u89C8\u5668\u7F13\u5B58( Caching )</h3><h4 id="_3-8-1-filename-\u548C-chunkfilename" tabindex="-1"><a class="header-anchor" href="#_3-8-1-filename-\u548C-chunkfilename" aria-hidden="true">#</a> 3.8.1 filename \u548C chunkFilename</h4><ol><li><p>\u76EE\u524D\u7684 \u6253\u5305\u8BBE\u7F6E output \u662F\u7C7B\u4F3C\u4E0B\u9762\u8FD9\u6837\u7684</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span> <span class="token string">&#39;images/[name][ext]&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u6253\u5305\u540E\u7684\u6587\u4EF6\u662F\u7C7B\u4F3C vendor.js\u3001main.js \u7B49\uFF0C</p></li><li><p>\u8FD9\u6837\u628A\u6587\u4EF6\u4E0A\u4F20\u5230\u670D\u52A1\u5668\u540E\uFF0C\u5982\u679C\u7528\u6237\u8BBF\u95EE\uFF0C\u7B2C\u4E00\u6B21\u662F\u4F1A\u83B7\u53D6\u6700\u65B0\u7684\u4EE3\u7801\uFF0C\u7136\u540E\u6D4F\u89C8\u5668\u4F1A\u7F13\u5B58\u4E0B\u6765</p></li><li><p>\u4E0B\u6B21\u5728\u8FDB\u884C\u8BBF\u95EE\u65F6\u5019\uFF0C\u4F1A\u901A\u8FC7\u672C\u5730\u7F13\u5B58\u8FDB\u884C\u83B7\u53D6\u6E32\u67D3\u9875\u9762</p></li><li><p>\u5982\u679C\u8FD9\u65F6\u5019\u6211\u4EEC\u66F4\u6539\u4E86\u4E00\u4E9B\u4E1A\u52A1\u4EE3\u7801\uFF0C\u518D\u6B21\u6267\u884C\u6253\u5305\u547D\u4EE4\uFF0C\u6253\u5305\u540E\u7684\u6587\u4EF6\u540D\u5B57\u6CA1\u6709\u53D8\u5316(\u5176\u5B9E\u5185\u5BB9\u5DF2\u7ECF\u53D8\u5316\u4E86)\uFF0C\u7136\u540E\u628A\u6587\u4EF6\u4E0A\u4F20\u5230\u670D\u52A1\u5668</p></li><li><p>\u8FD9\u65F6\u5019\u7528\u6237\u5982\u679C\u5237\u65B0(\u975E\u5F3A\u5237)\u65F6\uFF0C\u8FD9\u65F6\u5019\u662F\u4E0D\u4F1A\u83B7\u53D6\u6700\u65B0\u4E0A\u4F20\u7684\u4EE3\u7801\u7684</p></li><li><p>\u90A3\u600E\u4E48\u5904\u7406\u5462</p></li></ol><h4 id="_3-8-2-contenthash" tabindex="-1"><a class="header-anchor" href="#_3-8-2-contenthash" aria-hidden="true">#</a> 3.8.2 contenthash</h4><blockquote><p>contenthash \u5360\u4F4D\u7B26\uFF0C\u662F\u6839\u636E\u5185\u5BB9\u751F\u6210\u7684 hash\uFF0C\u5185\u5BB9\u4E0D\u53D8\uFF0Chash \u5C31\u4E0D\u53D8</p></blockquote><ol><li><p>\u8FD9\u65F6\u5019\u6211\u4EEC\u53EF\u4EE5\u5728 output \u9879\u76EE\u8BBE\u7F6E\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&quot;[name].[contenthash].js&quot;</span><span class="token punctuation">,</span>
   <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&quot;[name].[contenthash].js&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u8FD9\u6837\u4FEE\u6539\u540E\u901A\u8FC7\u6253\u5305\u547D\u4EE4\u6253\u5305\u540E\u7684\u6587\u4EF6\u4F1A\u662F\u5982\u4E0B\u7684\u6837\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>index<span class="token punctuation">.</span>html\u3001main<span class="token punctuation">.</span>fadsff787f89675<span class="token punctuation">.</span>js  vendor<span class="token punctuation">.</span>78asdfasdh90s90f89<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u8FD9\u6837\u628A\u6587\u4EF6\u4E0A\u4F20\u5230\u670D\u52A1\u5668\u540E\uFF0C\u5982\u679C\u7528\u6237\u8BBF\u95EE\uFF0C\u7B2C\u4E00\u6B21\u662F\u4F1A\u83B7\u53D6\u6700\u65B0\u7684\u4EE3\u7801\uFF0C\u7136\u540E\u6D4F\u89C8\u5668\u4F1A\u7F13\u5B58\u4E0B\u6765</p></li><li><p>\u5982\u679C\u8FD9\u65F6\u5019\u6211\u4EEC\u66F4\u6539\u4E86\u4E00\u4E9B\u4E1A\u52A1\u4EE3\u7801\uFF0C\u518D\u6B21\u6267\u884C\u6253\u5305\u547D\u4EE4\uFF0C\u6253\u5305\u540E\u7684\u6587\u4EF6\u540D\u5B57\u6CA1\u6709\u53D8\u5316(\u5176\u5B9E\u5185\u5BB9\u5DF2\u7ECF\u53D8\u5316\u4E86)\uFF0C\u7136\u540E\u628A\u6587\u4EF6\u4E0A\u4F20\u5230\u670D\u52A1\u5668</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6253\u5305\u540E\uFF0C\u672A\u53D1\u751F\u53D8\u5316\u7684 vendor \u662F\u4E0D\u4F1A\u53D8\u5316\u7684</span>
index<span class="token punctuation">.</span>html\u3001main<span class="token punctuation">.</span>fadsff787f8788<span class="token punctuation">.</span>js  vendor<span class="token punctuation">.</span>78asdfasdh90s90f89<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u8FD9\u6837\u7528\u6237\u5728\u670D\u52A1\u5668\u66F4\u65B0\u540E\uFF0C\u6CA1\u6709\u53D8\u5316\u7684\u6587\u4EF6\u672C\u5730\u6709\u540C\u540D\u6587\u4EF6\uFF0C\u76F4\u63A5\u4F7F\u7528\uFF1B\u800C\u53D1\u751F\u53D8\u5316\u7684\uFF0C\u7531\u4E8E contenthash \u4E0D\u540C\uFF0C\u6240\u4EE5\u672C\u5730\u6CA1\u6709\u540C\u540D\u6587\u4EF6\uFF0C\u5C31\u4F1A\u53BB\u670D\u52A1\u5668\u91CD\u65B0\u83B7\u53D6\u6700\u65B0\u7684\u6587\u4EF6</p></li><li><p>\u8FD9\u6837\u5C31\u8D77\u5230\u4E86\u59CB\u7EC8\u8BBF\u95EE\u7684\u662F\u6700\u65B0\u7684\uFF0C\u5E76\u4E14\u53C8\u5408\u7406\u5229\u7528\u4E86\u7F13\u5B58\u529F\u80FD\uFF0C\u52A0\u5FEB\u4E86\u54CD\u5E94\u901F\u5EA6</p></li></ol><h4 id="_3-8-3-\u6587\u732E\u53C2\u8003" tabindex="-1"><a class="header-anchor" href="#_3-8-3-\u6587\u732E\u53C2\u8003" aria-hidden="true">#</a> 3.8.3 \u6587\u732E\u53C2\u8003</h4>`,7),Aa={href:"https://cloud.tencent.com/developer/article/1602205",target:"_blank",rel:"noopener noreferrer"},Da=s("webpack \u4E0E\u6D4F\u89C8\u5668\u7F13\u5B58\uFF08caching\uFF09"),Ra=n("p",null,"\u4E0B\u9762\u7684\u6587\u7AE0\u53C8\u5BF9\u8001\u7248\u672C\u7684 webapck\uFF0C\u505A\u5355\u72EC\u5904\u7406\uFF1A\u76F8\u5173\u7406\u8BBA\u5982\u4E0B",-1),Wa=n("blockquote",null,[n("p",null,[s("\u6211\u4EEC\u5DF2\u7ECF\u77E5\u9053\uFF0C\u4E1A\u52A1\u4EE3\u7801\u5B58\u5728\u4E8E main \u4E2D\uFF0C\u7B2C\u4E09\u65B9\u5E93\u4EE3\u7801\u5B58\u5728\u4E8E vendors \u4E2D\uFF0C\u4F46\u662F\u5E93\u548C\u4E1A\u52A1\u903B\u8F91\u4E4B\u95F4\u4E5F\u662F\u6709\u5173\u8054\u7684\uFF0C\u8FD9\u4E2A\u5173\u8054\u5C31\u662F"),n("code",null,"manifest"),s("\uFF0C\u9ED8\u8BA4 manifest \u662F\u5B58\u5728\u4E8E main \u4E5F\u5B58\u5728\u4E8E vendors \u4E2D\u7684\uFF0C\u5728\u4E0D\u540C\u7248\u672C\u7684 webapck \u4E2D\uFF0C"),n("code",null,"manifest"),s("\u53EF\u80FD\u6709\u5DEE\u5F02\uFF0C\uFF08\u53EF\u80FD\u5B58\u5728 content \u4E0D\u6539\u53D8\u6539\u53D8 manifest \u6539\u53D8\uFF0C\u4ECE\u800C\u5F71\u54CD\u5176\u4ED6\u6587\u4EF6\u6539\u53D8\uFF09\u8FD9\u5C31\u5BFC\u81F4\u4E86\u4E0A\u9762\u51FA\u73B0\u7684\uFF0C\u65E7\u7248\u672C webpack4 \u4E2D\uFF0C\u5373\u4F7F\u6CA1\u6709\u6539\u53D8 content\uFF0Chash \u4E5F\u4F1A\u6539\u53D8\u3002\u5F53\u6211\u4EEC\u914D\u7F6E\u4E86"),n("code",null,"runtimeChunk"),s("\u5C31\u4F1A\u5427"),n("code",null,"manifest"),s("\u4E2D\u7684\u4EE3\u7801\u63D0\u51FA\u6765\u5230 runtime.js \u4E2D\uFF0C\u8FD9\u6837\u7684\u8BDD\uFF0Cmain \u548C vendors \u76F8\u5BF9\u72EC\u7ACB\u4E00\u70B9\uFF0C\u5C31\u4E0D\u4F1A\u51FA\u73B0\u4E0A\u9762\u7684\u95EE\u9898\u4E86\u3002\u5F53\u7136\u4E86\uFF0C\u65B0\u7248\u672C\u7684 webpack \u4E5F\u662F\u53EF\u4EE5\u914D\u7F6E\u7684\uFF0C\u5927\u5BB6\u4E0D\u653E\u8BD5\u4E00\u8BD5\uFF0C\u4E0D\u8FC7\u65B0\u7248\u672C\u53EF\u4EE5\u4E0D\u7528\u914D\u7F6E\u3002")])],-1),Sa={href:"https://www.jianshu.com/p/906c61a716e6",target:"_blank",rel:"noopener noreferrer"},Ia=s("webpack \u4E0E\u6D4F\u89C8\u5668\u7F13\u5B58(Caching)"),Ba=e(`<h3 id="_3-9-shimming-\u7684\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#_3-9-shimming-\u7684\u4F5C\u7528" aria-hidden="true">#</a> 3.9 Shimming \u7684\u4F5C\u7528</h3><blockquote><p><strong><em>shimming</em></strong> <strong>\u5C06\u4E00\u4E2A\u65B0\u7684 API \u5F15\u5165\u5230\u4E00\u4E2A\u65E7\u7684\u73AF\u5883\u4E2D\uFF0C\u800C\u4E14\u4EC5\u9760\u65E7\u7684\u73AF\u5883\u4E2D\u5DF2\u6709\u7684\u624B\u6BB5\u5B9E\u73B0\u3002</strong></p><p><strong><em>ProvidePlugin</em></strong> \u6211\u4EEC\u5728\u7A0B\u5E8F\u4E2D\u66B4\u9732\u4E00\u4E2A\u53D8\u91CF\uFF0C\u901A\u77E5 webpack \u67D0\u4E2A\u5E93\u88AB\u4F7F\u7528\uFF0Cwebpack \u5C06\u5728\u6700\u7EC8\u7684 bundle \u4E2D\u5F15\u5165\u8BE5\u5E93\u3002</p></blockquote><h4 id="_3-9-1-\u521D\u6B65\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_3-9-1-\u521D\u6B65\u4F7F\u7528" aria-hidden="true">#</a> 3.9.1 \u521D\u6B65\u4F7F\u7528</h4><ol><li><p>\u5B89\u88C5 <code>lodash</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> lodash -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>index.js \u4E2D\u66F4\u6539\u4E3A\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u6CE8\u610F\uFF1A\u8FD9\u91CC\u6CA1\u6709\u5199\uFF1Aimport _ from &quot;lodash&quot;</span>
<span class="token keyword">function</span> <span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;webpack&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> element
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p><code>webpack.common.js</code>\u4E2D\u8FDB\u884C\u5982\u4E0B\u6DFB\u52A0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">_</span><span class="token operator">:</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run start</code>, \u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u53EF\u4EE5\u770B\u5230\u754C\u9762\u4E2D\u663E\u793A &quot;hello webpack&quot;</p></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run build</code>, \u53EF\u4EE5\u770B\u5230\u6253\u5305\u540E\u7684\u6587\u4EF6\u5927\u5C0F\u7565\u5927\uFF0C1M \u5DE6\u53F3</p></li></ol><h4 id="_3-9-2-\u8FD8\u53EF\u4EE5\u5229\u7528-provideplugin-\u66B4\u9732\u5E93\u4E2D\u7684\u5355\u4E00\u51FD\u6570-\u53D8\u91CF" tabindex="-1"><a class="header-anchor" href="#_3-9-2-\u8FD8\u53EF\u4EE5\u5229\u7528-provideplugin-\u66B4\u9732\u5E93\u4E2D\u7684\u5355\u4E00\u51FD\u6570-\u53D8\u91CF" aria-hidden="true">#</a> 3.9.2 \u8FD8\u53EF\u4EE5\u5229\u7528 ProvidePlugin \u66B4\u9732\u5E93\u4E2D\u7684\u5355\u4E00\u51FD\u6570\uFF08\u53D8\u91CF\uFF09</h4>`,5),Ta=e(`<li><p>index.js \u4E2D\u4EE3\u7801\u53EF\u4EE5\u66F4\u6539\u4E3A\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;webpack&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> element
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u6CE8\u610F\uFF0C\u8FD9\u4E2A\u6587\u4EF6\u91CC\u4E0D\u9700\u8981 import _ from lodash \u4E86</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.common.js \u66F4\u6539\u5982\u4E0B</span>
<span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;shimming&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token comment">// \u53C2\u7167\u5B98\u7F51\u4F7F\u7528 webpack.ProvidePlugin \u7684 treeshaking \u5199\u6CD5\u65E0\u6548: join: [&#39;lodash&#39;, &#39;join&#39;]</span>
  <span class="token comment">// \u66F4\u6539\u4E3A\u5982\u4E0B\u6709\u6548</span>
  <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">join</span><span class="token operator">:</span> <span class="token string">&#39;lodash-es/join&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>\u6CE8\u610F\uFF1A\u8FD9\u6837\uFF0C\u5C31\u53EF\u4EE5\u5C06 lodash \u5E93\u4E2D\u7684\u5176\u4ED6\u6CA1\u7528\u5230\u7684\u90E8\u5206\u53BB\u9664\u3002\uFF08tree shaking\uFF09</p><blockquote><p>\u4EFB\u4F55\u9700\u8981 AST \u7684\u529F\u80FD\uFF0CProvidePlugin \u90FD\u65E0\u6CD5\u6B63\u5E38\u8FD0\u884C</p></blockquote></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run start</code>, \u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u53EF\u4EE5\u770B\u5230\u754C\u9762\u4E2D\u663E\u793A &quot;hello webpack&quot;</p></li><li><p>\u8FD0\u884C\u6253\u5305\u547D\u4EE4<code>npm run prod-build</code> , \u6253\u5305\u4F53\u79EF\u660E\u663E\u51CF\u5C11\u4E86\u5F88\u591A</p></li>`,4),La=n("p",null,"\u6CE8\u610F\uFF1A\u4EE5\u4E0B\u95EE\u9898",-1),Oa=e(`<p>\u6211\u60F3\u8981\u4F7F\u7528 <code>lodash</code> \u4E2D\u7684 <code>chunk</code> \u65B9\u6CD5\uFF0C\u4F46\u662F\u76F4\u63A5\u5BFC\u5165 <code>lodash</code> \u5E76\u6253\u5305\u663E\u7136\u5F88\u5197\u4F59\uFF0C\u56E0\u4E3A\u6211\u5C31\u7528 <code>chunk</code> \u90A3\u4E2A\u65B9\u6CD5\u800C\u5DF2\uFF0C\u591A\u4E86\u6CA1\u7528\u3002<code>treeshaking</code> \u5C31\u8D1F\u8D23\u5E2E\u4F60\u53EA\u5F15\u7528 <code>chunk</code>\uFF0C\u628A\u591A\u4F59\u7684\u4EE3\u7801\u50CF\u6447\u6811\u4E00\u6837\u6447\u6389\u3002</p><p><code>treeshaking</code> \u662F\u57FA\u4E8E <code>ES6</code> \u7684 <code>import</code> \u548C <code>export</code> \u8BED\u6CD5\uFF0C\u6211\u5728\u5B9E\u8DF5\u4E2D\u9047\u5230\u4E86\u4EE5\u4E0B\u51E0\u4E2A\u95EE\u9898</p><p><strong>1. \u5982\u4E0B\u8BED\u6CD5\u65E0\u6548</strong></p><div class="language-jsx ext-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> chunk <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;lodash&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div>`,4),Ha=n("code",null,"lodash",-1),za=s(" \u6A21\u5757\u4E0D\u652F\u6301 "),Fa=n("code",null,"ES6",-1),Ua=s(" \u5199\u6CD5\uFF0C\u9700\u8981\u4F7F\u7528 "),Na=n("code",null,"lodash-es",-1),$a=s(" \u6A21\u5757 "),Ka=n("strong",null,"2. \u53C2\u7167\u5B98\u7F51\u4F7F\u7528 webpack.ProvidePlugin \u7684 treeshaking \u5199\u6CD5\u65E0\u6548",-1),Ga=s(" > "),Ja={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fwebpack.docschina.org%2Fguides%2Fshimming%2F%23shimming-%E5%85%A8%E5%B1%80%E5%8F%98%E9%87%8F",target:"_blank",rel:"noopener noreferrer"},Va=s("\u5B98\u7F51\u5199\u6CD5"),Ya=s("\uFF1A"),Qa=e(`<div class="language-csharp ext-cs line-numbers-mode"><pre class="language-csharp"><code>    plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token constructor-invocation class-name">webpack<span class="token punctuation">.</span>ProvidePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
<span class="token operator">-</span>       _<span class="token punctuation">:</span> &#39;lodash&#39;
<span class="token operator">+</span>       <span class="token keyword">join</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>&#39;lodash&#39;<span class="token punctuation">,</span> &#39;<span class="token keyword">join</span>&#39;<span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u76EE\u524D\u5199\u6CD5\uFF1A</p><div class="language-css ext-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">new webpack.ProvidePlugin(</span><span class="token punctuation">{</span>
  <span class="token property">_join</span><span class="token punctuation">:</span> <span class="token string">&quot;lodash-es/join&quot;</span>    //   lodash/join \u4E5F\u53EF
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>3. treeshaking \u5728 development \u6A21\u5F0F\u4E0B\u65E0\u6548\uFF0Cproduction \u4E0B\u6548\u679C\u6B63\u5E38</strong> &gt; <strong>4. \u8FD8\u6709\u4E00\u79CD\u60C5\u51B5\u4E5F\u4F1A\u5BFC\u81F4 treeshaking \u65E0\u6548\u3002\u5F53\u4F60\u4F7F\u7528 babel \u8FDB\u884C\u8BED\u6CD5\u8F6C\u6362\u65F6\uFF0C babel \u6709\u53EF\u80FD\u4F1A\u5C06\u4F60\u7684 import \u8BED\u6CD5\u8FDB\u884C\u4E86\u8F6C\u6362\uFF0C\u800C treeshaking \u662F\u57FA\u4E8E import \u8BED\u6CD5\u7684\u3002\u4F60\u9700\u8981\u505A\u7684\u662F\u628A babel \u7684\u914D\u7F6E\u6587\u4EF6 .babelrc \u4E2D\u6DFB\u52A0\u5982\u4E0B\u5B57\u6BB5 &quot;modules&quot;:false</strong></p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;env&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div>`,5),Xa=s("PS\uFF1A"),Za={href:"https://links.jianshu.com/go?to=https%3A%2F%2Fbabel.docschina.org%2Fdocs%2Fen%2Fbabel-preset-env%23modules",target:"_blank",rel:"noopener noreferrer"},np=s("modules"),sp=s(" \u5B57\u6BB5\u7528\u4E8E\u5C06 "),ap=n("code",null,"ES6",-1),pp=s(" \u5199\u6CD5\u8F6C\u6362\u4E3A "),ep=n("code",null,"CommonJS",-1),tp=s("\u3001"),op=n("code",null,"AMD",-1),cp=s(" \u7B49\u89C4\u8303\u7684\u5199\u6CD5\uFF0C"),lp=n("code",null,"false",-1),rp=s(" \u5C31\u662F\u4FDD\u7559 "),up=n("code",null,"ES6",-1),ip=s(" \u7684 "),kp=n("code",null,"import",-1),bp=s(" \u5199\u6CD5\uFF0C\u4E0D\u8FDB\u884C\u8F6C\u6362"),dp=n("p",null,"\u4F5C\u8005\uFF1A_\u6708\u5149\u4E34\u6D77 \u94FE\u63A5\uFF1Ahttps://www.jianshu.com/p/193b00d57ef5 \u6765\u6E90\uFF1A\u7B80\u4E66 \u8457\u4F5C\u6743\u5F52\u4F5C\u8005\u6240\u6709\u3002\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u8054\u7CFB\u4F5C\u8005\u83B7\u5F97\u6388\u6743\uFF0C\u975E\u5546\u4E1A\u8F6C\u8F7D\u8BF7\u6CE8\u660E\u51FA\u5904\u3002",-1),mp=n("h4",{id:"_3-9-3-imports-loader-\u8986\u5199-this-\u6307\u5411",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_3-9-3-imports-loader-\u8986\u5199-this-\u6307\u5411","aria-hidden":"true"},"#"),s(" 3.9.3 imports-loader \u8986\u5199 this \u6307\u5411")],-1),gp={href:"https://webpack.docschina.org/guides/shimming/#granular-shimming",target:"_blank",rel:"noopener noreferrer"},hp=s("\u53C2\u8003\u5B98\u7F51"),yp=e(`<ol><li><p>\u5148\u8FDB\u884C\u5B89\u88C5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i imports-loader
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u5728 CommonJS \u73AF\u5883\u4E0B\uFF0Cthis \u6307\u5411 module.exports\u3002\u901A\u8FC7 imports-loader \u5C06 this \u6307\u5411 window.</p></li><li><p>index.js \u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span>
  element<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;webpack&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&#39;test hahaha&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> element
<span class="token punctuation">}</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>module \u4E2D\u7684 rules \u6DFB\u52A0\u5982\u4E0B\u89C4\u5219</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&#39;imports-loader?wrapper=window&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4 <code>npm run start</code> , \u6253\u5F00\u6D4F\u89C8\u5668, \u53EF\u4EE5\u770B\u5230\u754C\u9762\u4E2D\u663E\u793A &quot;hello webpack&quot;</p></li></ol><h4 id="_3-9-4-\u5168\u5C40-exports-exports-loader-\u5C06\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\u4F5C\u4E3A\u4E00\u4E2A\u666E\u901A\u6A21\u5757\u5BFC\u51FA\u3002" tabindex="-1"><a class="header-anchor" href="#_3-9-4-\u5168\u5C40-exports-exports-loader-\u5C06\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\u4F5C\u4E3A\u4E00\u4E2A\u666E\u901A\u6A21\u5757\u5BFC\u51FA\u3002" aria-hidden="true">#</a> 3.9.4 \u5168\u5C40 Exports: <strong><em>exports-loader</em></strong> \u5C06\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\u4F5C\u4E3A\u4E00\u4E2A\u666E\u901A\u6A21\u5757\u5BFC\u51FA\u3002</h4>`,2),_p={href:"https://webpack.docschina.org/guides/shimming/#global-exports",target:"_blank",rel:"noopener noreferrer"},vp=s("\u5B98\u7F51\u94FE\u63A5"),fp=e(`<ol><li><p>\u5B89\u88C5\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i exports-loader
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u65B0\u5EFA global.js \u6587\u4EF6</p><blockquote><p>\u6CE8\u610F\uFF1A\u8FD9\u4E2A\u6587\u4EF6\u4E2D\u6CA1\u6709\u4EFB\u4F55 export \u8BED\u53E5\u3002</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> file <span class="token operator">=</span> <span class="token string">&#39;blah.txt&#39;</span>
<span class="token keyword">const</span> helpers <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">test</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;test something&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function-variable function">parse</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;parse something&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p><code>webpack.common.js</code> \u589E\u52A0\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;./src/global.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&#39;exports-loader?type=commonjs&amp;exports=file,multiple|helpers.parse|parse&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p><code>index.js</code>\u4E2D\u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> file<span class="token punctuation">,</span> parse <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./global.js&#39;</span><span class="token punctuation">)</span>

<span class="token function">parse</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run start</code>, \u6253\u5F00\u6D4F\u89C8\u5668\u53EF\u4EE5\u5728\u63A7\u5236\u53F0\u770B\u5230\u6548\u679C</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
	<span class="token string">&quot;start&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;webpack server --config webpack.common.js&quot;</span>,
<span class="token punctuation">}</span>,
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol><h4 id="_3-9-5-\u52A0\u8F7D-polyfills" tabindex="-1"><a class="header-anchor" href="#_3-9-5-\u52A0\u8F7D-polyfills" aria-hidden="true">#</a> 3.9.5 \u52A0\u8F7D Polyfills</h4><blockquote><p>\u6211\u4EEC\u901A\u5E38\u7684\u505A\u6CD5\u662F\u5148\u68C0\u67E5\u5F53\u524D\u6D4F\u89C8\u5668\u662F\u5426\u652F\u6301\u67D0\u4E2A API\uFF0C\u5982\u679C\u4E0D\u652F\u6301\u7684\u8BDD\u5C31\u52A0\u8F7D\u5BF9\u5E94\u7684 polyfill\u3002</p></blockquote><h4 id="_3-9-6-script-loader" tabindex="-1"><a class="header-anchor" href="#_3-9-6-script-loader" aria-hidden="true">#</a> 3.9.6 <strong><em>script-loader</em></strong></h4><blockquote><p>\u4F1A\u5728\u5168\u5C40\u4E0A\u4E0B\u6587\u4E2D\u5BF9\u4EE3\u7801\u8FDB\u884C\u53D6\u503C\uFF0C\u7C7B\u4F3C\u4E8E\u901A\u8FC7\u4E00\u4E2A <code>script</code> \u6807\u7B7E\u5F15\u5165\u811A\u672C\u3002\u5728\u8FD9\u79CD\u6A21\u5F0F\u4E0B\uFF0C\u6BCF\u4E00\u4E2A\u6807\u51C6\u7684\u5E93(library)\u90FD\u5E94\u8BE5\u80FD\u6B63\u5E38\u8FD0\u884C\u3002require,module \u7B49\u53D6\u503C\u4E3A undefine.</p><p>\u5F53\u4F7F\u7528 script-loader \u65F6\uFF0C\u6A21\u5757\u5C06\u8F6C\u5316\u4E3A\u5B57\u7B26\u4E32\uFF0C\u7136\u540E\u6DFB\u52A0\u5230 bundle \u4E2D\u3002\u5B83\u4E0D\u4F1A\u88AB webpack \u538B\u7F29\uFF0C\u6240\u4EE5\u5E94\u8BE5\u9009\u62E9\u4E00\u4E2A min \u7248\u672C\u3002\u540C\u65F6\uFF0Cscript-loader \u5C06\u4E0D\u4F1A\u6709 devtool \u7684\u652F\u6301\u3002</p></blockquote><p>\u8FD9\u4E9B\u8001\u65E7\u7684\u6A21\u5757\u5982\u679C\u6CA1\u6709 AMD/CommonJS \u89C4\u8303\u7248\u672C\uFF0C\u4F46\u4F60\u4E5F\u60F3\u5C06\u4ED6\u4EEC\u52A0\u5165 /dist \u76EE\u5F55\uFF0C\u4F60\u53EF\u4EE5\u4F7F\u7528 <strong><em><code>noParse</code></em></strong> \u6765\u6807\u8BC6\u51FA\u8FD9\u4E2A\u6A21\u5757\u3002\u8FD9\u6837\u5C31\u80FD\u4F7F webpack \u5C06\u5F15\u5165\u8FD9\u4E9B\u6A21\u5757\uFF0C\u4F46\u662F\u4E0D\u8FDB\u884C\u8F6C\u5316(parse)\u548C\u89E3\u6790(resolve) <code>require</code>\u548C <code>import</code> \u8BED\u53E5\u3002\u8FD9\u4E2A\u5B9E\u8DF5\u5C06\u63D0\u5347\u6784\u5EFA\u6027\u80FD\u3002</p><h4 id="_3-9-7-thread-loader" tabindex="-1"><a class="header-anchor" href="#_3-9-7-thread-loader" aria-hidden="true">#</a> 3.9.7 <strong><em>thread-loader</em></strong></h4><p>\u53EF\u4EE5\u5C06\u975E\u5E38\u6D88\u8017\u8D44\u6E90\u7684 loaders \u8F6C\u5B58\u5230 worker pool \u4E2D\u3002</p><h4 id="_3-9-8-cache-loader-\u542F\u7528\u6301\u4E45\u5316\u7F13\u5B58" tabindex="-1"><a class="header-anchor" href="#_3-9-8-cache-loader-\u542F\u7528\u6301\u4E45\u5316\u7F13\u5B58" aria-hidden="true">#</a> 3.9.8 <strong><em>cache-loader</em></strong> \u542F\u7528\u6301\u4E45\u5316\u7F13\u5B58</h4><p>\u53EF\u4EE5\u5728\u591A\u4E2A\u7F16\u8BD1\u4E4B\u95F4\u5171\u4EAB\u7F13\u5B58\u3002\u4F7F\u7528 <code>package.json</code> \u4E2D\u7684 <code>&quot;postinstall&quot;</code> \u6E05\u9664\u7F13\u5B58\u76EE\u5F55\u3002</p><h4 id="_3-9-x-\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#_3-9-x-\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> 3.9.x \u53C2\u8003\u6587\u732E</h4>`,11),jp={href:"https://www.cnblogs.com/ceceliahappycoding/p/12259786.html",target:"_blank",rel:"noopener noreferrer"},wp=s("webpack \u6307\u5357\uFF1Ashimming"),xp={href:"https://webpack.js.org/guides/shimming/",target:"_blank",rel:"noopener noreferrer"},qp=s("webpack \u5B98\u7F51\u4E4B shimming"),Pp={href:"https://www.webpackjs.com/guides/shimming/",target:"_blank",rel:"noopener noreferrer"},Cp=s("webpack \u4E2D\u6587\u6587\u6863\u4E4B shimming"),Ep={href:"https://www.jianshu.com/p/193b00d57ef5",target:"_blank",rel:"noopener noreferrer"},Mp=s("webpack4 \u6A21\u677F\u914D\u7F6E\u53CA\u9047\u5230\u7684\u95EE\u9898"),Ap=e(`<h3 id="_3-10-\u73AF\u5883\u53D8\u91CF\u7684\u4F7F\u7528\u65B9\u6CD5" tabindex="-1"><a class="header-anchor" href="#_3-10-\u73AF\u5883\u53D8\u91CF\u7684\u4F7F\u7528\u65B9\u6CD5" aria-hidden="true">#</a> 3.10 \u73AF\u5883\u53D8\u91CF\u7684\u4F7F\u7528\u65B9\u6CD5</h3><h4 id="_3-10-1-\u521D\u6B65\u5E94\u7528" tabindex="-1"><a class="header-anchor" href="#_3-10-1-\u521D\u6B65\u5E94\u7528" aria-hidden="true">#</a> 3.10.1 \u521D\u6B65\u5E94\u7528</h4><blockquote><p>\u6B64\u7528\u6CD5\u4E0D\u5EFA\u8BAE\uFF0C\u53EA\u505A\u4E86\u89E3\u5C31\u53EF\uFF0C\u4E3B\u6D41\u7684\u4E0D\u7528\u8FD9\u79CD</p></blockquote><ol><li><p>\u4FEE\u6539\u6253\u5305\u811A\u672C\u547D\u4EE4\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string-property property">&quot;dev-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
   <span class="token string-property property">&quot;prod-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --env production --config webpack.common.js&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u4FEE\u6539 <code>webpack.common.js</code> \u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.dev&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.prod&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span><span class="token punctuation">{</span> <span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token operator">...</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>env <span class="token operator">&amp;&amp;</span> env<span class="token punctuation">.</span>production<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> prodConfig<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> devConfig<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>\u518D\u6B21\u6267\u884C\u5982\u4E0B\u6253\u5305\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> run dev-build  // \u4EA7\u751F\u6D4B\u8BD5\u73AF\u5883\u7684\u7ED3\u679C
<span class="token function">npm</span> run prod-build // \u4EA7\u751F\u751F\u4EA7\u73AF\u5883\u7684\u7ED3\u679C
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li></ol><h4 id="_3-10-2-\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#_3-10-2-\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> 3.10.2 \u53C2\u8003\u6587\u732E</h4>`,5),Dp={href:"https://webpack.js.org/guides/environment-variables/",target:"_blank",rel:"noopener noreferrer"},Rp=s("webpack \u4F7F\u7528\u73AF\u5883\u53D8\u91CF"),Wp=e('<h2 id="_4\u3001\u5B9E\u6218\u914D\u7F6E\u6848\u4F8B\u8BB2\u89E3" tabindex="-1"><a class="header-anchor" href="#_4\u3001\u5B9E\u6218\u914D\u7F6E\u6848\u4F8B\u8BB2\u89E3" aria-hidden="true">#</a> 4\u3001\u5B9E\u6218\u914D\u7F6E\u6848\u4F8B\u8BB2\u89E3</h2><h3 id="_4-1-library-\u7684\u6253\u5305" tabindex="-1"><a class="header-anchor" href="#_4-1-library-\u7684\u6253\u5305" aria-hidden="true">#</a> 4.1 Library \u7684\u6253\u5305</h3><h4 id="_4-1-1-\u6CA1\u6709\u4F7F\u7528\u4F9D\u8D56\u7684\u81EA\u6709\u5E93-library" tabindex="-1"><a class="header-anchor" href="#_4-1-1-\u6CA1\u6709\u4F7F\u7528\u4F9D\u8D56\u7684\u81EA\u6709\u5E93-library" aria-hidden="true">#</a> 4.1.1 \u6CA1\u6709\u4F7F\u7528\u4F9D\u8D56\u7684\u81EA\u6709\u5E93 library</h4><blockquote><p>\u4E0A\u9762\u7684\u6559\u7A0B\u66F4\u591A\u662F\u5F00\u53D1\u4E1A\u52A1\u4EE3\u7801\uFF0C\u9664\u4E86\u6253\u5305\u5E94\u7528\u7A0B\u5E8F\uFF0Cwebpack \u8FD8\u53EF\u4EE5\u7528\u4E8E\u6253\u5305 JavaScript library\u3002\u4EE5\u4E0B\u6307\u5357\u9002\u7528\u4E8E\u5E0C\u671B\u7B80\u5316\u6253\u5305\u7B56\u7565\u7684 library \u4F5C\u8005\u3002</p></blockquote>',4),Sp=e(`<li><p>\u65B0\u521B\u5EFA\u4E00\u4E2A\u6587\u4EF6\u5939\uFF0C\u540D\u5B57\u6BD4\u5982\u53EB\u505A <code>library</code></p></li><li><p>\u8FDB\u884C\u521D\u59CB\u5316</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm init
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u5B89\u88C5 webpack webpack-cli</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> webpack webpack-cli
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u521B\u5EFA <code>index.js</code>\u3001<code>math.js</code>\u3001<code>string.js</code> \u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// index.js: \u6CE8\u610F\u8FD9\u91CC\u5199\u6CD5\u4E0D\u540C\uFF0C\u5F15\u5165\u65B9\u5F0F\u4E5F\u4F1A\u4E0D\u540C</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./math&#39;</span>
<span class="token keyword">export</span> <span class="token operator">*</span> <span class="token keyword">from</span> <span class="token string">&#39;./string&#39;</span>

<span class="token comment">// math.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> b
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">minus</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">-</span> b
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">multiply</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">*</span> b
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">division</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">/</span> b
<span class="token punctuation">}</span>

<span class="token comment">// string.js</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> a <span class="token operator">+</span> <span class="token string">&#39;&#39;</span> <span class="token operator">+</span> b
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li><li><p>\u521B\u5EFA <code>webpack.config.js</code>\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;library.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u4FEE\u6539<code>package.json</code>\u6587\u4EF6\u4E2D\u7684\u6253\u5305\u547D\u4EE4\uFF0C\u66F4\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack build&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u8FD0\u884C\u6253\u5305\u547D\u4EE4<code>npm run build</code>, \u8FDB\u884C\u6253\u5305\uFF0C\u7ED3\u679C\u8F93\u51FA<code>dist</code> \u76EE\u5F55\u548C<code>librarya.js</code>\u6587\u4EF6</p></li><li><p>\u8FD9\u65F6\u5019\uFF0C\u663E\u7136\u4F5C\u4E3A\u4E1A\u52A1\u4EE3\u7801\u5F00\u53D1\u662F\u4E0A\u9762\u7684\u6D41\u7A0B\uFF0C\u4E5F\u662F\u53EF\u4EE5\u4F7F\u7528\u3002\u4F46\u662F\u5982\u679C\u4F5C\u4E3A\u5E93\u6587\u4EF6\u4F9B\u5176\u4ED6\u5F00\u53D1\u8005\u4F7F\u7528\uFF0C\u663E\u7136\u662F\u4E0D\u53EF\u4EE5\u7684</p></li><li><p>\u9996\u5148\uFF0C\u4F5C\u4E3A\u5F00\u53D1\u8005\uFF0C\u4F7F\u7528\u7B2C\u4E09\u65B9\u4F9D\u8D56\u5E93\u6709\u5982\u4E0B\u51E0\u79CD\u8C03\u7528\u65B9\u5F0F</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u7B2C\u4E00\u79CD:es6\u65B9\u5F0F</span>
<span class="token keyword">import</span> library <span class="token keyword">from</span> <span class="token string">&quot;library&quot;</span>

<span class="token comment">// \u7B2C\u4E8C\u79CD:commonjs\u65B9\u5F0F</span>
<span class="token keyword">const</span> library <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;library&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u7B2C\u4E09\u79CD:AMD\u65B9\u5F0F</span>
<span class="token function">define</span><span class="token punctuation">(</span><span class="token string">&quot;library&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">library</span><span class="token punctuation">)</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// \u7B2C\u56DB\u79CD:script\u6807\u7B7E\u5F15\u5165</span>
<span class="token operator">&lt;</span>script src<span class="token operator">=</span><span class="token string">&quot;http://xxx.com/library.js&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// \u8FD9\u91CC\u76F4\u63A5\u4F7F\u7528 library</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>\u6211\u4EEC\u53EF\u4EE5\u5728<code>webpack.config.js</code>\u4E2D\u7684<code>output</code>\u9879\u76EE\u4E2D\u5728\u6DFB\u52A0\u4E00\u9879<code>libraryTarget</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">output</span><span class="token operator">:</span><span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token comment">// libraryTarget: &#39;umd&#39;,</span>
  <span class="token comment">// library: &#39;library&#39;</span>
  <span class="token comment">// \u4E0A\u8FF0\u5199\u6CD5\u5728\u5B98\u7F51\u63D0\u5230\uFF1A\u672A\u6765\u53EF\u80FD\u4F1A\u79FB\u9664\uFF0C\u5EFA\u8BAE\u66F4\u6539\u4E3A\u5982\u4E0B\u5199\u6CD5</span>
  <span class="token comment">//</span>
  <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;library&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li>`,10),Ip=s("\u6CE8\u610F\uFF1A\u8FD9\u91CC\u7684 "),Bp=n("code",null,"libraryTarget",-1),Tp=s("\u3001"),Lp=n("code",null,"library",-1),Op=s("\u6709\u51E0\u79CD\u4E0D\u540C\u7684\u914D\u7F6E(\u5B98\u65B9\u7F51\u7AD9\u5EFA\u8BAE\u66F4\u6539\u4E3A\uFF1A"),Hp={href:"https://webpack.docschina.org/configuration/output/#outputlibrarytype",target:"_blank",rel:"noopener noreferrer"},zp=n("code",null,"output.library.type",-1),Fp=s(")"),Up=e("<blockquote><p>\u7C7B\u578B\u9ED8\u8BA4\u5305\u62EC <code>&#39;var&#39;</code>\u3001<code>&#39;module&#39;</code>\u3001<code>&#39;assign&#39;</code>\u3001<code>&#39;assign-properties&#39;</code>\u3001<code>&#39;this&#39;</code>\u3001<code>&#39;window&#39;</code>\u3001<code>&#39;self&#39;</code>\u3001<code>&#39;global&#39;</code>\u3001<code>&#39;commonjs&#39;</code>\u3001<code>&#39;commonjs2&#39;</code>\u3001<code>&#39;commonjs-module&#39;</code>\u3001<code>&#39;commonjs-static&#39;</code>\u3001<code>&#39;amd&#39;</code>\u3001<code>&#39;amd-require&#39;</code>\u3001<code>&#39;umd&#39;</code>\u3001<code>&#39;umd2&#39;</code>\u3001<code>&#39;jsonp&#39;</code> \u4EE5\u53CA <code>&#39;system&#39;</code>\uFF0C\u9664\u6B64\u4E4B\u5916\u4E5F\u53EF\u4EE5\u901A\u8FC7\u63D2\u4EF6\u6DFB\u52A0\u3002</p></blockquote>",1),Np=n("li",null,[s("var\uFF1A\u5F53 library \u52A0\u8F7D\u5B8C\u6210\uFF0C"),n("strong",null,"\u5165\u53E3\u8D77\u70B9\u7684\u8FD4\u56DE\u503C"),s("\u5C06\u5206\u914D\u7ED9\u4E00\u4E2A\u53D8\u91CF\uFF1A")],-1),$p=n("li",null,[s("This\uFF1A"),n("strong",null,"\u5165\u53E3\u8D77\u70B9\u7684\u8FD4\u56DE\u503C"),s(" \u5C06\u4F1A\u88AB\u8D4B\u503C\u7ED9 this \u5BF9\u8C61\u4E0B\u7684 "),n("code",null,"output.library.name"),s(" \u5C5E\u6027\u3002")],-1),Kp=s("global\uFF1A"),Gp=n("strong",null,"\u5165\u53E3\u8D77\u70B9\u7684\u8FD4\u56DE\u503C",-1),Jp=s(" \u5C06\u4F1A\u88AB\u590D\u5236\u7ED9\u5168\u5C40\u5BF9\u8C61\u4E0B\u7684 "),Vp=n("code",null,"output.library.name",-1),Yp=s("\u3002\u53D6\u51B3\u4E8E "),Qp={href:"https://webpack.docschina.org/configuration/target/",target:"_blank",rel:"noopener noreferrer"},Xp=n("code",null,"target",-1),Zp=s(" \u503C\uFF0C\u5168\u5C40\u5BF9\u8C61\u53EF\u4EE5\u5206\u522B\u6539\u53D8,\u4F8B\u5982\uFF0C"),ne=n("code",null,"self",-1),se=s("\u3001"),ae=n("code",null,"global",-1),pe=s(" \u6216\u8005 "),ee=n("code",null,"globalThis",-1),te=s("\u3002"),oe=n("li",null,[s("window\uFF1A"),n("strong",null,"\u5165\u53E3\u8D77\u70B9\u7684\u8FD4\u56DE\u503C"),s("\u5C06\u4F7F\u7528 "),n("code",null,"output.library"),s(" \u4E2D\u5B9A\u4E49\u7684\u503C\uFF0C\u5206\u914D\u7ED9 "),n("code",null,"window"),s(" \u5BF9\u8C61\u7684\u8FD9\u4E2A\u5C5E\u6027\u4E0B\u3002")],-1),ce=n("p",null,"\u53C2\u8003\u6587\u6863",-1),le={href:"https://www.xlaoyu.info/2018/01/05/webpack-output-librarytarget/",target:"_blank",rel:"noopener noreferrer"},re=s("\u8BE6\u89E3 webpack \u7684 out.libraryTarget \u5C5E\u6027"),ue={href:"https://webpack.docschina.org/configuration/output/#outputlibrary",target:"_blank",rel:"noopener noreferrer"},ie=s("webpack \u5B98\u7F51\u4E4B library"),ke={href:"https://segmentfault.com/a/1190000021318631",target:"_blank",rel:"noopener noreferrer"},be=s("\u5982\u4F55\u4F7F\u7528 webpack \u6253\u5305\u4E00\u4E2A\u5E93 library"),de=e(`<h4 id="_4-1-2-\u5F15\u5165\u5176\u4ED6\u7684\u5E93\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#_4-1-2-\u5F15\u5165\u5176\u4ED6\u7684\u5E93\u7528\u6CD5" aria-hidden="true">#</a> 4.1.2 \u5F15\u5165\u5176\u4ED6\u7684\u5E93\u7528\u6CD5</h4><blockquote><p><code>externals</code> \u914D\u7F6E\u9009\u9879\u63D0\u4F9B\u4E86\u300C\u4ECE\u8F93\u51FA\u7684 bundle \u4E2D\u6392\u9664\u4F9D\u8D56\u300D\u7684\u65B9\u6CD5\u3002\u76F8\u53CD\uFF0C\u6240\u521B\u5EFA\u7684 bundle \u4F9D\u8D56\u4E8E\u90A3\u4E9B\u5B58\u5728\u4E8E\u7528\u6237\u73AF\u5883(consumer&#39;s environment)\u4E2D\u7684\u4F9D\u8D56\u3002\u6B64\u529F\u80FD\u901A\u5E38\u5BF9 <strong>library \u5F00\u53D1\u4EBA\u5458</strong>\u6765\u8BF4\u662F\u6700\u6709\u7528\u7684\uFF0C\u7136\u800C\u4E5F\u4F1A\u6709\u5404\u79CD\u5404\u6837\u7684\u5E94\u7528\u7A0B\u5E8F\u7528\u5230\u5B83\u3002</p></blockquote><ol><li><p>\u4E0A\u8FF0\u9879\u76EE\u4E2D\u672A\u4F7F\u7528 <code>lodash</code>, \u5047\u5982\u5F15\u5165\u7B2C\u4E09\u65B9\u65F6\u5019\uFF0C\u66F4\u6539<code>string.js</code>\u6587\u4EF6\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#39;lodash&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u5B89\u88C5<code>lodash</code>\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> lodash --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u6B64\u65F6\u5982\u679C\u8FDB\u884C\u6253\u5305<code>npm run build</code>\uFF0C\u53EF\u4EE5\u53D1\u73B0\u6253\u5305\u6587\u4EF6<code>bundle.js</code>\u6587\u4EF6\u7565\u5927\uFF0C\u56E0\u4E3A\u5B83\u628A<code>lodash</code>\u5E93\u4E5F\u6253\u5305\u8FDB\u5165\u4E86\u3002</p></li><li><p>\u5728\u5F00\u53D1\u76F8\u5173\u5E93\u6216\u8005\u5176\u4ED6\u529F\u80FD\u65F6\uFF0C\u6211\u4EEC\u5E76\u4E0D\u5E0C\u671B\u6253\u5305\u6587\u4EF6\u5F15\u5165\u76F8\u5173\u4F9D\u8D56\u5E93\uFF0C\u56E0\u4E3A\u5982\u679C\u5176\u4ED6\u4F7F\u7528\u8005\u4E5F\u4F7F\u7528\u4E86\u76F8\u5173\u4F9D\u8D56\uFF0C\u5C31\u4F1A\u9020\u6210\u52A0\u8F7D\u7684\u91CD\u590D\u3002\u4E3A\u6B64\uFF0C\u901A\u8FC7<code>externals</code>\u914D\u7F6E\u9879\u5C31\u53EF\u4EE5\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898</p></li><li><p><code>string.js</code>\u4FEE\u6539\u4E3A\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#39;lodash1&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">join</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p><code>webpack.common.js</code>\u4E2D\u7684\u914D\u7F6E\u6587\u4EF6\u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">lodash1</span><span class="token operator">:</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u6B64\u65F6\u5982\u679C\u8FDB\u884C\u6253\u5305<code>npm run build</code>\uFF0C\u53EF\u4EE5\u53D1\u73B0\u6253\u5305\u6587\u4EF6<code>bundle.js</code>\u6587\u4EF6\u5DF2\u7ECF\u53D8\u5C0F\u4E86\uFF0C\u56E0\u4E3A\u5B83\u628A<code>lodash</code>\u5E93\u5728\u6253\u5305\u8FC7\u7A0B\u4E2D\u5FFD\u7565\u4E86</p></li><li><p>\u5173\u4E8E externals \u7684\u8D4B\u503C\u65B9\u5F0F\u6709\u4EE5\u4E0B\u51E0\u79CD</p><ol><li><p>\u6570\u7EC4\uFF1A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u5BF9\u8C61</p><blockquote><p>\u5916\u90E8 library \u53EF\u80FD\u662F\u4EE5\u4E0B\u4EFB\u4F55\u4E00\u79CD\u5F62\u5F0F\uFF1A</p><ul><li><strong>root</strong>\uFF1A\u53EF\u4EE5\u901A\u8FC7\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF\u8BBF\u95EE library\uFF08\u4F8B\u5982\uFF0C\u901A\u8FC7 script \u6807\u7B7E\uFF09\u3002</li><li><strong>commonjs</strong>\uFF1A\u53EF\u4EE5\u5C06 library \u4F5C\u4E3A\u4E00\u4E2A CommonJS \u6A21\u5757\u8BBF\u95EE\u3002</li><li><strong>commonjs2</strong>\uFF1A\u548C\u4E0A\u9762\u7684\u7C7B\u4F3C\uFF0C\u4F46\u5BFC\u51FA\u7684\u662F <code>module.exports.default</code>.</li><li><strong>amd</strong>\uFF1A\u7C7B\u4F3C\u4E8E <code>commonjs</code>\uFF0C\u4F46\u4F7F\u7528 AMD \u6A21\u5757\u7CFB\u7EDF\u3002</li></ul></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">jquery</span><span class="token operator">:</span> <span class="token string">&#39;jQuery&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token comment">// \u6216\u8005</span>
 <span class="token literal-property property">externals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token literal-property property">lodash</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token literal-property property">commonjs</span><span class="token operator">:</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">amd</span><span class="token operator">:</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">,</span>
     <span class="token literal-property property">root</span><span class="token operator">:</span> <span class="token string">&#39;_&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6307\u5411\u5168\u5C40\u53D8\u91CF</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u8FD8\u6709\u5176\u4ED6\u7684\u51FD\u6570\u3001\u6B63\u5219\u7B49\uFF0C\u5E38\u89C1\u7684\u662F\u4E0A\u8FF0\u65B9\u5F0F</p></li></ol></li></ol><h4 id="_4-1-3-\u53C2\u8003\u6587\u732E" tabindex="-1"><a class="header-anchor" href="#_4-1-3-\u53C2\u8003\u6587\u732E" aria-hidden="true">#</a> 4.1.3 \u53C2\u8003\u6587\u732E</h4>`,4),me={href:"https://webpack.docschina.org/configuration/externals/",target:"_blank",rel:"noopener noreferrer"},ge=s("webpack \u4E4B externals"),he={href:"https://segmentfault.com/a/1190000012113011",target:"_blank",rel:"noopener noreferrer"},ye=s("webpack externals \u6DF1\u5165\u7406\u89E3:\u628A\u4F9D\u8D56\u5305\u53D8\u4E3A CDN \u5F15\u7528\uFF0C\u51CF\u5C11\u52A0\u8F7D\u65F6\u95F4\uFF0C\u914D\u7F6E External \u5FFD\u7565\u5E93\u6587\u4EF6\u7684\u6253\u5305"),_e={href:"https://juejin.cn/post/6844904079320154126",target:"_blank",rel:"noopener noreferrer"},ve=s("Webpack \u4F18\u5316\u603B\u4F1A\u8BA9\u4F60\u4E0D\u5F97\u4E0D\u7231"),fe=e(`<h3 id="_4-2-pwa-progressive-web-application" tabindex="-1"><a class="header-anchor" href="#_4-2-pwa-progressive-web-application" aria-hidden="true">#</a> 4.2 PWA: Progressive Web Application</h3><blockquote><p>Progressive Web Apps\uFF08PWA\uFF09\u662F\u4E00\u4E2A\u7ED3\u5408\u4E86\u6700\u597D\u7684 web \u548C app \u7ECF\u9A8C\u7684\u6E10\u8FDB\u5F0F\u7F51\u7EDC\u5E94\u7528\u7A0B\u5E8F\u3002\u5B83\u5BF9\u7528\u6237\u6765\u8BF4\u662F\u975E\u5E38\u6709\u7528\u7684\uFF0C\u5B83\u4E0D\u9700\u8981\u5B89\u88C5\uFF0C\u53EA\u9700\u8981\u4ECE\u6D4F\u89C8\u5668\u6807\u7B7E\u5F00\u59CB\u8BBF\u95EE\u3002\u968F\u7740\u7528\u6237\u4E0E app \u5EFA\u7ACB\u7684\u5173\u7CFB\uFF0C\u5B83\u53D8\u5F97\u8D8A\u6765\u8D8A\u5F3A\u5927\u3002\u5373\u4F7F\u5728\u7247\u72B6\u7F51\u7EDC\u4E0A\uFF0C\u5B83\u4E5F\u53EF\u4EE5\u5B9E\u73B0\u5FEB\u901F\u52A0\u8F7D\uFF0C\u5E76\u53D1\u9001\u76F8\u5173\u63A8\u9001\u901A\u77E5\u3002\u5B83\u53EF\u4EE5\u5728\u4E3B\u5C4F\u5E55\u4E0A\u521B\u5EFA\u56FE\u6807\uFF0C\u5E76\u52A0\u8F7D\u4E3A\u9876\u7EA7\u5168\u5C4F\u4F53\u9A8C\u3002</p></blockquote><h4 id="_4-2-1-\u4E0D\u4F7F\u7528\u65F6\u7684\u60C5\u51B5" tabindex="-1"><a class="header-anchor" href="#_4-2-1-\u4E0D\u4F7F\u7528\u65F6\u7684\u60C5\u51B5" aria-hidden="true">#</a> 4.2.1 \u4E0D\u4F7F\u7528\u65F6\u7684\u60C5\u51B5</h4><ol><li><p>\u5220\u9664 node_modules \u6587\u4EF6\u5939\uFF0C\u4EE5\u53CA\u5176\u4ED6\u4E00\u4E9B\u4E0D\u5FC5\u8981\u7684 package.json \u4E2D\u7684\u4F9D\u8D56\u5220\u9664\uFF0C\u5E76\u66F4\u6539\u6253\u5305\u547D\u4EE4\uFF08\u53EF\u4EE5\u53C2\u8003\u4EE5\u4E0B\u914D\u7F6E\u5185\u5BB9\uFF09</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// package.json</span>
<span class="token punctuation">{</span>
  <span class="token string-property property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-demo&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;sideEffects&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;*.css&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;description&quot;</span><span class="token operator">:</span> <span class="token string">&quot;\u6211\u7684&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack server --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;dev-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;prod-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --env production --config webpack.common.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;author&quot;</span><span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;license&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ISC&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;dependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;@babel/core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.17.9&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;@babel/preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.16.11&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;@babel/preset-react&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.16.7&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;@babel/runtime-corejs2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.17.9&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;core-js&quot;</span><span class="token operator">:</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.71.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.9.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack-merge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.8.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.17.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;autoprefixer&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.4.4&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;babel-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.2.4&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;clean-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;css-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.7.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;css-minimizer-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;file-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;html-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.5.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;less&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.1.2&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;less-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^10.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;mini-css-extract-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^2.6.0&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;postcss&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.4.12&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;postcss-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.2.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;style-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack-dev-middleware&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.3.1&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.8.1&quot;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div></li><li><p>\u91CD\u65B0\u6267\u884C\u5B89\u88C5\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u5165\u53E3\u6587\u4EF6\u5185\u5BB9\u8FDB\u884C\u66F4\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// index.js</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello, this is pwa&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\`\`\`webpack.common.js\`\u6587\u4EF6\u4E2D\u5220\u9664\u4E0D\u5FC5\u8981\u914D\u7F6E\u9879(\u53EF\u4EE5\u53C2\u8003\u4E0B\u8FF0\u914D\u7F6E)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.dev&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.prod&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bundle</span><span class="token operator">:</span> <span class="token string">&#39;/src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span> <span class="token string">&#39;images/[name][ext]&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u8F93\u51FA\u7684\u6BCF\u4E2A CSS \u6587\u4EF6\u7684\u540D\u79F0\u3002\u673A\u5236\u7C7B\u4F3C\u4E8E output.filename\u3002</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u975E\u5165\u53E3\u7684 chunk \u6587\u4EF6\u540D\u79F0\u673A\u5236\u7C7B\u4F3C\u4E8E output.chunkFilename</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>env <span class="token operator">&amp;&amp;</span> env<span class="token punctuation">.</span>production<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> prodConfig<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> devConfig<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br></div></div></li><li><p><code>pwa</code>\u6280\u672F\u4E3B\u8981\u7528\u4E8E\u751F\u4EA7\u73AF\u5883, <code>webpack.prod.js</code>\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B(\u4EC5\u4F9B\u53C2\u8003)</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CommonConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.common&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CssMinimizerPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;css-minimizer-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].[contenthash].js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devtool</span><span class="token operator">:</span> <span class="token string">&#39;nosources-source-map&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">optimization</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">minimizer</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token comment">// For webpack@5 you can use the \`...\` syntax to extend existing minimizers (i.e. \`terser-webpack-plugin\`), uncomment the next line</span>
      <span class="token comment">// \`...\`,</span>
      <span class="token keyword">new</span> <span class="token class-name">CssMinimizerPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>CommonConfig<span class="token punctuation">,</span> prodConfig<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run prod-build</code>\uFF0C\u751F\u6210 <code>bundle</code>\u6587\u4EF6\u5939\u3002</p></li><li><p>\u5B89\u88C5<code>http-server</code>\u6A21\u5757\uFF0C\u6A21\u62DF\u7EBF\u4E0A\u670D\u52A1\u5668\u73AF\u5883</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> http-server -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u6DFB\u52A0\u8FD0\u884C\u811A\u672C\u547D\u4EE4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// package.json</span>
 <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http-server ./bundle&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u540E\u9762\u662F\u6253\u5305\u6587\u4EF6\u5939\uFF0C\u5177\u4F53\u4EE5\u81EA\u5DF1\u9879\u76EE\u6253\u5305\u914D\u7F6E\u6587\u4EF6\u5939\u4E3A\u51C6</span>
   <span class="token operator">...</span><span class="token punctuation">.</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run start</code>\u8FDB\u884C\u6A21\u62DF\u6548\u679C\uFF0C\u53EF\u5728\u6D4F\u89C8\u5668\u4E2D\u6253\u5305\u670D\u52A1\u7F51\u9875\uFF0C\u63A7\u5236\u53F0\u4E2D\u6253\u5370\u51FA<code>index.js</code>\u4E2D\u7684\u7ED3\u679C<code>hello, this is pwa</code></p></li><li><p>\u5173\u95ED\u7EC8\u7AEF\u6A21\u62DF\u670D\u52A1\u547D\u4EE4\uFF0C\u518D\u6B21\u5237\u65B0\u6D4F\u89C8\u5668\u53EF\u4EE5\u770B\u5F85\u9875\u9762\u5DF2\u7ECF\u4E0D\u80FD\u6B63\u5E38\u663E\u793A\u3002\u6709\u6CA1\u6709\u529E\u6CD5\uFF0C\u53EF\u4EE5\u5728\u670D\u52A1\u5668\u6302\u6389\u540E\uFF0C\u8FD8\u53EF\u4EE5\u6B63\u5E38\u663E\u793A\u5462\uFF0C\u7B54\u6848\u81EA\u7136\u662F\u6709\u7684</p></li></ol><h4 id="_4-2-2-\u5B9E\u6218-pwa" tabindex="-1"><a class="header-anchor" href="#_4-2-2-\u5B9E\u6218-pwa" aria-hidden="true">#</a> 4.2.2 \u5B9E\u6218 PWA</h4><ol><li><p>\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> workbox-webpack-plugin --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><code>webpack.prod.js</code>\u4E2D\u6DFB\u52A0\u63D2\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> GenerateSW <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;workbox-webpack-plugin&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span><span class="token punctuation">,</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
      <span class="token operator">...</span>
   	<span class="token comment">// sw \u5168\u5199 service worker</span>
      <span class="token keyword">new</span> <span class="token class-name">GenerateSW</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">clientsClaim</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">skipWaiting</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>CommonConfig<span class="token punctuation">,</span> prodConfig<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run prod-build</code>\uFF0C\u751F\u6210 <code>bundle</code>\u6587\u4EF6\u5939\u3002\u4F1A\u53D1\u73B0\u6587\u4EF6\u5939\u4E2D\u591A\u4E86\u51E0\u4E2A\u6587\u4EF6\uFF0C\u5176\u4E2D\u6709\u4E00\u4E2A\u662F<code>service-worker.js</code>, \u8FD9\u4E2A\u6587\u4EF6\u5C31\u662F\u7528\u6765\u505A pwa \u5904\u7406</p></li><li><p>\u4E0D\u8FC7\uFF0C<code>index.js</code>\u8FD8\u8981\u505A\u5982\u4E0B\u66F4\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello, this is pwa&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u6DFB\u52A0\u5982\u4E0B\u4EE3\u7801</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">&#39;serviceWorker&#39;</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;load&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    navigator<span class="token punctuation">.</span>serviceWorker
      <span class="token punctuation">.</span><span class="token function">register</span><span class="token punctuation">(</span><span class="token string">&#39;./service-worker.js&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">registration</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;service-worker registered&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">error</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;service-worker registered error&#39;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u518D\u6B21\u8FD0\u884C\u6253\u5305\u547D\u4EE4<code>npm run prod-build</code>\uFF0C\u91CD\u65B0\u6253\u5305</p></li><li><p>\u7136\u540E\u8FD0\u884C<code>npm run start</code>, \u5728\u6D4F\u89C8\u5668\u91CC\u770B\u6548\u679C\uFF0C\u6B63\u5E38\u8F93\u51FA</p></li><li><p>\u6B64\u540E\uFF0C\u628A\u7EC8\u7AEF\u8FD0\u884C\u7684\u672C\u5730\u670D\u52A1\u5668\u547D\u4EE4\u9000\u51FA\uFF0C\u6B64\u65F6\u5728\u770B\u6D4F\u89C8\u5668\u4E2D\uFF0C\u8FD8\u53EF\u4EE5\u6B63\u5E38\u8FD0\u884C\u3002PWA \u6548\u679C\u914D\u7F6E\u5B8C\u6210</p></li></ol><h4 id="_4-2-3-pwa-\u5176\u4ED6" tabindex="-1"><a class="header-anchor" href="#_4-2-3-pwa-\u5176\u4ED6" aria-hidden="true">#</a> 4.2.3 PWA \u5176\u4ED6</h4>`,7),je={href:"https://toutiao.io/posts/eie19m/preview",target:"_blank",rel:"noopener noreferrer"},we=s("\u795E\u5947\u7684 Workbox 3.0\uFF1A\u8BA9\u4F60\u7684 Web \u7AD9\u70B9\u8F7B\u677E\u505A\u5230\u79BB\u7EBF\u53EF\u8BBF\u95EE"),xe=e(`<h3 id="_4-3-typescript-\u7684\u6253\u5305\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-3-typescript-\u7684\u6253\u5305\u914D\u7F6E" aria-hidden="true">#</a> 4.3 TypeScript \u7684\u6253\u5305\u914D\u7F6E</h3><h4 id="_4-3-1-ts-\u9879\u76EE\u5B9E\u6218" tabindex="-1"><a class="header-anchor" href="#_4-3-1-ts-\u9879\u76EE\u5B9E\u6218" aria-hidden="true">#</a> 4.3.1 ts \u9879\u76EE\u5B9E\u6218</h4><ol><li><p>\u65B0\u5EFA\u6587\u4EF6\u5939 <code>ts-demo</code>, \u5E76\u8FDB\u884C\u9879\u76EE\u521D\u59CB\u5316</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> ts-demo
<span class="token builtin class-name">cd</span> ts-demo
<span class="token function">npm</span> init -y
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u5B89\u88C5 <code>webpack</code>\u76F8\u5173\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i webpack webpack-cli -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u65B0\u5EFA <code>src/index.ts</code>\u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">greeting</span><span class="token operator">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">message</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>greeting <span class="token operator">=</span> message
  <span class="token punctuation">}</span>
  <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&#39;Hello, &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>greeting
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> greeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span>

<span class="token function">alert</span><span class="token punctuation">(</span>greeter<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>\u65B0\u5EFA<code>webpack.config.js</code>\u6587\u4EF6\uFF0C\u5E76\u5199\u5165\u4EE5\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.ts&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.ts?$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token string">&#39;ts-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;bundle.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li><li><p>\u6CE8\u610F\u8FD9\u91CC\u7528\u5230\u4E00\u4E2A\u65B0\u7684<code>ts-loader</code>, \u9700\u8981\u8FDB\u884C\u5B89\u88C5</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> typescript ts-loader --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><code>package.json</code> \u6587\u4EF6\u4E2D\u65B0\u589E\u52A0\u6253\u5305\u547D\u4EE4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack build&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u6B64\u65F6\u76F4\u63A5\u8FDB\u884C<code>npm run build</code> \u4F1A\u63D0\u793A\uFF0C\u7F3A\u5C11<code>tsconfig.json</code>\u6587\u4EF6</p></li><li><p>\u6839\u76EE\u5F55\u4E0B\u65B0\u5EFA\u6587\u4EF6<code>tsconfig.json</code>\u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  <span class="token string-property property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;outDir&quot;</span><span class="token operator">:</span> <span class="token string">&quot;./dist&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u5199\u4E0D\u5199\u90FD\u884C</span>
    <span class="token string-property property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es6&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u7528 es6 \u6A21\u5757\u5F15\u5165 import</span>
    <span class="token string-property property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u6253\u5305\u6210 es5</span>
    <span class="token string-property property">&quot;allowJs&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// \u5141\u8BB8\u5728 ts \u4E2D\u4E5F\u80FD\u5F15\u5165 js \u7684\u6587\u4EF6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u518D\u6B21\u6267\u884C <code>npm run build</code> , \u6253\u5305\u540E\u7684 js \u6587\u4EF6\u5C31\u53EF\u4EE5\u76F4\u63A5\u5728\u6D4F\u89C8\u5668\u63A7\u5236\u53F0\u8FD0\u884C\u4E86\u3002\u8BF4\u660E\u6587\u4EF6\u4E2D\u7684 ts \u8BED\u6CD5\u5DF2\u7ECF\u88AB\u8F6C\u6362\u4E3A\u6D4F\u89C8\u5668\u53EF\u4EE5\u8BC6\u522B\u7684 js \u8BED\u6CD5\u4E86\u3002</p></li></ol><h4 id="_4-3-2-ts-\u4E2D\u4F7F\u7528\u4E09\u65B9\u5E93-\u5982\u4F55\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_4-3-2-ts-\u4E2D\u4F7F\u7528\u4E09\u65B9\u5E93-\u5982\u4F55\u5904\u7406" aria-hidden="true">#</a> 4.3.2 ts \u4E2D\u4F7F\u7528\u4E09\u65B9\u5E93\uFF0C\u5982\u4F55\u5904\u7406</h4><blockquote><p>\u5728\u4E0A\u8FF0\u7684 index.ts \u6587\u4EF6\u4E2D\uFF0CGreeter \u7684\u5B9E\u4F8B\u5BF9\u8C61\u8981\u6C42\u662F string \u7C7B\u578B\uFF0C\u5982\u679C\u901A\u8FC7 new \u8FDB\u884C\u5B9E\u4F8B\u5316\u65F6\u5019\u4F20\u5165\u4E0D\u662F string \u7C7B\u578B\u7684\uFF0C\u5C31\u4F1A\u63D0\u793A\u62A5\u9519\u3002\u800C\u5047\u5982\u76F4\u63A5\u5F15\u5165\u4E09\u65B9\u5E93\uFF0C\u5E76\u4F7F\u7528\u65F6\u5019\uFF0C\u662F\u6CA1\u6709\u529E\u6CD5\u611F\u77E5\u7684\u3002\u5982\u4F55\u5904\u7406\uFF0C\u770B\u4E0B\u9762\u64CD\u4F5C</p></blockquote><ol><li><p>\u5F15\u5165\u7B2C\u4E09\u65B9\u5E93\uFF0C \u6BD4\u5982<code>lodash</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install lodash <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539<code>index.ts</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> _ <span class="token keyword">from</span> <span class="token string">&#39;lodash&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">greeting</span><span class="token operator">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">message</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>greeting <span class="token operator">=</span> message
  <span class="token punctuation">}</span>
  <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>greeting<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// return &#39;Hello, &#39; + this.greeting</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">let</span> greeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>greeter<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>\u8FD9\u91CC\u9996\u884C\u4F1A\u62A5\u9519</p><blockquote><p>\u627E\u4E0D\u5230\u6A21\u5757\u201Clodash\u201D\u3002\u4F60\u7684\u610F\u601D\u662F\u8981\u5C06 &quot;moduleResolution&quot; \u9009\u9879\u8BBE\u7F6E\u4E3A &quot;node&quot;\uFF0C\u8FD8\u662F\u8981\u5C06\u522B\u540D\u6DFB\u52A0\u5230 &quot;paths&quot; \u9009\u9879\u4E2D?ts(2792)</p><p>\u95EE\u9898\u5728\u4E8E\uFF1A\u95EE\u9898\u51FA\u5728\u6CA1\u6709 <em>\u58F0\u660E\u6587\u4EF6</em>\u6765\u63CF\u8FF0\u4F60\u7684\u4EE3\u7801\u5E93</p></blockquote></li><li><p>\u5B89\u88C5\u58F0\u660E\u6587\u4EF6\u5E93\uFF0C\u89E3\u51B3\u4E0A\u8FF0\u95EE\u9898</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install @types<span class="token operator">/</span>lodash <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u5B89\u88C5\u540E\u4F1A\u53D1\u73B0\u6CA1\u6709\u4E86\u6700\u5F00\u59CB\u7684\u62A5\u9519\uFF0C\u4F1A\u53D8\u4E3A\u5176\u4ED6\u7684\u62A5\u9519\uFF0C<code>index.ts</code> \u9700\u8981\u66F4\u65B0\u4E3A\u4E0B\u9762\u7684\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> _ <span class="token keyword">from</span> <span class="token string">&#39;lodash&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">greeting</span><span class="token operator">:</span> string
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">message</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>greeting <span class="token operator">=</span> message
  <span class="token punctuation">}</span>
  <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u6837\u5199\u4F1A\u8FDB\u884C\u7C7B\u578B\u68C0\u67E5\uFF0C\u4F1A\u63D0\u793A\u62A5\u9519\uFF1A\u5E94\u6709 1-2 \u4E2A\u53C2\u6570\uFF0C\u4F46\u83B7\u5F97 0 \u4E2A</span>
    <span class="token comment">// return _.join()</span>

    <span class="token comment">// \u8FD9\u6837\u5199\u4E5F\u4F1A\u62A5\u9519\uFF1A\u7C7B\u578B\u201Cnumber\u201D\u7684\u53C2\u6570\u4E0D\u80FD\u8D4B\u7ED9\u7C7B\u578B\u201CList&lt;any&gt;\u201D\u7684\u53C2\u6570\u3002</span>
    <span class="token comment">// return _.join(1)</span>

    <span class="token comment">// \u6B63\u786E\u7684\u5199\u6CD5</span>
    <span class="token keyword">return</span> _<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;Hello&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>greeting<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&#39; &#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">let</span> greeter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span>
<span class="token function">alert</span><span class="token punctuation">(</span>greeter<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></li><li><p>\u4EE5\u4E0A\u7684\u7C7B\u578B\u68C0\u67E5\u5C31\u4F53\u73B0\u51FA\u4E86<code>typescript</code> \u7684\u4F18\u52BF</p></li></ol><h4 id="_4-3-3-\u5982\u4F55\u77E5\u9053\u4F7F\u7528\u7684\u5E93\u9700\u8981\u5B89\u88C5\u5BF9\u5E94\u7684\u7C7B\u578B\u63D2\u4EF6\u5462" tabindex="-1"><a class="header-anchor" href="#_4-3-3-\u5982\u4F55\u77E5\u9053\u4F7F\u7528\u7684\u5E93\u9700\u8981\u5B89\u88C5\u5BF9\u5E94\u7684\u7C7B\u578B\u63D2\u4EF6\u5462" aria-hidden="true">#</a> 4.3.3 \u5982\u4F55\u77E5\u9053\u4F7F\u7528\u7684\u5E93\u9700\u8981\u5B89\u88C5\u5BF9\u5E94\u7684\u7C7B\u578B\u63D2\u4EF6\u5462?</h4>`,7),qe=s("\u6253\u5F00"),Pe={href:"https://link.segmentfault.com/?enc=oi9pp6M%2BLjGa5UX2Y%2FbphQ%3D%3D.80p4Ag6FsglGkTHM791PokbHE%2F9iRIwgvMrXfRGVudvejRgrTW6%2BvGu0YITO4Xsw",target:"_blank",rel:"noopener noreferrer"},Ce=s("TypeSearch"),Ee=s("\uFF0C\u5728\u8FD9\u91CC\u5BF9\u5E94\u7684\u53BB\u641C\u7D22\u4F60\u60F3\u7528\u7684\u5E93\u6709\u6CA1\u6709\u7C7B\u578B\u63D2\u4EF6\uFF0C\u5982\u679C\u6709, \u53EA\u9700\u8981 "),Me=n("code",null,"npm i @types/xxx-D",-1),Ae=s(" \u5373\u53EF"),De=n("blockquote",null,[n("p",null,[s("\u4F8B\u5982 \u9700\u8981 jquery \u5C31\u6267\u884C "),n("code",null,"npm i @types/jquery -D"),s(" \u5373\u53EF")])],-1),Re=n("h3",{id:"_4-4-\u4F7F\u7528-webpackdevserver-\u5B9E\u73B0\u8BF7\u6C42\u8F6C\u53D1",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_4-4-\u4F7F\u7528-webpackdevserver-\u5B9E\u73B0\u8BF7\u6C42\u8F6C\u53D1","aria-hidden":"true"},"#"),s(" 4.4 \u4F7F\u7528 WebpackDevServer \u5B9E\u73B0\u8BF7\u6C42\u8F6C\u53D1")],-1),We=n("h4",{id:"_4-4-1-\u4F7F\u7528-proxy-\u5904\u7406\u8DE8\u57DF",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_4-4-1-\u4F7F\u7528-proxy-\u5904\u7406\u8DE8\u57DF","aria-hidden":"true"},"#"),s(" 4.4.1 \u4F7F\u7528 proxy \u5904\u7406\u8DE8\u57DF")],-1),Se=n("p",null,"\u56DE\u5230\u6700\u5F00\u59CB\u7684\u9879\u76EE\uFF0C\u9879\u76EE\u91CC\u7684\u6587\u4EF6\u5185\u5BB9\u90FD\u662F\u9759\u6001\u6E32\u67D3\u7684\uFF0C\u4F46\u662F\u5B9E\u9645\u5F00\u53D1\u4E2D\uFF0C\u5F80\u5F80\u662F\u901A\u8FC7\u7F51\u7EDC\u8BF7\u6C42\u8FDB\u884C\u83B7\u53D6\u6570\u636E\u7136\u540E\u6E32\u67D3\u7684\u3002\u8FD9\u65F6\u5F80\u5F80\u57DF\u540D\u662F\u4E0D\u4E00\u81F4\u7684\uFF0C\u5982\u679C\u76F4\u63A5\u8FDB\u884C\u8BF7\u6C42\u670D\u52A1\u5668\u501F\u53E3\uFF0C\u4F1A\u4EA7\u751F\u8DE8\u57DF\u95EE\u9898\uFF0C\u5F00\u53D1\u73AF\u5883\u4E0B\u901A\u8FC7\u914D\u7F6E devserver \u53EF\u4EE5\u89E3\u51B3\u8FD9\u4E2A\u95EE\u9898",-1),Ie=n("p",null,"\u8FD9\u91CC\u6A21\u62DF\u4F7F\u7528\u7684\u662F\u516C\u5171\u5F00\u653E\u63A5\u53E3\uFF1Ahttps://api.apiopen.top/swagger/index.html#/%E5%BC%80%E6%94%BE%E6%8E%A5%E5%8F%A3/get_getHaoKanVideo",-1),Be={href:"https://api.apiopen.top/swagger/index.html",target:"_blank",rel:"noopener noreferrer"},Te=s("\u5177\u4F53\u6587\u6863\u53C2\u8003"),Le=e(`<li><p>\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56<code>axios</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install axios <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539 <code>index.js</code>\u4E2D\u7684\u5185\u5BB9\uFF0C\u589E\u52A0\u5982\u4E0B\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&#39;axios&#39;</span>

axios
  <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&#39;https://api.apiopen.top/api/getHaoKanVideo&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">page</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token literal-property property">size</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></li><li><p>\u6B64\u65F6<code>package.json</code>\u4E2D\u7684\u811A\u672C\u547D\u4EE4\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http-server ./bundle&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack server --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;dev-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&quot;prod-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --env production --config webpack.common.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run dev</code>, \u7528\u6D4F\u89C8\u5668\u6253\u5F00\u76F8\u5E94\u672C\u5730\u670D\u52A1\uFF0C\u53EF\u4EE5\u53D1\u73B0\uFF0C\u63D0\u793A\u8DE8\u57DF\u62A5\u9519</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>Access to XMLHttpRequest at <span class="token string">&#39;https://api.apiopen.top/api/getHaoKanVideo&#39;</span> from origin <span class="token string">&#39;http://localhost:8080&#39;</span> has been blocked by <span class="token constant">CORS</span> <span class="token literal-property property">policy</span><span class="token operator">:</span> Response to preflight request doesn<span class="token string">&#39;t pass access control check: No &#39;</span>Access<span class="token operator">-</span>Control<span class="token operator">-</span>Allow<span class="token operator">-</span>Origin&#39; header is present on the requested resource<span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u6B64\u65F6\u53EF\u4EE5\u5BF9<code>webpack.dev.js</code>\u4E2D\u7684 <code>devServer</code>\u9009\u9879\u8FDB\u884C\u914D\u7F6E\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>	<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string-property property">&#39;/videoApi/&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://api.apiopen.top&#39;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
				<span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;^/videoApi&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>\u518D\u6B21\u8FD0\u884C<code>npm run dev</code>, \u7528\u6D4F\u89C8\u5668\u6253\u5F00\u76F8\u5E94\u672C\u5730\u670D\u52A1\uFF0C\u53EF\u4EE5\u53D1\u73B0\uFF0C\u63A7\u5236\u53F0\u4E2D<code>network</code>\u9009\u9879\u53EF\u4EE5\u6B63\u5E38\u8FD4\u56DE\u63A5\u53E3</p></li>`,6),Oe=e(`<h4 id="_4-4-2-proxy-\u4E2D\u5176\u4ED6\u7684\u4E00\u4E9B\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-4-2-proxy-\u4E2D\u5176\u4ED6\u7684\u4E00\u4E9B\u914D\u7F6E" aria-hidden="true">#</a> 4.4.2 proxy \u4E2D\u5176\u4ED6\u7684\u4E00\u4E9B\u914D\u7F6E</h4><ol><li><p>\u4F7F\u7528\u4E00\uFF1A</p><blockquote><p>\u8BF7\u6C42\u5230 <code>/api/xxx</code> \u73B0\u5728\u4F1A\u88AB\u4EE3\u7406\u5230\u8BF7\u6C42 <code>http://localhost:3000/api/xxx</code>, \u4F8B\u5982 <code>/api/user</code> \u73B0\u5728\u4F1A\u88AB\u4EE3\u7406\u5230\u8BF7\u6C42 <code>http://localhost:3000/api/user</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u4F7F\u7528\u4E8C\uFF1A</p><blockquote><p>\u5982\u679C\u4F60\u60F3\u8981\u4EE3\u7801\u591A\u4E2A\u8DEF\u5F84\u4EE3\u7406\u5230\u540C\u4E00\u4E2A target \u4E0B, \u4F60\u53EF\u4EE5\u4F7F\u7528\u7531\u4E00\u4E2A\u6216\u591A\u4E2A\u300C\u5177\u6709 context \u5C5E\u6027\u7684\u5BF9\u8C61\u300D\u6784\u6210\u7684\u6570\u7EC4\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">context</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;/auth&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;/api&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u4F7F\u7528\u4E09\uFF1A</p><blockquote><p>\u5982\u679C\u4F60\u4E0D\u60F3\u59CB\u7EC8\u4F20\u9012 /api \uFF0C\u5219\u9700\u8981\u91CD\u5199\u8DEF\u5F84\uFF1A</p><p>\u8BF7\u6C42\u5230 /api/xxx \u73B0\u5728\u4F1A\u88AB\u4EE3\u7406\u5230\u8BF7\u6C42 <code>http://localhost:3000/xxx</code>, \u4F8B\u5982 /api/user \u73B0\u5728\u4F1A\u88AB\u4EE3\u7406\u5230\u8BF7\u6C42 <code>http://localhost:3000/user</code></p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token string-property property">&#39;^/api&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u4F7F\u7528\u56DB\uFF1A</p><blockquote><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0C\u4E0D\u63A5\u53D7\u8FD0\u884C\u5728 HTTPS \u4E0A\uFF0C\u4E14\u4F7F\u7528\u4E86\u65E0\u6548\u8BC1\u4E66\u7684\u540E\u7AEF\u670D\u52A1\u5668\u3002\u5982\u679C\u4F60\u60F3\u8981\u63A5\u53D7\uFF0C\u53EA\u8981\u8BBE\u7F6E <code>secure: false</code> \u5C31\u884C\u3002\u4FEE\u6539\u914D\u7F6E\u5982\u4E0B\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://other-server.example.com&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u4F7F\u7528\u4E94\uFF1A</p><blockquote><p>\u6709\u65F6\u4F60\u4E0D\u60F3\u4EE3\u7406\u6240\u6709\u7684\u8BF7\u6C42\u3002\u53EF\u4EE5\u57FA\u4E8E\u4E00\u4E2A\u51FD\u6570\u7684\u8FD4\u56DE\u503C\u7ED5\u8FC7\u4EE3\u7406\u3002 \u5728\u51FD\u6570\u4E2D\u4F60\u53EF\u4EE5\u8BBF\u95EE\u8BF7\u6C42\u4F53\u3001\u54CD\u5E94\u4F53\u548C\u4EE3\u7406\u9009\u9879\u3002\u5FC5\u987B\u8FD4\u56DE false \u6216\u8DEF\u5F84\uFF0C\u6765\u8DF3\u8FC7\u4EE3\u7406\u8BF7\u6C42\u3002</p><p>\u4F8B\u5982\uFF1A\u5BF9\u4E8E\u6D4F\u89C8\u5668\u8BF7\u6C42\uFF0C\u4F60\u60F3\u8981\u63D0\u4F9B\u4E00\u4E2A HTML \u9875\u9762\uFF0C\u4F46\u662F\u5BF9\u4E8E API \u8BF7\u6C42\u5219\u4FDD\u6301\u4EE3\u7406\u3002\u4F60\u53EF\u4EE5\u8FD9\u6837\u505A\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//...</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;http://localhost:3000&#39;</span><span class="token punctuation">,</span>
        <span class="token function-variable function">bypass</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">req<span class="token punctuation">,</span> res<span class="token punctuation">,</span> proxyOptions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">if</span> <span class="token punctuation">(</span>req<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>accept<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;html&#39;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;Skipping proxy for browser request.&#39;</span><span class="token punctuation">)</span>
            <span class="token comment">// \u4E5F\u53EF\u4EE5\u901A\u8FC7 return false \u6765\u8DF3\u8FC7\u4EE3\u7406</span>
            <span class="token keyword">return</span> <span class="token string">&#39;/index.html&#39;</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li></ol><h4 id="_4-4-3-\u89E3\u51B3\u8DE8\u57DF\u539F\u7406" tabindex="-1"><a class="header-anchor" href="#_4-4-3-\u89E3\u51B3\u8DE8\u57DF\u539F\u7406" aria-hidden="true">#</a> 4.4.3 \u89E3\u51B3\u8DE8\u57DF\u539F\u7406</h4><blockquote><p>\u4E0A\u9762\u7684\u53C2\u6570\u5217\u8868\u4E2D\u6709\u4E00\u4E2A<code>changeOrigin</code>\u53C2\u6570, \u662F\u4E00\u4E2A\u5E03\u5C14\u503C, \u8BBE\u7F6E\u4E3A true, \u672C\u5730\u5C31\u4F1A\u865A\u62DF\u4E00\u4E2A\u670D\u52A1\u5668\u63A5\u6536\u4F60\u7684\u8BF7\u6C42\u5E76\u4EE3\u4F60\u53D1\u9001\u8BE5\u8BF7\u6C42,</p></blockquote>`,4),He=e(`<li><p>vue-cli \u4E2D proxyTable \u914D\u7F6E\u63A5\u53E3\u5730\u5740\u4EE3\u7406\u793A\u4F8B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">dev</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u9759\u6001\u8D44\u6E90\u6587\u4EF6\u5939</span>
    <span class="token literal-property property">assetsSubDirectory</span><span class="token operator">:</span> <span class="token string">&#39;static&#39;</span><span class="token punctuation">,</span>
    <span class="token comment">// \u53D1\u5E03\u8DEF\u5F84</span>
    <span class="token literal-property property">assetsPublicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>

    <span class="token comment">// \u4EE3\u7406\u914D\u7F6E\u8868\uFF0C\u5728\u8FD9\u91CC\u53EF\u4EE5\u914D\u7F6E\u7279\u5B9A\u7684\u8BF7\u6C42\u4EE3\u7406\u5230\u5BF9\u5E94\u7684API\u63A5\u53E3</span>
    <span class="token comment">// \u4F7F\u7528\u65B9\u6CD5\uFF1Ahttps://vuejs-templates.github.io/webpack/proxy.html</span>
    <span class="token literal-property property">proxyTable</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u4F8B\u5982\u5C06&#39;localhost:8080/api/xxx&#39;\u4EE3\u7406\u5230&#39;https://wangyaxing.cn/api/xxx&#39;</span>
        <span class="token string-property property">&#39;/api&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://wangyaxing.cn&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u63A5\u53E3\u7684\u57DF\u540D</span>
            <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// \u5982\u679C\u662Fhttps\u63A5\u53E3\uFF0C\u9700\u8981\u914D\u7F6E\u8FD9\u4E2A\u53C2\u6570</span>
            <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u5982\u679C\u63A5\u53E3\u8DE8\u57DF\uFF0C\u9700\u8981\u8FDB\u884C\u8FD9\u4E2A\u53C2\u6570\u914D\u7F6E</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// \u4F8B\u5982\u5C06&#39;localhost:8080/img/xxx&#39;\u4EE3\u7406\u5230&#39;https://cdn.wangyaxing.cn/xxx&#39;</span>
        <span class="token string-property property">&#39;/img&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;https://cdn.wangyaxing.cn&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u63A5\u53E3\u7684\u57DF\u540D</span>
            <span class="token literal-property property">secure</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>  <span class="token comment">// \u5982\u679C\u662Fhttps\u63A5\u53E3\uFF0C\u9700\u8981\u914D\u7F6E\u8FD9\u4E2A\u53C2\u6570</span>
            <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u5982\u679C\u63A5\u53E3\u8DE8\u57DF\uFF0C\u9700\u8981\u8FDB\u884C\u8FD9\u4E2A\u53C2\u6570\u914D\u7F6E</span>
            <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token string-property property">&#39;^/img&#39;</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">}</span>  <span class="token comment">// pathRewrite \u6765\u91CD\u5199\u5730\u5740\uFF0C\u5C06\u524D\u7F00 &#39;/api&#39; \u8F6C\u4E3A &#39;/&#39;\u3002</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Various Dev Server settings</span>
    <span class="token literal-property property">host</span><span class="token operator">:</span> <span class="token string">&#39;localhost&#39;</span><span class="token punctuation">,</span> <span class="token comment">// can be overwritten by p<wbr>rocess.env.HOST</span>
    <span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token number">4200</span><span class="token punctuation">,</span> <span class="token comment">// can be overwritten by p<wbr>rocess.env.PORT, if port is in use, a free one will be determined</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li>`,1),ze=n("p",null,"\u66F4\u591A\u7684\u53C2\u6570\u53C2\u8003",-1),Fe=n("code",null,"dev-server",-1),Ue=s(" \u4F7F\u7528\u4E86\u975E\u5E38\u5F3A\u5927\u7684 "),Ne={href:"https://github.com/chimurai/http-proxy-middleware",target:"_blank",rel:"noopener noreferrer"},$e=s("http-proxy-middleware"),Ke=s(" , "),Ge=n("code",null,"http-proxy-middleware",-1),Je=s(" \u57FA\u4E8E "),Ve=n("code",null,"http-proxy",-1),Ye=s(" \u5B9E\u73B0\u7684\uFF0C\u53EF\u4EE5\u67E5\u770B http-proxy \u7684\u6E90"),Qe=e(`<p>\u7801\u548C\u6587\u6863:https://github.com/nodejitsu/node-http-proxy \u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>target\uFF1A\u8981\u4F7F\u7528url\u6A21\u5757\u89E3\u6790\u7684url\u5B57\u7B26\u4E32
forward\uFF1A\u8981\u4F7F\u7528url\u6A21\u5757\u89E3\u6790\u7684url\u5B57\u7B26\u4E32
agent\uFF1A\u8981\u4F20\u9012\u7ED9http\uFF08s\uFF09<span class="token punctuation">.</span>request\u7684\u5BF9\u8C61\uFF08\u8BF7\u53C2\u9605Node\u7684https\u4EE3\u7406\u548Chttp\u4EE3\u7406\u5BF9\u8C61\uFF09
ssl\uFF1A\u8981\u4F20\u9012\u7ED9https<span class="token punctuation">.</span>createServer\uFF08\uFF09\u7684\u5BF9\u8C61
ws\uFF1A<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span>\uFF0C\u662F\u5426\u4EE3\u7406websockets
xfwd\uFF1A<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span>\uFF0C\u6DFB\u52A0x<span class="token operator">-</span>forward\u6807\u5934
secure\uFF1A<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span>\uFF0C\u662F\u5426\u9A8C\u8BC1<span class="token constant">SSL</span> Certs
toProxy\uFF1A<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span>\uFF0C\u4F20\u9012\u7EDD\u5BF9<span class="token constant">URL</span>\u4F5C\u4E3A\u8DEF\u5F84\uFF08\u5BF9\u4EE3\u7406\u4EE3\u7406\u5F88\u6709\u7528\uFF09
prependPath\uFF1A<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span>\uFF0C\u9ED8\u8BA4\u503C\uFF1A<span class="token boolean">true</span> <span class="token operator">-</span> \u6307\u5B9A\u662F\u5426\u8981\u5C06\u76EE\u6807\u7684\u8DEF\u5F84\u6DFB\u52A0\u5230\u4EE3\u7406\u8DEF\u5F84
ignorePath\uFF1A<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span>\uFF0C\u9ED8\u8BA4\u503C\uFF1A<span class="token boolean">false</span> <span class="token operator">-</span> \u6307\u5B9A\u662F\u5426\u8981\u5FFD\u7565\u4F20\u5165\u8BF7\u6C42\u7684\u4EE3\u7406\u8DEF\u5F84\uFF08\u6CE8\u610F\uFF1A\u5982\u679C\u9700\u8981\uFF0C\u60A8\u5FC5\u987B\u9644\u52A0<span class="token operator">/</span>\u624B\u52A8\uFF09\u3002
localAddress\uFF1A\u8981\u4E3A\u4F20\u51FA\u8FDE\u63A5\u7ED1\u5B9A\u7684\u672C\u5730\u63A5\u53E3\u5B57\u7B26\u4E32
changeOrigin\uFF1A<span class="token boolean">true</span> <span class="token operator">/</span> <span class="token boolean">false</span>\uFF0C\u9ED8\u8BA4\u503C\uFF1A<span class="token boolean">false</span> <span class="token operator">-</span> \u5C06\u4E3B\u673A\u6807\u5934\u7684\u539F\u70B9\u66F4\u6539\u4E3A\u76EE\u6807<span class="token constant">URL</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div>`,2),Xe=n("h4",{id:"_4-4-x-\u53C2\u8003\u6587\u6863",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_4-4-x-\u53C2\u8003\u6587\u6863","aria-hidden":"true"},"#"),s(" 4.4.x \u53C2\u8003\u6587\u6863")],-1),Ze={href:"https://segmentfault.com/a/1190000016199721",target:"_blank",rel:"noopener noreferrer"},nt=s("webpack \u5F00\u53D1\u914D\u7F6E API \u4EE3\u7406\u89E3\u51B3\u8DE8\u57DF\u95EE\u9898-devServer"),st={href:"https://blog.csdn.net/qq_39291919/article/details/108807111",target:"_blank",rel:"noopener noreferrer"},at=s("webpack \u914D\u7F6E changeOrigin \u65E0\u6548\u7684\u8BF4\u660E"),pt={href:"https://segmentfault.com/a/1190000016314976",target:"_blank",rel:"noopener noreferrer"},et=s("Webpack-dev-server \u7684 proxy \u7528\u6CD5"),tt={href:"https://github.com/chimurai/http-proxy-middleware",target:"_blank",rel:"noopener noreferrer"},ot=s("github \u4E4B http-proxy-middleware"),ct=e(`<h3 id="_4-5-webpackdevserver-\u89E3\u51B3\u5355\u9875\u9762\u5E94\u7528\u8DEF\u7531\u95EE\u9898" tabindex="-1"><a class="header-anchor" href="#_4-5-webpackdevserver-\u89E3\u51B3\u5355\u9875\u9762\u5E94\u7528\u8DEF\u7531\u95EE\u9898" aria-hidden="true">#</a> 4.5 WebpackDevServer \u89E3\u51B3\u5355\u9875\u9762\u5E94\u7528\u8DEF\u7531\u95EE\u9898</h3><h4 id="_4-5-1-\u65E0\u8DEF\u7531\u9875\u9762\u65F6\u7684\u4F7F\u7528" tabindex="-1"><a class="header-anchor" href="#_4-5-1-\u65E0\u8DEF\u7531\u9875\u9762\u65F6\u7684\u4F7F\u7528" aria-hidden="true">#</a> 4.5.1 \u65E0\u8DEF\u7531\u9875\u9762\u65F6\u7684\u4F7F\u7528</h4><ol><li><p>\u5B89\u88C5 <code>react</code> \u76F8\u5173\u4F9D\u8D56</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install react react<span class="token operator">-</span>dom <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><code>webpack.common.js</code>\u4E2D\u7684\u914D\u7F6E\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;html-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;clean-webpack-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;mini-css-extract-plugin&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> merge <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack-merge&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> devConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.dev&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> prodConfig <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./webpack.prod&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> commonConfig <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">bundle</span><span class="token operator">:</span> <span class="token string">&#39;/src/js/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">publicPath</span><span class="token operator">:</span> <span class="token string">&#39;/&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;bundle&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">assetModuleFilename</span><span class="token operator">:</span> <span class="token string">&#39;images/[name][ext]&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(jpg|png|gif|jpeg)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&#39;asset/resource&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span> <span class="token string">&#39;css-loader&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;less-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;babel-loader&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// plugin \u4F1A\u5728webpack\u8FD0\u884C\u5230\u67D0\u4E9B\u65F6\u673A\u7684\u65F6\u5019\uFF0C\u5904\u7406\u4E00\u4E9B\u4E8B\u60C5</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u8F93\u51FA\u7684\u6BCF\u4E2A CSS \u6587\u4EF6\u7684\u540D\u79F0\u3002\u673A\u5236\u7C7B\u4F3C\u4E8E output.filename\u3002</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u975E\u5165\u53E3\u7684 chunk \u6587\u4EF6\u540D\u79F0\u673A\u5236\u7C7B\u4F3C\u4E8E output.chunkFilename</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>env <span class="token operator">&amp;&amp;</span> env<span class="token punctuation">.</span>production<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> prodConfig<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>commonConfig<span class="token punctuation">,</span> devConfig<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div></li><li><p><code>babel.config.js</code>\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// presets \u6267\u884C\u987A\u5E8F\u662F\u4ECE\u540E\u5F80\u524D\u6267\u884C</span>
  <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">useBuiltIns</span><span class="token operator">:</span> <span class="token string">&#39;usage&#39;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">corejs</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">version</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
          <span class="token literal-property property">proposals</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// \u9700\u8981\u652F\u6301\u7684\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\uFF0C\u5982\u679C\u76EE\u6807\u6D4F\u89C8\u5668\u7248\u672C\u652F\u6301\u8BED\u6CD5\uFF0C\u5C31\u4F1A\u7565\u8FC7\u8F6C\u6362\u5904\u7406</span>
        <span class="token literal-property property">targets</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">ie</span><span class="token operator">:</span> <span class="token string">&#39;8&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string">&#39;@babel/preset-react&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></li><li><p>\u6267\u884C<code>npm run dev</code>\u6253\u5305\u547D\u4EE4\uFF0C\u53EF\u4EE5\u770B\u5230\u6D4F\u89C8\u5668\u4E2D\u51FA\u73B0<code>hello world</code>\u5B57\u6837</p></li><li><p><code>index.js</code> \u5185\u5BB9\u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-dom/client&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">&#39;./home&#39;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">&#39;./list&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>hello i am test<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u65B0\u5EFA<code>list.js</code>\u3001<code>home.js</code>\u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// list.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>List Page<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> List


<span class="token comment">// home.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
	<span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

	<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>Home Page<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Home

</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4<code>npm run dev</code>\u65F6\u5019\uFF0C\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u770B\u5230\u4E3B\u9875\u5185\u5BB9<code>hello i am test</code>\u6B63\u5E38\u663E\u793A</p></li></ol><h4 id="_4-5-2-\u4F7F\u7528\u8DEF\u7531\u914D\u7F6E\u65F6\u5019" tabindex="-1"><a class="header-anchor" href="#_4-5-2-\u4F7F\u7528\u8DEF\u7531\u914D\u7F6E\u65F6\u5019" aria-hidden="true">#</a> 4.5.2 \u4F7F\u7528\u8DEF\u7531\u914D\u7F6E\u65F6\u5019</h4><blockquote><p>\u7406\u60F3\u60C5\u51B5\u4E0B\uFF0C\u5F53\u8DEF\u5F84\u4E3A / \u65F6\u5019\uFF0C\u663E\u793A home \u9875\u9762\uFF1B \u5F53\u8DEF\u7531\u4E3A /list \u65F6\u5019\uFF0C\u663E\u793A list \u9875\u9762\uFF1B</p></blockquote><ol><li><p>\u5B89\u88C5 <code>react-router-dom</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> react-router-dom --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539 <code>index.js</code>\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-dom/client&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> BrowserRouter<span class="token punctuation">,</span> Route<span class="token punctuation">,</span> Routes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-router-dom&#39;</span>
<span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">&#39;./home&#39;</span>
<span class="token keyword">import</span> List <span class="token keyword">from</span> <span class="token string">&#39;./list&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
      <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Routes<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&#39;/&#39;</span> exact element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Home <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">&#39;/list&#39;</span> element<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>List <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Route<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Routes<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li><li><p>\u6B64\u65F6\u8981\u5F15\u5165 <code>devServer</code>\u4E2D\u7684\u53E6\u4E00\u4E2A\u914D\u7F6E <code>historyApiFallback</code>\uFF0C\u589E\u52A0\u5982\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u7136\u540E\u8FD0\u884C<code>npm run dev</code>\uFF0C\u53D1\u73B0\u6D4F\u89C8\u5668\u53EF\u4EE5\u6B63\u5E38\u8DF3\u8F6C\uFF0C\u5373\u4F7F\u624B\u52A8\u66F4\u6539\u5462\u5730\u5740\u4E3A <code>http:localhost:8080/list</code>\u4E5F\u4F1A\u663E\u793A <code>List page</code> \u5185\u5BB9</p></li></ol><h4 id="_4-5-3-historyapifallback-\u8FD8\u53EF\u4EE5\u914D\u7F6E\u5176\u4ED6\u7684\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#_4-5-3-historyapifallback-\u8FD8\u53EF\u4EE5\u914D\u7F6E\u5176\u4ED6\u7684\u5185\u5BB9" aria-hidden="true">#</a> 4.5.3 historyApiFallback \u8FD8\u53EF\u4EE5\u914D\u7F6E\u5176\u4ED6\u7684\u5185\u5BB9</h4><ol><li><p>\u51FA\u4E86\u4E0A\u8FB9\u914D\u7F6E\u4E00\u4E2A\u5E03\u5C14\u7C7B\u578B\u7684\u503C\u4EE5\u5916\uFF0C\u5B83\u8FD8\u53EF\u4EE5\u914D\u7F6E\u4E00\u4E2A <code>rewrites</code>\u89C4\u5219\uFF0C\u6BD4\u5982\u50CF\u4E0B\u8FB9\u8FD9\u6837\u7684\u914D\u7F6E\uFF0C\u610F\u601D\u5C31\u662F\u5417\uFF0C\u5982\u679C\u53D1\u73B0\u8BBF\u95EE\u7684\u662F<code>abc.html</code>\u90A3\u4E48\u5C31\u8BA9\u9875\u9762\u5C55\u793A<code>index.html</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">historyApiFallback</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">rewrites</span><span class="token operator">:</span> <span class="token punctuation">[</span>
				<span class="token punctuation">{</span>
					<span class="token literal-property property">form</span><span class="token operator">:</span> <span class="token string">&#39;/abc.html&#39;</span><span class="token punctuation">,</span>
					<span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token string">&#39;/index.html&#39;</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u6211\u4EEC\u628A\u914D\u7F6E\u4FEE\u6539\u4E3A\uFF0C\u5F53\u6211\u4EEC\u8BBF\u95EE<code>abc.html</code>,\u9875\u9762\u5C55\u793A <code>index.html</code>\uFF0C\u6211\u4EEC\u7684\u76EE\u5F55\u91CC\u662F\u6709\u8FD9\u4E2A\u6587\u4EF6\u7684\u3002\u4F1A\u5C55\u793A\u5417\uFF1F\u91CD\u542F\u540E\uFF0C\u53D1\u73B0\u4E5F\u6CA1\u6709\u5C55\u793A\uFF0C\u4F46\u662F\u67E5\u770B\u7F51\u9875\u6E90\u4EE3\u7801\u65F6\u53D1\u73B0<code>index.html</code>\u5185\u5BB9\u5C55\u793A\u51FA\u6765\u4E86\uFF1B\u4E4B\u6240\u4EE5\u4F1A\u8FD9\u6837\uFF0C\u662F\u56E0\u4E3A index.html \u91CC\u6709\u6211\u4EEC\u7684\u4E1A\u52A1\u4EE3\u7801\uFF0C\u800C\u6211\u4EEC\u7684\u4E1A\u52A1\u4EE3\u7801\u91CC\uFF0C\u6CA1\u6709\u5199\u5982\u679C\u8BBF\u95EE<code>abc.html</code>\u5C31\u663E\u793A\u5176\u4ED6\u7684\u5185\u5BB9\u7684\u903B\u8F91</p></li><li><p>\u5B9E\u9645\u4E0A\uFF0C\u5F53\u6211\u4EEC\u914D\u7F6E\u4E86<code>historyApiFallback: true</code>\u7684\u65F6\u5019\uFF0C\u5C31\u76F8\u5F53\u4E8E\u8FD9\u6837\u914D\u7F6E\uFF1B\u8BBF\u95EE\u4EFB\u4F55\u5185\u5BB9\u90FD\u4F1A\u5C55\u793A index.html</p></li></ol><blockquote><p>\u6CE8\u610F\u56E0\u4E3A<code>historyApiFallback</code>\u662F<code>devServer</code>\u7684\u914D\u7F6E\uFF0C\u6240\u4EE5\u53EA\u5728\u5F00\u53D1\u73AF\u5883\u4E0B\u6709\u6548\u3002\u4E00\u65E6\u5230\u4E86\u7EBF\u4E0A\u73AF\u5883\uFF0C\u5C31\u53EF\u80FD\u51FA\u73B0\u9875\u9762\u627E\u4E0D\u5230\u7684\u60C5\u51B5\uFF0C\u56E0\u4E3A\u6211\u4EEC\u5728\u5F00\u53D1\u73AF\u5883\uFF0C\u901A\u8FC7<code>historyApiFallback</code>\u914D\u7F6E\u4E86\u8DF3\u8F6C\u7684\u89C4\u5219\uFF0C\u4F46\u662F\u540E\u7AEF\u7684\u670D\u52A1\u5668\u5F88\u6709\u53EF\u80FD\u6CA1\u6709\u914D\u7F6E\u8DF3\u8F6C\u7684\u89C4\u5219\uFF0C\u8FD9\u4E2A\u95EE\u9898\uFF0C\u524D\u7AEF\u662F\u89E3\u51B3\u4E0D\u4E86\u7684\uFF0C\u9700\u8981\u540E\u7AEF\u7684\u5C0F\u4F19\u4F34\u53BB<code>nginx \u6216\u8005 apache</code>\u4E0A\u4EFF\u7167<code>webpack-dev-server</code>\u7684\u4E00\u4E9B\u914D\u7F6E\uFF0C\u53BB\u5728\u4ED6\u7684\u5BF9\u5E94\u7684\u670D\u52A1\u5668\u4E0A\u53BB\u505A\u540C\u6837\u7684\u914D\u7F6E\uFF0C\u8FD9\u6837\u624D\u53EF\u4EE5\u5728\u524D\u7AEF\u4F7F\u7528\u8DEF\u7531\u4E0D\u4F1A\u6709\u95EE\u9898\uFF1B</p></blockquote><h4 id="_4-5-4-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_4-5-4-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 4.5.4 \u53C2\u8003\u6587\u6863</h4>`,10),lt={href:"https://www.jianshu.com/p/e84ac9f97063",target:"_blank",rel:"noopener noreferrer"},rt=s("WebpackDevServer \u89E3\u51B3\u5355\u9875\u9762\u5E94\u7528\u8DEF"),ut=e(`<h3 id="_4-6-eslint-\u5728-webpack-\u4E2D\u7684\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-6-eslint-\u5728-webpack-\u4E2D\u7684\u914D\u7F6E" aria-hidden="true">#</a> 4.6 EsLint \u5728 Webpack \u4E2D\u7684\u914D\u7F6E</h3><h4 id="_4-6-1-\u4F7F\u7528\u7F16\u8F91\u5668\u7ED3\u5408-eslint-\u63D2\u4EF6\u89C4\u8303\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_4-6-1-\u4F7F\u7528\u7F16\u8F91\u5668\u7ED3\u5408-eslint-\u63D2\u4EF6\u89C4\u8303\u4EE3\u7801" aria-hidden="true">#</a> 4.6.1 \u4F7F\u7528\u7F16\u8F91\u5668\u7ED3\u5408 eslint \u63D2\u4EF6\u89C4\u8303\u4EE3\u7801</h4><ol><li><p>\u5B89\u88C5 <code>eslint</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i eslint -D
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u5E76\u521B\u5EFA\u914D\u7F6E\u6587\u4EF6</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx eslint --init
// \u7136\u540E\u6839\u636E\u63D0\u793A\u8FDB\u884C\u4E00\u6B65\u6B65\u64CD\u4F5C
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u5B89\u88C5\u540E\u6839\u636E eslint \u9519\u8BEF\u63D0\u793A\u8FDB\u884C\u66F4\u6539\u76F8\u5173\u8BED\u6CD5\u9519\u8BEF</p></li><li><p>\u8FD9\u6837\u7684\u914D\u7F6E\u7ED3\u5408 vscode \u7684 eslint \u63D2\u4EF6\u65F6\u5019\u662F\u4F1A\u8FDB\u884C\u62A5\u9519\u63D0\u793A\u7684</p></li></ol><h4 id="_4-6-2-\u4E0D\u4F9D\u8D56\u63D2\u4EF6\u65F6\u5019\u5982\u4F55\u5904\u7406" tabindex="-1"><a class="header-anchor" href="#_4-6-2-\u4E0D\u4F9D\u8D56\u63D2\u4EF6\u65F6\u5019\u5982\u4F55\u5904\u7406" aria-hidden="true">#</a> 4.6.2 \u4E0D\u4F9D\u8D56\u63D2\u4EF6\u65F6\u5019\u5982\u4F55\u5904\u7406</h4><blockquote><p>\u591A\u4EBA\u534F\u4F5C\u65F6\u5019\uFF0C\u5F80\u5F80\u4E2A\u4EBA\u559C\u6B22\u4E0D\u4E00\u6837\uFF0C\u7F16\u8F91\u5668\u4E0D\u4E00\u6837\uFF0C\u53EF\u80FD\u7F16\u8F91\u5668\u4E0D\u652F\u6301\u63D2\u4EF6\u5B89\u88C5\uFF0C\u90A3\u8BE5\u600E\u4E48\u5904\u7406\u98CE\u683C\u7EDF\u4E00\u5462\uFF1A</p><p>\u5F53\u7136\u53EF\u4EE5\u4F7F\u7528\u547D\u4EE4\u884C\u5B9E\u65BD\u68C0\u67E5\uFF1Anpx eslint src \u7136\u540E\u6839\u636E\u63D0\u793A\u8FDB\u884C\u4FEE\u6539\uFF0C\u8FD9\u6837\u505A\u7565\u663E\u9EBB\u70E6</p><p>\u8FD8\u6709\u4EE5\u4E0B\u65B9\u5F0F</p></blockquote><ol><li><p>\u5B89\u88C5\u4F9D\u8D56<code>eslint-webpack-plugin</code></p><blockquote><p>eslint-loader: This loader has been deprecated. Please use eslint-webpack-plugin</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install eslint<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><code>webpack.common.js</code> \u4E2D\u505A\u5982\u4E0B\u66F4\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> ESLintPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;eslint-webpack-plugin&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
				<span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.m?js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;bable-loader&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u6CE8\u610F\uFF1A\u8FD9\u91CC loader \u7684\u6267\u884C\u987A\u5E8F\u662F\u4ECE\u524D</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span><span class="token punctuation">[</span>
    <span class="token operator">...</span><span class="token punctuation">.</span>
    <span class="token keyword">new</span> <span class="token class-name">ESLintPlugin</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">client</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token literal-property property">overlay</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u62A5\u9519\u4FE1\u606F\u4F1A\u51FA\u73B0\u5728\u6D4F\u89C8\u5668\u663E\u793A\u754C\u9762\u4E2D</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div></li></ol><h4 id="_4-6-3-\u5176\u4ED6\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#_4-6-3-\u5176\u4ED6\u65B9\u5F0F" aria-hidden="true">#</a> 4.6.3 \u5176\u4ED6\u65B9\u5F0F</h4><ol><li>\u4F7F\u7528 loader plugins \u90FD\u53EF\u4EE5\u5728\u6253\u5305\u8FD0\u884C\u65F6\u5019\u8FDB\u884C\u89C4\u8303\u5904\u7406</li><li>\u8FD8\u53EF\u4EE5\u901A\u8FC7 git \u7684\u94A9\u5B50\u51FD\u6570\uFF0C\u5728\u63D0\u4EA4\u65F6\u5019\u505A\u4E00\u4E9B\u6821\u9A8C\u5904\u7406</li></ol><h3 id="_4-7-webpack-\u6027\u80FD\u4F18\u5316" tabindex="-1"><a class="header-anchor" href="#_4-7-webpack-\u6027\u80FD\u4F18\u5316" aria-hidden="true">#</a> 4.7 webpack \u6027\u80FD\u4F18\u5316</h3><h4 id="_4-7-1-\u8DDF\u4E0A\u6280\u672F\u7684\u8FED\u4EE3-node\u3001npm\u3001-yarn" tabindex="-1"><a class="header-anchor" href="#_4-7-1-\u8DDF\u4E0A\u6280\u672F\u7684\u8FED\u4EE3-node\u3001npm\u3001-yarn" aria-hidden="true">#</a> 4.7.1 \u8DDF\u4E0A\u6280\u672F\u7684\u8FED\u4EE3(node\u3001npm\u3001 yarn)</h4><blockquote><p>\u65B0\u7248\u672C\u7684 webpack \u5728\u6027\u80FD\u4E0A\u80AF\u5B9A\u4F1A\u6709\u6240\u63D0\u5347\uFF0C\u76F8\u5E94\u7684\u5E95\u5C42\u4F7F\u7528\u7684\u662F node\uFF0C\u76F8\u5E94\u7684\u4E5F\u4F1A\u63D0\u9AD8</p></blockquote><h4 id="_4-7-2-\u5728\u5C3D\u53EF\u80FD\u5C11\u7684\u6A21\u5757\u4E0A\u4F7F\u7528-loader" tabindex="-1"><a class="header-anchor" href="#_4-7-2-\u5728\u5C3D\u53EF\u80FD\u5C11\u7684\u6A21\u5757\u4E0A\u4F7F\u7528-loader" aria-hidden="true">#</a> 4.7.2 \u5728\u5C3D\u53EF\u80FD\u5C11\u7684\u6A21\u5757\u4E0A\u4F7F\u7528 loader</h4><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// webpack.config.js \u4E2D\u4E0D\u4F7F\u7528\u975E\u5FC5\u8981\u7684 loader</span>
<span class="token punctuation">{</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.js$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token comment">// \u6392\u9664\u4E0D\u5FC5\u8981\u7684\u6A21\u5757</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h4 id="_4-7-3-plugin-\u5C3D\u53EF\u80FD\u7CBE\u7B80\u5E76\u786E\u4FDD\u53EF\u9760" tabindex="-1"><a class="header-anchor" href="#_4-7-3-plugin-\u5C3D\u53EF\u80FD\u7CBE\u7B80\u5E76\u786E\u4FDD\u53EF\u9760" aria-hidden="true">#</a> 4.7.3 Plugin \u5C3D\u53EF\u80FD\u7CBE\u7B80\u5E76\u786E\u4FDD\u53EF\u9760</h4><blockquote><p>\u5408\u7406\u5F97\u5728\u76F8\u5E94\u73AF\u5883\u4E0B\u4F7F\u7528\u63D2\u4EF6\uFF0C\u4E0D\u4F7F\u7528\u5197\u4F59\u7684\u6CA1\u6709\u5FC5\u8981\u7684\u63D2\u4EF6\uFF0C\u5C3D\u53EF\u80FD\u4F7F\u7528\u5B98\u65B9\u63A8\u8350\u7684\u6216\u8005\u793E\u533A\u63A8\u8350\u7684(\u5B98\u65B9\u63A8\u8350\u7684\uFF0C\u6027\u80FD\u4E0A\uFF0C\u517C\u5BB9\u6027\u4F1A\u76F8\u5BF9\u6765\u8BF4\u597D\u4E00\u4E9B)</p><p>\u6BD4\u5982\uFF1A\u5F00\u53D1\u73AF\u5883\u4E0B\u4E0D\u9700\u8981\u538B\u7F29\uFF0C</p></blockquote><h4 id="_4-7-4-webpack-config-js\u4E2D-resolve-\u53C2\u6570\u5408\u7406\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-7-4-webpack-config-js\u4E2D-resolve-\u53C2\u6570\u5408\u7406\u914D\u7F6E" aria-hidden="true">#</a> 4.7.4 <code>webpack.config.js</code>\u4E2D <code>resolve</code> \u53C2\u6570\u5408\u7406\u914D\u7F6E</h4><ul><li><p>extensions\`\u9009\u9879\u914D\u7F6E\u8981\u5408\u7406\uFF0C\u4E0D\u8981\u8BD5\u56FE\u914D\u7F6E\u6240\u6709\u7684\u7C7B\u578B</p></li><li><p><code>mainFiles</code>: \u5F53\u67E5\u627E\u67D0\u4E00\u4E2A\u6587\u4EF6\u5939\u4E0B\u7684\u6587\u4EF6\u65F6\uFF0C\u5C1D\u8BD5\u67E5\u627E\u7684\u6587\u4EF6\u540D\u5B57</p></li><li><p><code>alias</code>: \u914D\u7F6E\u522B\u540D\uFF0C\u6765\u7B80\u5316\u5F15\u5165\u8DEF\u5F84</p></li><li><p>\u7B49\u7B49</p></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
	<span class="token literal-property property">resolve</span><span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token literal-property property">extensions</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;.js&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;.jsx&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    mainFiles\uFF1A<span class="token punctuation">[</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;other&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  	<span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string-property property">&#39;@&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string-property property">&#39;@components&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src/components&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string-property property">&#39;@utilities&#39;</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;src/utilities&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><h4 id="_4-7-5-\u4F7F\u7528dllplugin\u63D0\u9AD8\u6253\u5305\u901F\u5EA6" tabindex="-1"><a class="header-anchor" href="#_4-7-5-\u4F7F\u7528dllplugin\u63D0\u9AD8\u6253\u5305\u901F\u5EA6" aria-hidden="true">#</a> 4.7.5 \u4F7F\u7528<code>DllPlugin</code>\u63D0\u9AD8\u6253\u5305\u901F\u5EA6</h4><blockquote><p>\u76EE\u6807\uFF1A\u4F9D\u8D56\u7684\u7B2C\u4E09\u65B9\u6A21\u5757\u53EA\u6253\u5305\u4E00\u6B21</p><p>\u6B65\u9AA4\uFF1A</p><ol><li>\u5BF9\u7B2C\u4E09\u65B9\u6A21\u5757\u8FDB\u884C\u6253\u5305\uFF1A\u56E0\u4E3A\u4E09\u65B9\u4F9D\u8D56\u5305\u8F7B\u6613\u4E0D\u4F1A\u6709\u53D8\u5316</li><li>\u5F15\u5165\u7B2C\u4E09\u65B9\u6A21\u5757\u7684\u65F6\u5019\uFF0C\u8981\u53BB\u4F7F\u7528 Dll \u6587\u4EF6\u5F15\u5165</li></ol></blockquote><ol><li><p>\u65B0\u5EFA <code>webpack.dll.js</code> \u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><blockquote><p>\u6B64\u6587\u4EF6\u7528\u6765\u628A\u76F8\u5173\u4F9D\u8D56\u63D0\u524D\u6253\u5305</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;react&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;react-dom&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u5904\u4E3A\u6240\u4F9D\u8D56\u7684\u7B2C\u4E09\u65B9\u5305\uFF0C\u6839\u636E\u81EA\u5DF1\u7684\u9700\u8981\u8FDB\u884C\u8BBE\u7F6E</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dll&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].dll.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#39;[name]&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u8FD9\u91CC\u66B4\u9732\u4E3A\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>\u4FEE\u6539 <code>package.json</code>\u6587\u4EF6\uFF0C\u6DFB\u52A0\u5982\u4E0B\u6253\u5305\u811A\u672C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http-server ./bundle&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack server --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;dev-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;prod-build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --env production --config webpack.common.js&quot;</span><span class="token punctuation">,</span>
       <span class="token comment">// \u6B64\u5904\u4E3A\u65B0\u589E</span>
      <span class="token string-property property">&quot;build:dll&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.dll.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u8FD0\u884C<code>npm run build:dll</code> \u547D\u4EE4\uFF0C\u6253\u5305\u4E09\u65B9\u4F9D\u8D56\u6587\u4EF6\uFF0C<code>dll</code>\u6587\u4EF6\u4E2D\u4F1A\u4EA7\u751F\u76F8\u5E94\u7684<code>xx.dll.js</code>\u6587\u4EF6</p></li><li><p>\u8FD9\u65F6\u5019\u5982\u679C\u5728 <code>index.html</code>\u4E2D\u5F15\u5165\u76F8\u5E94\u7684<code>xx.dll.js</code>\u6587\u4EF6\uFF0C\u5C31\u53EF\u4EE5\u5728\u63A7\u5236\u53F0\u4E2D\u8BBF\u95EE\u5230 <code>vendors\uFF08\u5BF9\u5E94\u4E0A\u8FF0webpack.dll.js\u4E2D\u914D\u7F6E\u540D\u5B57\uFF09</code> \u8FD9\u4E2A\u5168\u5C40\u53D8\u91CF\uFF0C\u4EE5\u4E0B\u6B65\u9AA4\u8FDB\u884C\u9A8C\u8BC1</p><ol><li><p>\u5B89\u88C5\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> add-asset-html-webpack-plugin --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p><code>webpack.common.js</code>\u4E2D\u589E\u52A0\u76F8\u5E94\u914D\u7F6E</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> AddAssetHtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;add-asset-html-webpack-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>
    <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token operator">...</span>
      	<span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        		<span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/vendors.dll.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u6267\u884C<code>npm run dev</code> \u547D\u4EE4\uFF0C\u67E5\u770B\u9875\u9762\u5F15\u7528\u6587\u4EF6\uFF0C\u53EF\u4EE5\u770B\u51FA \u9875\u9762\u4E2D\u5F15\u7528\u4E86<code>vendors.dll.js</code>\u6587\u4EF6\uFF0C\u5728\u63A7\u5236\u53F0\u4E2D\u8F93\u5165 <code>vendors</code> \u4E5F\u53EF\u4EE5\u770B\u5230\u6253\u5370\u7ED3\u679C</p></li></ol></li><li><p>\u4F7F\u7528\u63D2\u4EF6\uFF0C\u4E3A <code>dll</code> \u6587\u4EF6\u5EFA\u7ACB\u5F15\u7528\u5173\u7CFB, \u66F4\u6539<code>webpack.dll.js</code>\u6587\u4EF6\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u65B0\u589E</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> DllPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;react&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;react-dom&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;lodash&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dll&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].dll.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#39;[name]&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// \u65B0\u589E</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[name]&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/[name].manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li><li><p>\u518D\u6B21\u8FD0\u884C<code>npm run build:dll</code> \u547D\u4EE4\uFF0C\u6253\u5305\u4E09\u65B9\u4F9D\u8D56\u6587\u4EF6\uFF0C<code>dll</code>\u6587\u4EF6\u4E2D\u4F1A\u4EA7\u751F\u76F8\u5E94\u7684<code>xx.dll.js</code>\u548C<code>xx.manifest.json</code>\u6587\u4EF6</p></li><li><p>\u4FEE\u6539<code>webpack.common.js</code>\u6587\u4EF6\uFF0C\u589E\u52A0\u63D2\u4EF6\u5F15\u5165\u4F9D\u8D56\u5173\u7CFB</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> DllReferencePlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    	<span class="token operator">...</span>
    	<span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
       	 <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&quot;./dll/vendors.manifest.json&quot;</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u8FD9\u6837\u8FDB\u884C\u6253\u5305\u5C31\u53EF\u4EE5\u9002\u5F53\u7684\u51CF\u5C11\u6253\u5305\u65F6\u95F4</p></li></ol><h4 id="_4-7-6-\u4F7F\u7528-dllplugin-\u6253\u5305\u8FC7\u7A0B\u4F18\u5316\u6269\u5C55" tabindex="-1"><a class="header-anchor" href="#_4-7-6-\u4F7F\u7528-dllplugin-\u6253\u5305\u8FC7\u7A0B\u4F18\u5316\u6269\u5C55" aria-hidden="true">#</a> 4.7.6 \u4F7F\u7528 <code>DllPlugin</code> \u6253\u5305\u8FC7\u7A0B\u4F18\u5316\u6269\u5C55</h4><ol><li><p>\u53EF\u4EE5\u7EE7\u7EED\u62C6\u5206\uFF0C\u4FEE\u6539 webpack.dll.js \u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> DllPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;webpack&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u8FD9\u91CC\u8FDB\u884C\u4FEE\u6539</span>
    <span class="token literal-property property">vendors</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;lodash&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">react</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;react&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;react-dom&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token literal-property property">axios</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;axios&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dll&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].dll.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">library</span><span class="token operator">:</span> <span class="token string">&#39;[name]&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">DllPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;[name]&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/[name].manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li><li><p>\u4E0A\u8FF0\u62C6\u5206\u540E\uFF0C\u9700\u8981\u91CD\u65B0\u6267\u884C<code>npm run build:dll</code>\u547D\u4EE4\u8FDB\u884C\u6253\u5305\u5904\u7406\uFF0C\u7ED3\u679C\u662F\uFF0C\u51FA\u73B0\u4E86\u591A\u4E2A<code>xx.dll.js</code> \u4EE5\u53CA \u591A\u4E2A <code>xx.mainfest.json</code> \u6587\u4EF6</p></li><li><p>\u8FD9\u6837\u540C\u6837\u9700\u8981\u4FEE\u6539<code>webpack.common.js</code>\u4E2D\u7684\u63D2\u4EF6<code>plugins</code> \u9009\u9879\u53BB\u8FDB\u884C\u76F8\u5E94\u5F15\u7528\uFF0C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/vendors.dll.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/axios.dll.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/react.dll.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/vendors.manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/axios.manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll/react.manifest.json&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li><li><p>\u7136\u540E\u8FD0\u884C<code>npm run prod-build</code> \u8FDB\u884C\u6253\u5305\u5904\u7406\uFF0C\u90E8\u7F72\u76F8\u5173\u670D\u52A1\u5668\u540E\uFF0C\u7ED3\u679C\u4ECD\u7136\u662F\u53EF\u4EE5\u6B63\u5E38\u8FD0\u884C</p></li><li><p>\u8FD9\u8FD8\u53EA\u662F\u62C6\u5206\u4E86\u4E24\u4E2A\u7B2C\u4E09\u65B9\u6A21\u5757\uFF0C\u5C31\u8981\u4E00\u4E2A\u4E2A\u914D\u7F6E\u8FC7\u53BB\uFF0C\u6709\u6CA1\u6709\u4EC0\u4E48\u529E\u6CD5\u80FD\u7B80\u4FBF\u4E00\u70B9\u5462? \u6709\uFF0C\u8FD9\u91CC\u4F7F\u7528 node \u7684 api\uFF0Cfs \u6A21\u5757\u6765\u8BFB\u53D6\u6587\u4EF6\u5939\u91CC\u7684\u5185\u5BB9\uFF0C\u521B\u5EFA\u4E00\u4E2A plugins \u6570\u7EC4\u7528\u6765\u5B58\u653E\u516C\u5171\u7684\u63D2\u4EF6</p></li><li><p>\u7EE7\u7EED\u4F18\u5316, \u4FEE\u6539<code>webpack.common.js</code>\u6587\u4EF6\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token comment">// \u5B58\u653E\u516C\u5171\u63D2\u4EF6</span>
<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  	<span class="token comment">// \u5F00\u53D1\u73AF\u5883\u548C\u751F\u4EA7\u73AF\u5883\u4E8C\u8005\u5747\u9700\u8981\u7684\u63D2\u4EF6</span>
  	<span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u8F93\u51FA\u7684\u6BCF\u4E2A CSS \u6587\u4EF6\u7684\u540D\u79F0\u3002\u673A\u5236\u7C7B\u4F3C\u4E8E output.filename\u3002</span>
      <span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u975E\u5165\u53E3\u7684 chunk \u6587\u4EF6\u540D\u79F0\u673A\u5236\u7C7B\u4F3C\u4E8E output.chunkFilename</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token comment">// \u81EA\u52A8\u5F15\u5165 dll \u4E2D\u7684\u6587\u4EF6</span>
<span class="token keyword">const</span> files <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\\.dll.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\\.manifest.json</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
	<span class="token literal-property property">plugins</span><span class="token operator">:</span> plugins
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br></div></div></li><li><p>\u4F7F\u7528 <code>npm run dev</code> \u6253\u5F00\u7F51\u9875\u4E5F\u6CA1\u6709\u95EE\u9898\u4E86\uFF0C\u8FD9\u6837\u81EA\u52A8\u6CE8\u5165 dll \u6587\u4EF6\u4E5F\u641E\u5B9A\u4E86\uFF0C\u4E4B\u540E\u8FD8\u8981\u518D\u6253\u5305\u7B2C\u4E09\u65B9\u5E93\u53EA\u8981\u6DFB\u52A0\u5230 <strong>webpack.dll.js</strong> \u91CC\u9762\u7684 <code>entry</code> \u5C5E\u6027\u4E2D\u5C31\u53EF\u4EE5\u4E86</p></li></ol><h4 id="_4-7-7-\u63A7\u5236\u5305\u6587\u4EF6\u5927\u5C0F" tabindex="-1"><a class="header-anchor" href="#_4-7-7-\u63A7\u5236\u5305\u6587\u4EF6\u5927\u5C0F" aria-hidden="true">#</a> 4.7.7 \u63A7\u5236\u5305\u6587\u4EF6\u5927\u5C0F</h4><h4 id="_4-7-8-thread-loader-parallel-webpack-happypack-\u591A\u8FDB\u7A0B\u6253\u5305" tabindex="-1"><a class="header-anchor" href="#_4-7-8-thread-loader-parallel-webpack-happypack-\u591A\u8FDB\u7A0B\u6253\u5305" aria-hidden="true">#</a> 4.7.8 thread-loader, parallel-webpack, happypack \u591A\u8FDB\u7A0B\u6253\u5305</h4><h4 id="_4-7-9-\u5408\u7406\u4F7F\u7528-sourcemap" tabindex="-1"><a class="header-anchor" href="#_4-7-9-\u5408\u7406\u4F7F\u7528-sourcemap" aria-hidden="true">#</a> 4.7.9 \u5408\u7406\u4F7F\u7528 sourceMap</h4><blockquote><p>\u8BE6\u7EC6\u7684 sourceMap \u4E5F\u4F1A\u5F71\u54CD\u6253\u5305\u901F\u5EA6\uFF0C\u6240\u4EE5\u76F8\u5E94\u7684\u73AF\u5883\u8981\u914D\u7F6E\u5408\u7406\u7684 sourceMap</p></blockquote><h4 id="_4-7-10-\u7ED3\u5408-stats-\u5206\u6790\u6253\u5305\u7ED3\u679C" tabindex="-1"><a class="header-anchor" href="#_4-7-10-\u7ED3\u5408-stats-\u5206\u6790\u6253\u5305\u7ED3\u679C" aria-hidden="true">#</a> 4.7.10 \u7ED3\u5408 stats \u5206\u6790\u6253\u5305\u7ED3\u679C</h4><h4 id="_4-7-11-\u5F00\u53D1\u73AF\u5883\u5185\u5B58\u7F16\u8BD1" tabindex="-1"><a class="header-anchor" href="#_4-7-11-\u5F00\u53D1\u73AF\u5883\u5185\u5B58\u7F16\u8BD1" aria-hidden="true">#</a> 4.7.11 \u5F00\u53D1\u73AF\u5883\u5185\u5B58\u7F16\u8BD1</h4><blockquote><p>Webpack-dev-server</p></blockquote><h4 id="_4-7-12-\u5F00\u53D1\u73AF\u5883\u65E0\u7528\u63D2\u4EF6\u5254\u9664" tabindex="-1"><a class="header-anchor" href="#_4-7-12-\u5F00\u53D1\u73AF\u5883\u65E0\u7528\u63D2\u4EF6\u5254\u9664" aria-hidden="true">#</a> 4.7.12 \u5F00\u53D1\u73AF\u5883\u65E0\u7528\u63D2\u4EF6\u5254\u9664</h4><h4 id="_4-7-13-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_4-7-13-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 4.7.13 \u53C2\u8003\u6587\u6863</h4>`,32),it={href:"https://segmentfault.com/a/1190000019132719",target:"_blank",rel:"noopener noreferrer"},kt=s("24 \u4E2A\u5B9E\u4F8B\u5165\u95E8\u5E76\u638C\u63E1\u300CWebpack4\u300D(\u4E09)\u4E4B\u4F7F\u7528 DLLPlugin \u52A0\u5FEB\u6253\u5305\u901F\u5EA6"),bt=e(`<h3 id="_4-8-\u591A\u9875\u9762\u6253\u5305\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_4-8-\u591A\u9875\u9762\u6253\u5305\u914D\u7F6E" aria-hidden="true">#</a> 4.8 \u591A\u9875\u9762\u6253\u5305\u914D\u7F6E</h3><blockquote><p>\u6211\u60F3\u6253\u5305\u51FA <strong>index.html</strong> \u548C <strong>list.html</strong> \u4E24\u4E2A\u9875\u9762\uFF0C\u5E76\u4E14\u5728 index.html \u4E2D\u5F15\u5165 <strong>app.js</strong>\uFF0C\u5728 list.html \u4E2D\u5F15\u5165 <strong>list.js</strong>\uFF0C\u8BE5\u600E\u4E48\u505A?</p></blockquote><ol><li>\u65B0\u5EFA<code>list.js</code>\u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-dom/client&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">List</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>This is List Page<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>

<span class="token comment">// index.js \u5185\u5BB9\u5982\u4E0B</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRoot <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;react-dom/client&#39;</span>

<span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
  <span class="token function">componentDidMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token constant">I</span> am Home Page<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> root <span class="token operator">=</span> <span class="token function">createRoot</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;root&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
root<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><ol start="2"><li><p>\u5728 <code>webpack.common.js</code> \u4E2D\u914D\u7F6E <code>entry</code>\uFF0C\u914D\u7F6E\u4E24\u4E2A\u5165\u53E3</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    main <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token string">&#39;./src/list.js&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u5982\u679C\u73B0\u5728\u6211\u4EEC\u76F4\u63A5 <code>npm run build</code> \u6253\u5305\uFF0C\u5728\u6253\u5305\u81EA\u52A8\u751F\u6210\u7684 index.html \u6587\u4EF6\u4E2D\u4F1A\u53D1\u73B0 list.js \u4E5F\u88AB\u5F15\u5165\u4E86\uFF0C\u8BF4\u660E\u591A\u5165\u53E3\u6253\u5305\u6210\u529F\uFF0C\u4F46\u5E76\u6CA1\u6709\u5B9E\u73B0<strong>\u591A\u4E2A\u9875\u9762</strong>\u7684\u6253\u5305\uFF0C\u8BE5\u600E\u4E48\u505A?</p></li><li><p>\u6253\u5F00 <code>webpack.common.js</code> \u6587\u4EF6\uFF0C\u5C06 <code>HtmlWebpackPlugin</code> \u62F7\u8D1D\u4E00\u4EFD\uFF0C\u4F7F\u7528 <code>chunks</code> \u5C5E\u6027\uFF0C\u5C06\u9700\u8981\u6253\u5305\u7684\u6A21\u5757\u5BF9\u5E94\u5199\u5165</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u5B58\u653E\u516C\u5171\u63D2\u4EF6</span>
<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vendors&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;main&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u6CE8\u610F\u516C\u5171\u7684\u6A21\u5757\u548C\u81EA\u7531\u6A21\u5757</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;list.html&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vendors&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;list&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u6CE8\u610F\u516C\u5171\u7684\u6A21\u5757\u548C\u81EA\u7531\u6A21\u5757</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li><li><p>\u8FD0\u884C<code>npm run prod-build</code>\u547D\u4EE4\uFF0C\u8FDB\u884C\u6253\u5305\uFF0C\u53D1\u73B0\u6587\u4EF6\u5939\u4E2D\u6709 <code>index.html</code>\u548C<code>list.html</code>\uFF0C\u8FD0\u884C\u8D77\u6765\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u4E2D\u770B\u5230\u60F3\u8981\u7684\u7ED3\u679C\uFF1A\u6253\u5F00 index.html \u53EF\u4EE5\u770B\u5230\u5F15\u5165\u7684\u662F main.js\uFF0C\u800C list.html \u5F15\u5165\u7684\u662F list.js\uFF0C\u8FD9\u5C31\u662F <code>HtmlWebpackPlugin</code> \u63D2\u4EF6\u7684 <code>chunks</code> \u5C5E\u6027\uFF0C\u81EA\u5B9A\u4E49\u5F15\u5165\u7684 js</p></li><li><p>\u5982\u679C\u8981\u6253\u5305\u4E09\u4E2A\u9875\u9762\uFF0C\u518D\u53BB copy <code>HtmlWebpackPlugin</code>\uFF0C\u901A\u8FC7\u5728 entry \u4E2D\u914D\u7F6E\uFF0C\u5982\u679C\u6709\u56DB\u4E2A\uFF0C\u4E94\u4E2A\uFF0C\u8FD9\u6837\u624B\u52A8\u7684\u590D\u5236\u5C31\u6BD4\u8F83\u9EBB\u70E6\u4E86\uFF0C\u53EF\u4EE5\u5199\u4E2A\u65B9\u6CD5\u81EA\u52A8\u751F\u6210 <code>HtmlWebpackPlugin</code> \u914D\u7F6E:\u4FEE\u6539 <code>webpack.common.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token keyword">const</span> configs <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token string">&#39;./src/app.js&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">list</span><span class="token operator">:</span> <span class="token string">&#39;./src/list.js&#39;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">makePlugins</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">configs</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
	<span class="token comment">// \u57FA\u7840\u63D2\u4EF6</span>
	<span class="token comment">// \u5B58\u653E\u516C\u5171\u63D2\u4EF6</span>
	<span class="token keyword">const</span> plugins <span class="token operator">=</span> <span class="token punctuation">[</span>
		<span class="token comment">// \u5F00\u53D1\u73AF\u5883\u548C\u751F\u4EA7\u73AF\u5883\u4E8C\u8005\u5747\u9700\u8981\u7684\u63D2\u4EF6</span>
		<span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
			<span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u8F93\u51FA\u7684\u6BCF\u4E2A CSS \u6587\u4EF6\u7684\u540D\u79F0\u3002\u673A\u5236\u7C7B\u4F3C\u4E8E output.filename\u3002</span>
			<span class="token literal-property property">chunkFilename</span><span class="token operator">:</span> <span class="token string">&#39;css/[name].[hash:3].css&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u6B64\u9009\u9879\u51B3\u5B9A\u4E86\u975E\u5165\u53E3\u7684 chunk \u6587\u4EF6\u540D\u79F0\u673A\u5236\u7C7B\u4F3C\u4E8E output.chunkFilename</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token punctuation">]</span>

	<span class="token comment">// \u6839\u636E entry \u81EA\u52A8\u751F\u6210 HtmlWebpackPlugin \u914D\u7F6E\uFF0C\u914D\u7F6E\u591A\u9875\u9762</span>
	Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>configs<span class="token punctuation">.</span>entry<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
				<span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;\u591A\u9875\u9762\u914D\u7F6E&#39;</span><span class="token punctuation">,</span>
				<span class="token literal-property property">template</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./index.html&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>item <span class="token operator">===</span> <span class="token string">&#39;main&#39;</span> <span class="token operator">?</span> <span class="token string">&#39;index&#39;</span> <span class="token operator">:</span> item<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.html</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">chunks</span><span class="token operator">:</span> <span class="token punctuation">[</span>item<span class="token punctuation">,</span> <span class="token string">&#39;vendors&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;axios&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;react&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	<span class="token comment">// \u81EA\u52A8\u5F15\u5165 dll \u4E2D\u7684\u6587\u4EF6</span>
	<span class="token keyword">const</span> files <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readdirSync</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
	files<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\\.dll.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
				<span class="token keyword">new</span> <span class="token class-name">AddAssetHtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					<span class="token literal-property property">filepath</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.*\\.manifest.json</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
				<span class="token keyword">new</span> <span class="token class-name">DllReferencePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					<span class="token literal-property property">manifest</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./dll&#39;</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span>
			<span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span>

	<span class="token keyword">return</span> plugins
<span class="token punctuation">}</span>

configs<span class="token punctuation">.</span>plugins <span class="token operator">=</span> <span class="token function">makePlugins</span><span class="token punctuation">(</span>configs<span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> configs
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div></li><li><p>\u8FD9\u65F6\u5019\u5C31\u5B9E\u73B0\u6839\u636E\u914D\u7F6E<code>entry</code> \u81EA\u52A8\u5B9E\u73B0\u591A\u5165\u53E3\u6587\u4EF6\u7684\u5904\u7406\u4E86</p></li></ol><h2 id="_5\u3001\u5E95\u5C42\u539F\u7406\u53CA\u811A\u624B\u67B6\u5DE5\u5177\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_5\u3001\u5E95\u5C42\u539F\u7406\u53CA\u811A\u624B\u67B6\u5DE5\u5177\u5206\u6790" aria-hidden="true">#</a> 5\u3001\u5E95\u5C42\u539F\u7406\u53CA\u811A\u624B\u67B6\u5DE5\u5177\u5206\u6790</h2><h3 id="_5-1-\u5982\u4F55\u7F16\u5199\u4E00\u4E2A-loader" tabindex="-1"><a class="header-anchor" href="#_5-1-\u5982\u4F55\u7F16\u5199\u4E00\u4E2A-loader" aria-hidden="true">#</a> 5.1 \u5982\u4F55\u7F16\u5199\u4E00\u4E2A loader</h3><h4 id="_5-1-1-loader-\u57FA\u7840\u5165\u95E8" tabindex="-1"><a class="header-anchor" href="#_5-1-1-loader-\u57FA\u7840\u5165\u95E8" aria-hidden="true">#</a> 5.1.1 loader \u57FA\u7840\u5165\u95E8</h4><ol><li><p>\u65B0\u5EFA\u9879\u76EE\u6587\u4EF6\u5939<code>webpack-loader-demo</code>, \u5E76\u8FDB\u884C\u521D\u59CB\u5316\uFF0C\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm init <span class="token operator">-</span>y
npm install webpack webpack<span class="token operator">-</span>cli <span class="token operator">--</span>save<span class="token operator">-</span>dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li><li><p>\u65B0\u5EFA<code>loader</code>\u6587\u4EF6\u5939\uFF0C\u65B0\u5EFA<code>replaceLoader.js</code>\u6587\u4EF6, \u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;loader&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u65B0\u5EFA<code>src/index.js</code>\u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u65B0\u5EFA <code>webpack.config.js</code>, \u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./loaders/replaceLoader.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// \u5F15\u5165\u81EA\u5B9A\u4E49 loader</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></li><li><p><code>package.json</code>\u6587\u4EF6\u4E2D\u589E\u52A0\u6253\u5305\u811A\u672C\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
    <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>npm run build</code>, \u67E5\u770B\u6253\u5305\u540E\u7684\u6587\u4EF6\uFF0C\u4F1A\u53D1\u73B0<code>hello world</code>\u5DF2\u7ECF\u66FF\u6362\u4E3A<code>hello loader</code>, \u57FA\u7840\u7684<code>loader</code> \u7F16\u5199\u5C31\u5B9E\u73B0\u4E86</p></li></ol><h4 id="_5-1-2-\u4F7F\u7528-options-\u4F20\u9012\u5E76\u63A5\u53D7\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_5-1-2-\u4F7F\u7528-options-\u4F20\u9012\u5E76\u63A5\u53D7\u53C2\u6570" aria-hidden="true">#</a> 5.1.2 \u4F7F\u7528 options \u4F20\u9012\u5E76\u63A5\u53D7\u53C2\u6570</h4><ol><li><p>\u4FEE\u6539<code>webpack.config.js</code>\u6587\u4EF6\u5185\u5BB9\uFF0C\u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./loaders/replaceLoader.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;xh&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li><li><p>\u4FEE\u6539 <code>index.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>query<span class="token punctuation">)</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>query<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li><li><p>\u518D\u6B21\u6267\u884C\u547D\u4EE4<code>npm run build</code>,\u53EF\u4EE5\u5728\u7EC8\u7AEF\u4E2D\u770B\u5230\uFF0C<code>this.query</code>\u7684\u5185\u5BB9\u5C31\u662F\u4F20\u9012\u7684<code>options</code>\u9009\u9879\u53C2\u6570\uFF0C\u5E76\u4E14\u5728\u6253\u5305\u7ED3\u679C\u4E2D\uFF0C\u53EF\u4EE5\u770B\u5230 \u6253\u5305\u7ED3\u679C\u4E5F\u88AB\u66FF\u6362\u4E3A\u4E86\u81EA\u5B9A\u4E49<code>loader</code>\u4E2D\u4F20\u9012\u7684<code>options</code> \u9009\u9879\u4E2D\u76F8\u5E94\u7684\u5185\u5BB9</p></li></ol><h4 id="_5-1-3-\u5904\u7406-options-\u5176\u4ED6\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_5-1-3-\u5904\u7406-options-\u5176\u4ED6\u7C7B\u578B" aria-hidden="true">#</a> 5.1.3 \u5904\u7406 options \u5176\u4ED6\u7C7B\u578B</h4>`,12),dt=s("\u5982\u679C\u4F60\u7684 options \u4E0D\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u800C\u662F\u6309\u5B57\u7B26\u4E32\u5F62\u5F0F\u5199\u7684\u8BDD\uFF0C\u53EF\u80FD\u4F1A\u6709\u4E00\u4E9B\u95EE\u9898\uFF0C\u8FD9\u91CC\u5B98\u65B9\u63A8\u8350\u4F7F\u7528 "),mt={href:"https://link.segmentfault.com/?enc=G%2Fz9EPDlb7ueDt%2BsD6pISg%3D%3D.H16nevWOj1WpMY2UKgMzwm%2F8Tqt6Wx42VpeHNIVjQkORptvQvTXQ85rz79zYdnpCQ3QILEHujEEbFvG4HP5rcA%3D%3D",target:"_blank",rel:"noopener noreferrer"},gt=s("loader-utils"),ht=s(" \u6765\u83B7\u53D6 options \u4E2D\u7684\u5185\u5BB9"),yt=e(`<ol><li><p>\u5B89\u88C5 <code>npm i loader-utils -D</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> --save-dev loader-utils@1.0.4 // \u65B0\u7248\u672C\u4F1A\u62A5\u9519\uFF1AgetOptions is not a <span class="token keyword">function</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539 replaceLoader.js</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;loader-utils&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> loaderUtils<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span> <span class="token comment">// \u8FD9\u91CC\u4F7F\u7528\u65B0\u7248\u672C\u4F1A\u62A5\u9519</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u6267\u884C\u6253\u5305\u547D\u4EE4</p></li></ol><h4 id="_5-1-4-\u5229\u7528-callback-\u4F20\u9012\u989D\u5916\u4FE1\u606F" tabindex="-1"><a class="header-anchor" href="#_5-1-4-\u5229\u7528-callback-\u4F20\u9012\u989D\u5916\u4FE1\u606F" aria-hidden="true">#</a> 5.1.4 \u5229\u7528 callback \u4F20\u9012\u989D\u5916\u4FE1\u606F</h4>`,2),_t=s("\u5982\u679C\u4F60\u60F3\u4F20\u9012\u989D\u5916\u7684\u4FE1\u606F\u51FA\u53BB\uFF0Creturn \u5C31\u4E0D\u597D\u7528\u4E86\uFF0C\u5B98\u7F51\u7ED9\u6211\u4EEC\u63D0\u4F9B\u4E86 "),vt={href:"https://link.segmentfault.com/?enc=0XgdwfGWngh59Qy54sfwhg%3D%3D.fHDM74uUOUdnHJywZTAVm5BYYsxyx6Pib9aIchLdVl4V%2BzO3rYqPZWooC11kL41WaUM0Mwq2LUkMNaRa8%2FC3Hg%3D%3D",target:"_blank",rel:"noopener noreferrer"},ft=s("this.callback"),jt=s(" API\uFF0C\u7528\u6CD5\u5982\u4E0B"),wt=e(`<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span>
  <span class="token literal-property property">err</span><span class="token operator">:</span> Error <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> string <span class="token operator">|</span> Buffer<span class="token punctuation">,</span>
  sourceMap<span class="token operator">?</span><span class="token operator">:</span> SourceMap<span class="token punctuation">,</span>
  meta<span class="token operator">?</span><span class="token operator">:</span> any
<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div>`,1),xt=e(`<ol><li><p>\u4FEE\u6539 <code>replaceLoader.js</code></p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;loader-utils&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> loaderUtils<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>\u76EE\u524D\u6CA1\u6709\u7528\u5230 sourceMap(\u5FC5\u987B\u662F\u6B64\u6A21\u5757\u53EF\u89E3\u6790\u7684\u6E90\u6620\u5C04)\u3001meta(\u53EF\u4EE5\u662F\u4EFB\u4F55\u5185\u5BB9(\u4F8B\u5982\u4E00\u4E9B\u5143\u6570\u636E)) \u8FD9\u4E24\u4E2A\u53EF\u9009\u53C2\u6570\uFF0C\u53EA\u5C06 result \u8FD4\u56DE\u56DE\u53BB\uFF0C\u4FDD\u5B58\u91CD\u65B0\u6253\u5305\u540E\uFF0C\u6548\u679C\u548C return \u662F\u4E00\u6837\u7684</p></blockquote></li></ol><h4 id="_5-1-5-\u5982\u4F55\u5728-loader-\u4E2D\u4E66\u5199\u5F02\u6B65\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_5-1-5-\u5982\u4F55\u5728-loader-\u4E2D\u4E66\u5199\u5F02\u6B65\u4EE3\u7801" aria-hidden="true">#</a> 5.1.5 \u5982\u4F55\u5728 loader \u4E2D\u4E66\u5199\u5F02\u6B65\u4EE3\u7801</h4>`,2),qt=s("\u8FD9\u91CC\u9700\u8981\u4F7F\u7528 "),Pt={href:"https://link.segmentfault.com/?enc=uJYTi2PHr70YMo2N5rSsZg%3D%3D.6LmXnCA3ISuOIOyVLj5VOhWwFicgpb2mGXcU2unhsOQhpPcwbUwMuJW3cqqzmf5f",target:"_blank",rel:"noopener noreferrer"},Ct=s("this.async"),Et=s(" \u6765\u5199\u5F02\u6B65\u4EE3\u7801"),Mt=e(`<ol><li><p>\u4FEE\u6539<code>replaceLoader.js</code>\u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;loader-utils&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> loaderUtils<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token comment">// \u6CE8\u610F\uFF1A\u4E0D\u7528 this.async\uFF0C\u4EC5\u4EC5\u5EF6\u8FDF\u8FD4\u56DE\u4F1A\u63D0\u793A\u5931\u8D25</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>\u91CD\u65B0\u8FD0\u884C\u6253\u5305\u547D\u4EE4\u5373\u53EF\u770B\u5230\u6548\u679C</p></li></ol><h4 id="_5-1-6-\u6A21\u62DF\u591A\u4E2A-loader-\u65F6\u5019" tabindex="-1"><a class="header-anchor" href="#_5-1-6-\u6A21\u62DF\u591A\u4E2A-loader-\u65F6\u5019" aria-hidden="true">#</a> 5.1.6 \u6A21\u62DF\u591A\u4E2A loader \u65F6\u5019</h4><ol><li><p>\u65B0\u5EFA\u4E00\u4E2A <code>replaceLoaderAsync.js</code> \u6587\u4EF6\uFF0C\u5C06\u4E4B\u524D\u5199\u7684\u5F02\u6B65\u4EE3\u7801\u653E\u5165\uFF0C\u4FEE\u6539 <code>replaceLoader.js</code> \u4E3A\u540C\u6B65\u4EE3\u7801</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// replaceLoaderAsync.js</span>

<span class="token keyword">const</span> loaderUtils <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;loader-utils&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> options <span class="token operator">=</span> loaderUtils<span class="token punctuation">.</span><span class="token function">getOptions</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> callback <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">async</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;world&#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// replaceLoader.js</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">source</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> source<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&#39;xh&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;world&#39;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div></li><li><p>\u4FEE\u6539 <code>webpack.config.js</code>\uFF0Cloader \u7684\u6267\u884C\u987A\u5E8F\u662F\u4ECE\u4E0B\u5230\u4E0A\uFF0C\u5148\u6267\u884C\u5F02\u6B65\u4EE3\u7801\uFF0C\u5C06 world \u6539\u4E3A xh\uFF0C\u518D\u6267\u884C\u540C\u6B65\u4EE3\u7801\uFF0C\u5C06 xh \u6539\u4E3A world</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
      <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./loaders/replaceLoader.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
          <span class="token literal-property property">loader</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;./loaders/replaceLoaderAsync.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;xh&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li><li><p>\u4FDD\u5B58\u540E\u6253\u5305\uFF0C\u5728 mian.js \u4E2D\u53EF\u4EE5\u770B\u5230\u5DF2\u7ECF\u6539\u4E3A\u4E86 <code>hello world</code>\uFF0C\u4F7F\u7528\u591A\u4E2A loader \u4E5F\u5B8C\u6210\u4E86</p></li></ol><h4 id="_5-1-7-\u4F7F\u7528-resolveloader-\u7B80\u5316\u52A0\u8F7D\u8DEF\u5F84" tabindex="-1"><a class="header-anchor" href="#_5-1-7-\u4F7F\u7528-resolveloader-\u7B80\u5316\u52A0\u8F7D\u8DEF\u5F84" aria-hidden="true">#</a> 5.1.7 \u4F7F\u7528 <code>resolveLoader</code> \u7B80\u5316\u52A0\u8F7D\u8DEF\u5F84</h4><blockquote><p>\u5982\u679C\u6709\u591A\u4E2A\u81EA\u5B9A\u4E49 loader\uFF0C\u6BCF\u6B21\u90FD\u901A\u8FC7 <code>path.resolve(__dirname, xxx)</code> \u8FD9\u79CD\u65B9\u5F0F\u53BB\u5199\uFF0C\u6709\u6CA1\u6709\u66F4\u597D\u7684\u65B9\u6CD5\uFF1F</p><p>\u4F7F\u7528 <code>resolveLoader</code>\uFF0C\u5B9A\u4E49 modules\uFF0C\u5F53\u4F60\u4F7F\u7528 loader \u7684\u65F6\u5019\uFF0C\u4F1A\u5148\u53BB <code>node_modules</code> \u4E2D\u53BB\u627E\uFF0C\u5982\u679C\u6CA1\u627E\u5230\u5C31\u4F1A\u53BB <code>./loaders</code> \u4E2D\u627E</p></blockquote><p>\u4FEE\u6539 <code>webpack.config.js</code>\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">resolveLoader</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;./loaders&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">module</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token literal-property property">test</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">.js</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">use</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;replaceLoader.js&#39;</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token literal-property property">loader</span><span class="token operator">:</span> <span class="token string">&#39;replaceLoaderAsync.js&#39;</span><span class="token punctuation">,</span>
            <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;xh&#39;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><h3 id="_5-2-\u7F16\u5199\u4E00\u4E2A-plugin" tabindex="-1"><a class="header-anchor" href="#_5-2-\u7F16\u5199\u4E00\u4E2A-plugin" aria-hidden="true">#</a> 5.2 \u7F16\u5199\u4E00\u4E2A plugin</h3><blockquote><p>\u76F8\u5BF9\u4E8E loader \u8F6C\u6362\u6307\u5B9A\u7C7B\u578B\u7684\u6A21\u5757\u529F\u80FD\uFF0Cplugins \u80FD\u591F\u88AB\u7528\u4E8E\u6267\u884C\u66F4\u5E7F\u6CDB\u7684\u4EFB\u52A1\u6BD4\u5982\u6253\u5305\u4F18\u5316\u3001\u6587\u4EF6\u7BA1\u7406\u3001\u73AF\u5883\u6CE8\u5165\u7B49\u2026\u2026</p><p>Loader: \u662F\u6587\u4EF6\u52A0\u8F7D\u5668\uFF0C\u80FD\u591F\u52A0\u8F7D\u8D44\u6E90\u6587\u4EF6\uFF0C\u5E76\u5BF9\u8FD9\u4E9B\u6587\u4EF6\u8FDB\u884C\u4E00\u4E9B\u5904\u7406\uFF0C\u8BF8\u5982\u7F16\u8BD1\u3001\u538B\u7F29\u7B49\uFF0C\u6700\u7EC8\u4E00\u8D77\u6253\u5305\u5230\u6307\u5B9A\u7684\u6587\u4EF6\u4E2D</p><p>plugin: \u5728 webpack \u8FD0\u884C\u7684\u751F\u547D\u5468\u671F\u4E2D\u4F1A\u5E7F\u64AD\u51FA\u8BB8\u591A\u4E8B\u4EF6\uFF0Cplugin \u53EF\u4EE5\u76D1\u542C\u8FD9\u4E9B\u4E8B\u4EF6\uFF0C\u5728\u5408\u9002\u7684\u65F6\u673A\u901A\u8FC7 webpack \u63D0\u4F9B\u7684 API \u6539\u53D8\u8F93\u51FA\u7ED3\u679C\u3002</p><p>\u4E24\u8005\u5728\u8FD0\u884C\u65F6\u673A\u4E0A\u7684\u533A\u522B\uFF1Aloader \u8FD0\u884C\u5728\u6253\u5305\u6587\u4EF6\u4E4B\u524D, plugins \u5728\u6574\u4E2A\u7F16\u8BD1\u5468\u671F\u90FD\u8D77\u4F5C\u7528</p></blockquote><h4 id="_5-2-1-\u81EA\u5B9A\u4E49\u63D2\u4EF6-plugin" tabindex="-1"><a class="header-anchor" href="#_5-2-1-\u81EA\u5B9A\u4E49\u63D2\u4EF6-plugin" aria-hidden="true">#</a> 5.2.1 \u81EA\u5B9A\u4E49\u63D2\u4EF6 plugin</h4><ol><li><p>\u65B0\u5EFA\u6587\u4EF6\u5939<code>plugin-demo</code>\uFF0C\u5E76\u5B89\u88C5<code>webpack</code>\u76F8\u5173\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">mkdir</span> plugin-demo
<span class="token builtin class-name">cd</span> plugin-demo
<span class="token function">npm</span> init -y
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u65B0\u5EFA <code>src/index.js</code>\u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;hello world&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u65B0\u5EFA<code>plugins</code>\u6587\u4EF6\u5939\uFF0C\u65B0\u5EFA<code>copyright-webpack-plugin.js</code>\u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CopyrightWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u63D2\u4EF6\u88AB\u4F7F\u7528\u4E86&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CopyrightWebpackPlugin
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div></li><li><p>\u65B0\u5EFA<code>webpack.config.js</code>\u6587\u4EF6\uFF0C\u5199\u5165\u4EE5\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyrightWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./plugins/copyright-webpack-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">CopyrightWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div></li><li><p>\u4FEE\u6539<code>package.json</code>\u6587\u4EF6\uFF0C\u6DFB\u52A0\u4EE5\u4E0B\u811A\u672C</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
   <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    	<span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack build&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li><li><p>\u8FD0\u884C\u811A\u672C<code>npm run build</code>\uFF0C\u5373\u53EF\u5728\u7EC8\u7AEF\u4E2D\u770B\u5230<code>\u63D2\u4EF6\u88AB\u4F7F\u7528\u4E86</code>\u5B57\u6837</p></li></ol><h4 id="_5-2-2-\u63D2\u4EF6\u4F20\u9012\u53C2\u6570" tabindex="-1"><a class="header-anchor" href="#_5-2-2-\u63D2\u4EF6\u4F20\u9012\u53C2\u6570" aria-hidden="true">#</a> 5.2.2 \u63D2\u4EF6\u4F20\u9012\u53C2\u6570</h4><ol><li><p>\u4FEE\u6539<code>webpack.config.js</code>, \u66F4\u6539\u4EE5\u4E0B\u5185\u5BB9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> CopyrightWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./plugins/copyright-webpack-plugin&#39;</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">main</span><span class="token operator">:</span> <span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;dist&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">filename</span><span class="token operator">:</span> <span class="token string">&#39;[name].js&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">CopyrightWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;xh&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div></li><li><p>\u4FEE\u6539 <code>copyright-webpack-plugin.js</code> \u6587\u4EF6\uFF0C\u4FEE\u6539\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">class</span> <span class="token class-name">CopyrightWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u63D2\u4EF6\u88AB\u4F7F\u7528\u4E86&#39;</span><span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;options = &#39;</span><span class="token punctuation">,</span> options<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CopyrightWebpackPlugin
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li><li><p>\u518D\u6B21\u6267\u884C<code>npm run build</code>\uFF0C\u5373\u53EF\u5728\u7EC8\u7AEF\u4E2D\u770B\u5230\u8F93\u51FA\u7684\u53C2\u6570\u90E8\u5206</p></li></ol><h4 id="_5-2-3-apply-compiler-\u6709\u4EC0\u4E48\u4F5C\u7528" tabindex="-1"><a class="header-anchor" href="#_5-2-3-apply-compiler-\u6709\u4EC0\u4E48\u4F5C\u7528" aria-hidden="true">#</a> 5.2.3 apply(compiler) \u6709\u4EC0\u4E48\u4F5C\u7528</h4>`,14),At=n("code",null,"apply(compiler) {}",-1),Dt=s(" compiler \u53EF\u4EE5\u770B\u4F5C\u662F webpack \u7684\u5B9E\u4F8B\uFF0C\u5177\u4F53\u89C1\u5B98\u7F51 "),Rt={href:"https://link.segmentfault.com/?enc=GsnRa1I%2B0qeRewA3vzip6A%3D%3D.KuN6VW4dfRXWYcjcQppdiClQV6d%2FEGlGCJ9Yzs4DqRTR2aSY4zgZ9IxWMOGbeMDQ",target:"_blank",rel:"noopener noreferrer"},Wt=s("compiler-hooks"),St=s(","),It=n("p",null,[s("\u6709\u4E00\u4E2A\u5C5E\u6027\u540D\u4E3A "),n("code",null,"hooks"),s("\uFF0Chooks \u662F\u94A9\u5B50\uFF0C\u50CF vue\u3001react \u7684\u751F\u547D\u5468\u671F\u4E00\u6837\uFF0C\u627E\u5230 "),n("code",null,"emit"),s(" \u8FD9\u4E2A\u65F6\u523B\uFF0C\u5C06\u6253\u5305\u7ED3\u679C\u653E\u5165 dist \u76EE\u5F55\u524D\u6267\u884C\uFF0C\u8FD9\u91CC\u662F\u4E2A "),n("code",null,"AsyncSeriesHook"),s(" \u5F02\u6B65\u65B9\u6CD5")],-1),Bt=e(`<ol><li><p>\u4F7F\u7528\u5F02\u6B65\u51FD\u6570\uFF0C\u5E76\u8FDB\u884C\u56DE\u8C03</p><blockquote><p>\u56E0\u4E3A <strong>emit</strong> \u662F<strong>\u5F02\u6B65</strong>\u7684\uFF0C\u53EF\u4EE5\u901A\u8FC7 <strong>tapAsync</strong> \u6765\u5199\uFF0C\u5F53\u8981\u628A\u4EE3\u7801\u653E\u5165\u5230 dist \u76EE\u5F55\u4E4B\u524D\uFF0C\u5C31\u4F1A\u89E6\u53D1\u8FD9\u4E2A\u94A9\u5B50\uFF0C\u8D70\u5230\u6211\u4EEC\u5B9A\u4E49\u7684\u51FD\u6570\u91CC\uFF0C\u5982\u679C\u4F60\u7528 <strong>tapAsync</strong> \u51FD\u6570\uFF0C\u8BB0\u5F97\u6700\u540E\u8981\u7528 <strong>cb()</strong> \uFF0CtapAsync \u8981\u4F20\u9012\u4E24\u4E2A\u53C2\u6570\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u4F20\u9012\u6211\u4EEC\u5B9A\u4E49\u7684\u63D2\u4EF6\u540D\u79F0</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//  copyright-webpack-plugin.js</span>
<span class="token keyword">class</span> <span class="token class-name">CopyrightWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;\u63D2\u4EF6\u88AB\u4F7F\u7528\u4E86&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span>
      <span class="token string">&#39;CopyrightWebpackPlugin&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// compilation \u8FD9\u4E2A\u53C2\u6570\u91CC\u5B58\u653E\u4E86\u8FD9\u6B21\u6253\u5305\u7684\u6240\u6709\u5185\u5BB9\uFF0C</span>
        <span class="token comment">// \u8FD4\u56DE\u7ED3\u679C\u662F\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u6BD4\u5982\u7ED3\u679C\u4E2D\uFF1Amain.js \u662F key\uFF0C\u4E5F\u5C31\u662F\u6253\u5305\u540E\u751F\u6210\u7684\u6587\u4EF6\u540D\u53CA\u6587\u4EF6\u540E\u7F00\uFF0C\u6211\u4EEC\u53EF\u4EE5\u6765\u4EFF\u7167\u4E00\u4E0B</span>
        compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span><span class="token string">&#39;copyRight.txt&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token comment">// \u751F\u6210\u4E00\u4E2A copyright.txt \u6587\u4EF6, \u5185\u5BB9\u3001\u5927\u5C0F\u5982\u4E0B</span>
          <span class="token function-variable function">source</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&#39;copyright by gy&#39;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">size</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">21</span> <span class="token comment">// \u4E0A\u9762 source \u8FD4\u56DE\u7684\u5B57\u7B26\u957F\u5EA6</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>compilation<span class="token punctuation">.</span>assets<span class="token punctuation">)</span>
        <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> CopyrightWebpackPlugin
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div></li><li><p>\u518D\u6B21\u6267\u884C<code>npm run build</code>\uFF0C\u5C31\u53EF\u4EE5\u5728\u7EC8\u7AEF\u4E2D\u770B\u5230\u8F93\u51FA\u6587\u4EF6\u591A\u4E86\u4E00\u4E2A txt \u6587\u4EF6\uFF0C\u4EE5\u53CA\u5927\u5C0F\u4FE1\u606F</p></li><li><p>\u4E4B\u524D\u4ECB\u7ECD\u7684\u662F\u5F02\u6B65\u94A9\u5B50\uFF0C\u73B0\u5728\u4F7F\u7528\u540C\u6B65\u94A9\u5B50</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//  copyright-webpack-plugin.js</span>

<span class="token keyword">class</span> <span class="token class-name">CopyrightWebpackPlugin</span> <span class="token punctuation">{</span>
  <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">compiler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u540C\u6B65\u94A9\u5B50</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>compile<span class="token punctuation">.</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token string">&#39;CopyrightWebpackPlugin&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">compilation</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;compile&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token comment">// \u5F02\u6B65\u94A9\u5B50</span>
    compiler<span class="token punctuation">.</span>hooks<span class="token punctuation">.</span>emit<span class="token punctuation">.</span><span class="token function">tapAsync</span><span class="token punctuation">(</span>
      <span class="token string">&#39;CopyrightWebpackPlugin&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">(</span><span class="token parameter">compilation<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        compilation<span class="token punctuation">.</span>assets<span class="token punctuation">[</span><span class="token string">&#39;copyright.txt&#39;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
          <span class="token function-variable function">source</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token string">&#39;copyright by xh&#39;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">size</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">15</span> <span class="token comment">// \u5B57\u7B26\u957F\u5EA6</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;compilation.assets = &#39;</span><span class="token punctuation">,</span> compilation<span class="token punctuation">.</span>assets<span class="token punctuation">)</span>
        <span class="token function">cb</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div></li></ol><h4 id="_5-2-4-\u4F7F\u7528\u8C03\u8BD5\u5DE5\u5177\u8FDB\u884C\u8C03\u8BD5" tabindex="-1"><a class="header-anchor" href="#_5-2-4-\u4F7F\u7528\u8C03\u8BD5\u5DE5\u5177\u8FDB\u884C\u8C03\u8BD5" aria-hidden="true">#</a> 5.2.4 \u4F7F\u7528\u8C03\u8BD5\u5DE5\u5177\u8FDB\u884C\u8C03\u8BD5</h4><ol><li><p>\u4FEE\u6539<code>package.json</code>\u6587\u4EF6\uFF0C\u6DFB\u52A0\u8C03\u8BD5\u811A\u672C\u547D\u4EE4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token punctuation">{</span>
   <span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack build&quot;</span><span class="token punctuation">,</span>
      <span class="token string-property property">&quot;debug&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node --inspect-brk ../node_modules/webpack/bin/webpack.js&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li><li><p>\u8FD0\u884C\u811A\u672C<code>npm run debug</code>,\u53EF\u4EE5\u5728\u6D4F\u89C8\u5668\u63A7\u5236\u53F0\u770B\u5230 \u65AD\u70B9\u6807\u5FD7\uFF0C\u5373\u53EF\u8FDB\u884C\u8C03\u8BD5\u67E5\u770B\uFF0C\u76F8\u5173\u53C2\u6570\u5177\u6709\u54EA\u4E9B\u5C5E\u6027</p></li></ol><h4 id="_5-2-5-\u53C2\u8003\u6587\u6863" tabindex="-1"><a class="header-anchor" href="#_5-2-5-\u53C2\u8003\u6587\u6863" aria-hidden="true">#</a> 5.2.5 \u53C2\u8003\u6587\u6863</h4>`,4),Tt={href:"https://segmentfault.com/a/1190000019132719",target:"_blank",rel:"noopener noreferrer"},Lt=s("24 \u4E2A\u5B9E\u4F8B\u5165\u95E8\u5E76\u638C\u63E1\u300CWebpack4\u300D(\u4E09)"),Ot=e(`<h3 id="_5-3-bundler-\u6E90\u7801\u7F16\u5199" tabindex="-1"><a class="header-anchor" href="#_5-3-bundler-\u6E90\u7801\u7F16\u5199" aria-hidden="true">#</a> 5.3 Bundler \u6E90\u7801\u7F16\u5199</h3><h4 id="_5-3-1-\u6A21\u5757\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_5-3-1-\u6A21\u5757\u5206\u6790" aria-hidden="true">#</a> 5.3.1 \u6A21\u5757\u5206\u6790</h4><h5 id="_5-3-1-\u57FA\u7840\u8BFB\u53D6\u5165\u53E3\u6587\u4EF6\u5185\u5BB9" tabindex="-1"><a class="header-anchor" href="#_5-3-1-\u57FA\u7840\u8BFB\u53D6\u5165\u53E3\u6587\u4EF6\u5185\u5BB9" aria-hidden="true">#</a> 5.3.1 \u57FA\u7840\u8BFB\u53D6\u5165\u53E3\u6587\u4EF6\u5185\u5BB9</h5><ol><li><p>\u65B0\u5EFA\u6587\u4EF6\u5939<code>bundler-demo</code>, \u65B0\u5EFA<code>src/index.js</code>\u3001 <code>src/message.js</code>\u3001 <code>src/word.js</code>, \u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// word.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> word <span class="token operator">=</span> <span class="token string">&#39;hello&#39;</span>

<span class="token comment">// message.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> word <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;./word.js&#39;</span>
<span class="token keyword">const</span> message <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">say </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>word<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span>
<span class="token keyword">export</span> <span class="token keyword">default</span> message

<span class="token comment">// index.js</span>
<span class="token keyword">import</span> message <span class="token keyword">from</span> <span class="token string">&#39;./message.js&#39;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div></li><li><p>\u5728\u6839\u76EE\u5F55\u4E0B\u65B0\u5EFA<code>bundler.js</code>\u6587\u4EF6\uFF0C\u8FD9\u662F\u6211\u4EEC\u6A21\u62DF\u7684\u6253\u5305\u7F16\u8BD1\u5904\u7406\u6587\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u8BFB\u53D6\u5165\u53E3\u6587\u4EF6\u5185\u5BB9</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">moduleAnalyser</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \u914D\u7F6E\u5165\u53E3\u6587\u4EF6</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p>\u6B64\u65F6\u5728\u63A7\u5236\u53F0\u8FD0\u884C<code>node bundler.js</code>\uFF0C\u53EF\u4EE5\u5728\u7EC8\u7AEF\u4E2D\u770B\u5230\u6253\u5370\u51FA\u6765\u4E86\u6587\u4EF6\u5185\u5BB9</p></li></ol><h5 id="_5-3-2-\u5F15\u5165\u4E09\u65B9\u6A21\u5757\u8FDB\u884C\u4F9D\u8D56\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_5-3-2-\u5F15\u5165\u4E09\u65B9\u6A21\u5757\u8FDB\u884C\u4F9D\u8D56\u5206\u6790" aria-hidden="true">#</a> 5.3.2 \u5F15\u5165\u4E09\u65B9\u6A21\u5757\u8FDB\u884C\u4F9D\u8D56\u5206\u6790</h5><blockquote><p>\u5982\u679C\u4F7F\u7528\u5B57\u7B26\u4E32\u622A\u53D6\uFF0C\u67D0\u79CD\u7A0B\u5EA6\u4E5F\u53EF\u4EE5\uFF0C\u4F46\u662F\u8F83\u4E3A\u7E41\u7410\uFF0C\u8FD9\u91CC\u4F7F\u7528 @babel/parser \u6765\u4EE3\u66FF</p></blockquote><ol><li><p>\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/parser --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539<code>bundler.js</code>\u6587\u4EF6\uFF0C\u5185\u5BB9\u5982\u4E0B</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/parser&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// \u83B7\u53D6\u62BD\u8C61\u8BED\u6CD5\u6811</span>
  <span class="token keyword">const</span> astResult <span class="token operator">=</span> BabelParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span> <span class="token comment">// index.js\u4E2D\u5F15\u5165\u65B9\u5F0F\u662F es module</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>astResult<span class="token punctuation">.</span>program<span class="token punctuation">.</span>body<span class="token punctuation">)</span> <span class="token comment">// \u8FD9\u91CC\u53EF\u4EE5\u67E5\u770B\u5230\u76F8\u5E94\u8282\u70B9\u7684type: ImportDeclaration/ExpressionStatement/</span>
<span class="token punctuation">}</span>

<span class="token function">moduleAnalyser</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></li><li><p>\u6B64\u65F6\u5728\u63A7\u5236\u53F0\u8FD0\u884C<code>node bundler.js</code>, \u53EF\u4EE5\u770B\u5230\u76F8\u5E94\u7684\u7ED3\u679C</p></li><li><p>\u6839\u636E\u4EE5\u4E0A\u83B7\u53D6\u7684\u7C7B\u578B\u8FDB\u884C\u904D\u5386\uFF0C\u7136\u540E\u5904\u7406\uFF0C\u8FD9\u91CC\u6211\u4EEC\u91C7\u7528\u53E6\u4E00\u4E2A\u4F9D\u8D56\u6A21\u5757<code>@babel/traverse</code></p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> @babel/traverse --save-dev
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539<code>bundler.js</code>, \u5F15\u5165\u76F8\u5173\u4F9D\u8D56\u5E76\u5904\u7406</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/parser&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelTraverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/traverse&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default

<span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> astResult <span class="token operator">=</span> BabelParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token function">BabelTraverse</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      dependencies<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">)</span> <span class="token comment">// \u6536\u96C6\u76F8\u5173\u4F9D\u8D56</span>
<span class="token punctuation">}</span>

<span class="token function">moduleAnalyser</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li><li><p>\u6B64\u65F6\u5728\u63A7\u5236\u53F0\u8FD0\u884C<code>node bundler.js</code>, \u53EF\u4EE5\u770B\u5230\u76F8\u5E94\u7684\u7ED3\u679C</p></li><li><p>\u4EE5\u4E0A\u6B65\u9AA4\u53EF\u4EE5\u770B\u51FA\uFF0C\u6536\u96C6\u7684\u4F9D\u8D56\u7684\u8DEF\u5F84\u4E3A\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u662F\u76F8\u5BF9\u4E8E\u5F53\u524D\u5165\u53E3\u6587\u4EF6\u7684\u8DEF\u5F84\uFF0C\u800C\u83B7\u53D6\u4F9D\u8D56\u8DEF\u5F84\u65F6\u5019\u6700\u597D\u4F7F\u7528\u800C\u5E94\u8BE5\u662F<strong>\u6839\u76EE\u5F55\u7684\u76F8\u5BF9\u8DEF\u5F84</strong>\uFF08\u6216\u8005\u8BF4\u662F<strong>\u7EDD\u5BF9\u8DEF\u5F84</strong>\uFF09\uFF0C\u6240\u4EE5<code>bundler.js</code>\u9700\u505A\u5982\u4E0B\u66F4\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/parser&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelTraverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/traverse&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> astResult <span class="token operator">=</span> BabelParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">BabelTraverse</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
      <span class="token comment">// console.log(dirname) // ./src</span>
      <span class="token comment">// \u83B7\u53D6\u76F8\u5BF9\u6839\u76EE\u5F55\u7684\u8DEF\u5F84</span>
      <span class="token keyword">const</span> newFile <span class="token operator">=</span> <span class="token string">&#39;./&#39;</span> <span class="token operator">+</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">// console.log(newFile) // ./src/message.js</span>
      dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> newFile <span class="token comment">// \u65E2\u5B58\u4E00\u4E2A\u76F8\u5BF9\u8DEF\u5F84\uFF0C\u53C8\u5B58\u4E00\u4E2A\u7EDD\u5BF9\u8DEF\u5F84</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">moduleAnalyser</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br></div></div></li><li><p>\u56E0\u4E3A\u6211\u4EEC\u4F7F\u7528\u7684\u662F ES6 Module \u7684\u65B9\u6CD5\uFF0C\u6240\u4EE5\u6211\u4EEC\u9700\u8981\u5B89\u88C5\u76F8\u5173\u4F9D\u8D56\u5305\u8FDB\u884C\u8F6C\u6362\u5904\u7406</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">npm</span> i @babel/core @babel/preset-env --save
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div></li><li><p>\u4FEE\u6539<code>bundler.js</code>, \u5F15\u5165\u76F8\u5173\u4F9D\u8D56\u5E76\u5904\u7406</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/parser&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelTraverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/traverse&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelCore <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/core&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> astResult <span class="token operator">=</span> BabelParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">BabelTraverse</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
      <span class="token comment">// console.log(dirname) // ./src</span>
      <span class="token comment">// \u83B7\u53D6\u76F8\u5BF9\u6839\u76EE\u5F55\u7684\u8DEF\u5F84</span>
      <span class="token keyword">const</span> newFile <span class="token operator">=</span> <span class="token string">&#39;./&#39;</span> <span class="token operator">+</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">// console.log(newFile) // ./src/message.js</span>
      dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> newFile
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token comment">// \u6839\u636E presets \u89C4\u5219\u8F6C\u6362 ES6 \u8BED\u6CD5</span>
  <span class="token keyword">const</span> code <span class="token operator">=</span> BabelCore<span class="token punctuation">.</span><span class="token function">transformFromAst</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> dependencies<span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    fileName<span class="token punctuation">,</span>
    code<span class="token punctuation">,</span>
    dependencies<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">moduleAnalyser</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div></li></ol><h4 id="_5-3-2-\u4F9D\u8D56\u56FE\u8C31-dependencies-graph" tabindex="-1"><a class="header-anchor" href="#_5-3-2-\u4F9D\u8D56\u56FE\u8C31-dependencies-graph" aria-hidden="true">#</a> 5.3.2 \u4F9D\u8D56\u56FE\u8C31(Dependencies Graph)</h4><ol><li><p>\u4E0A\u8FF0\u6B65\u9AA4\u53EA\u662F\u5206\u6790\u51FA\u4E86\u5165\u53E3\u6587\u4EF6\u7684\u4F9D\u8D56\u5206\u6790 \uFF0C\u90A3\u8FD8\u6709\u5B83\u4F9D\u8D56\u7684\u6587\u4EF6\u7684\u4F9D\u8D56\u4E5F\u540C\u6837\u9700\u8981\u5206\u6790\uFF0C\u4E00\u5C42\u4E00\u5C42\u5206\u6790\uFF0C\u6700\u7EC8\u5B9E\u73B0\u6574\u4E2A\u9879\u76EE\u7684\u5168\u90E8\u6A21\u5757\u5206\u6790</p></li><li><p>\u5B9A\u4E49\u4E00\u4E2A\u65B0\u51FD\u6570</p><div class="language-JavaScript ext-JavaScript line-numbers-mode"><pre class="language-JavaScript"><code>const fs = require(&#39;fs&#39;)
const BabelParser = require(&#39;@babel/parser&#39;)
const BabelTraverse = require(&#39;@babel/traverse&#39;).default
const path = require(&#39;path&#39;)
const BabelCore = require(&#39;@babel/core&#39;)

const moduleAnalyser = (fileName) =&gt; {
	const content = fs.readFileSync(fileName, &#39;utf-8&#39;)
	const astResult = BabelParser.parse(content, {
		sourceType: &#39;module&#39;,
	})
	const dependencies = {}
	BabelTraverse(astResult, {
		ImportDeclaration({ node }) {
			const dirname = path.dirname(fileName)
			// console.log(dirname) // ./src
			// \u83B7\u53D6\u76F8\u5BF9\u6839\u76EE\u5F55\u7684\u8DEF\u5F84
			const newFile = &#39;./&#39; + path.join(dirname, node.source.value)
			// console.log(newFile) // ./src/message.js
			dependencies[node.source.value] = newFile
		},
	})

	const code = BabelCore.transformFromAst(astResult, null, {
		presets: [&#39;@babel/preset-env&#39;],
	})
	return {
		fileName,
		code,
		dependencies,
	}
}

const makeDependenciesGraph = (entry) =&gt; {
	const entryModule = moduleAnalyser(entry)
	const graphArray = [entryModule]
	for (let index = 0; index &lt; graphArray.length; index++) {
		const { dependencies } = graphArray[index]
		if (dependencies) {
			for (let key in dependencies) {
				graphArray.push(moduleAnalyser(dependencies[key]))
        console.log(graphArray) // \u83B7\u53D6\u76F8\u5173\u4F9D\u8D56
			}
		}
	}
}

const graphInfo = makeDependenciesGraph(&#39;./src/index.js&#39;)
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br></div></div></li><li><p>\u7EE7\u7EED\u5C06\u4F9D\u8D56\u56FE\u8C31\u5C55\u5F00</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/parser&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelTraverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/traverse&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelCore <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/core&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> astResult <span class="token operator">=</span> BabelParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">BabelTraverse</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
      <span class="token comment">// console.log(dirname) // ./src</span>
      <span class="token comment">// \u83B7\u53D6\u76F8\u5BF9\u6839\u76EE\u5F55\u7684\u8DEF\u5F84</span>
      <span class="token keyword">const</span> newFile <span class="token operator">=</span> <span class="token string">&#39;./&#39;</span> <span class="token operator">+</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">// console.log(newFile) // ./src/message.js</span>
      dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> newFile
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> BabelCore<span class="token punctuation">.</span><span class="token function">transformFromAst</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    fileName<span class="token punctuation">,</span>
    code<span class="token punctuation">,</span>
    dependencies<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">makeDependenciesGraph</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> entryModule <span class="token operator">=</span> <span class="token function">moduleAnalyser</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span>
  <span class="token keyword">const</span> graphArray <span class="token operator">=</span> <span class="token punctuation">[</span>entryModule<span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> graphArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> dependencies <span class="token punctuation">}</span> <span class="token operator">=</span> graphArray<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        graphArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">moduleAnalyser</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// \u4F9D\u8D56\u56FE\u5BF9\u8C61</span>
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  graphArray<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">graphItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    graph<span class="token punctuation">[</span>graphItem<span class="token punctuation">.</span>fileName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">dependencies</span><span class="token operator">:</span> graphItem<span class="token punctuation">.</span>dependencies<span class="token punctuation">,</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> graphItem<span class="token punctuation">.</span>code<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> graph
<span class="token punctuation">}</span>

<span class="token keyword">const</span> graphInfo <span class="token operator">=</span> <span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>graphInfo<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br></div></div></li></ol><h4 id="_5-3-3-\u6839\u636E\u4F9D\u8D56\u56FE\u8C31-\u7EE7\u7EED\u751F\u4EA7\u4EE3\u7801" tabindex="-1"><a class="header-anchor" href="#_5-3-3-\u6839\u636E\u4F9D\u8D56\u56FE\u8C31-\u7EE7\u7EED\u751F\u4EA7\u4EE3\u7801" aria-hidden="true">#</a> 5.3.3 \u6839\u636E\u4F9D\u8D56\u56FE\u8C31\uFF0C\u7EE7\u7EED\u751F\u4EA7\u4EE3\u7801</h4><ol><li><p>\u7EE7\u7EED\u4FEE\u6539</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelParser <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/parser&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelTraverse <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/traverse&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>default
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> BabelCore <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;@babel/core&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> <span class="token function-variable function">moduleAnalyser</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">fileName</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> content <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">readFileSync</span><span class="token punctuation">(</span>fileName<span class="token punctuation">,</span> <span class="token string">&#39;utf-8&#39;</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> astResult <span class="token operator">=</span> BabelParser<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>content<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">sourceType</span><span class="token operator">:</span> <span class="token string">&#39;module&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">const</span> dependencies <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token function">BabelTraverse</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token function">ImportDeclaration</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> node <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> dirname <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">dirname</span><span class="token punctuation">(</span>fileName<span class="token punctuation">)</span>
      <span class="token comment">// console.log(dirname) // ./src</span>
      <span class="token comment">// \u83B7\u53D6\u76F8\u5BF9\u6839\u76EE\u5F55\u7684\u8DEF\u5F84</span>
      <span class="token keyword">const</span> newFile <span class="token operator">=</span> <span class="token string">&#39;./&#39;</span> <span class="token operator">+</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>dirname<span class="token punctuation">,</span> node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">)</span>
      <span class="token comment">// console.log(newFile) // ./src/message.js</span>
      dependencies<span class="token punctuation">[</span>node<span class="token punctuation">.</span>source<span class="token punctuation">.</span>value<span class="token punctuation">]</span> <span class="token operator">=</span> newFile
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token keyword">const</span> <span class="token punctuation">{</span> code <span class="token punctuation">}</span> <span class="token operator">=</span> BabelCore<span class="token punctuation">.</span><span class="token function">transformFromAst</span><span class="token punctuation">(</span>astResult<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">presets</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;@babel/preset-env&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token punctuation">{</span>
    fileName<span class="token punctuation">,</span>
    code<span class="token punctuation">,</span>
    dependencies<span class="token punctuation">,</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">makeDependenciesGraph</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> entryModule <span class="token operator">=</span> <span class="token function">moduleAnalyser</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span>
  <span class="token keyword">const</span> graphArray <span class="token operator">=</span> <span class="token punctuation">[</span>entryModule<span class="token punctuation">]</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> graphArray<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> dependencies <span class="token punctuation">}</span> <span class="token operator">=</span> graphArray<span class="token punctuation">[</span>index<span class="token punctuation">]</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> key <span class="token keyword">in</span> dependencies<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        graphArray<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token function">moduleAnalyser</span><span class="token punctuation">(</span>dependencies<span class="token punctuation">[</span>key<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  graphArray<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">graphItem</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    graph<span class="token punctuation">[</span>graphItem<span class="token punctuation">.</span>fileName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">dependencies</span><span class="token operator">:</span> graphItem<span class="token punctuation">.</span>dependencies<span class="token punctuation">,</span>
      <span class="token literal-property property">code</span><span class="token operator">:</span> graphItem<span class="token punctuation">.</span>code<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> graph
<span class="token punctuation">}</span>

<span class="token keyword">const</span> <span class="token function-variable function">generateCode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">entry</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> graph <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token function">makeDependenciesGraph</span><span class="token punctuation">(</span>entry<span class="token punctuation">)</span><span class="token punctuation">)</span>
  <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
  (function(graph){
		function require(module){
			function localRequire(relativePath){
				return require(graph[module].dependencies[relativePath])
      }
			var exports = {};
			(function(require, exports, code){
				eval(code)
			})(localRequire, exports, graph[module].code);
			return exports
    };
    require(&#39;</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>entry<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">&#39;)

  })(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>graph<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)
  </span><span class="token template-punctuation string">\`</span></span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> graphInfo <span class="token operator">=</span> <span class="token function">generateCode</span><span class="token punctuation">(</span><span class="token string">&#39;./src/index.js&#39;</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>graphInfo<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br></div></div></li><li><p>\u8FD0\u884C\u547D\u4EE4<code>node bundler.js</code>, \u5C06\u7EC8\u7AEF\u4E2D\u6700\u540E\u7684\u8F93\u51FA\uFF0C\u590D\u5236\u5230\u6D4F\u89C8\u5668\u63A7\u5236\u53F0\u4E2D\uFF0C\u5C31\u53EF\u4EE5\u770B\u5230\u8F93\u51FA\u7684\u7ED3\u679C</p></li></ol><h2 id="_6\u3001cra-\u548C-vcli-3-0-\u811A\u624B\u67B6\u914D\u7F6E\u5206\u6790" tabindex="-1"><a class="header-anchor" href="#_6\u3001cra-\u548C-vcli-3-0-\u811A\u624B\u67B6\u914D\u7F6E\u5206\u6790" aria-hidden="true">#</a> 6\u3001CRA \u548C VCli 3.0 \u811A\u624B\u67B6\u914D\u7F6E\u5206\u6790</h2><h3 id="_6-1-\u901A\u8FC7-cra-\u6DF1\u5165-webpack-\u914D\u7F6E" tabindex="-1"><a class="header-anchor" href="#_6-1-\u901A\u8FC7-cra-\u6DF1\u5165-webpack-\u914D\u7F6E" aria-hidden="true">#</a> 6.1 \u901A\u8FC7 CRA \u6DF1\u5165 Webpack \u914D\u7F6E</h3>`,13),Ht={href:"https://create-react-app.dev/docs/getting-started",target:"_blank",rel:"noopener noreferrer"},zt=s("Create-react-app \u5B89\u88C5\u5730\u5740"),Ft=e(`<ol><li><p>\u6267\u884C\u547D\u4EE4</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code>npx create-react-app my-app
<span class="token builtin class-name">cd</span> my-app
<span class="token function">npm</span> start
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li><li><p>\u6267\u884C\u5B8C\u6BD5\u540E\uFF0C\u53EF\u4EE5\u770B\u5230\u8FD9\u662F react \u9ED8\u8BA4\u7684\u4E00\u4E9B\u914D\u7F6E\uFF0C\u4E0E\u6211\u4EEC\u5B66\u8FC7\u7684\u662F\u4E0D\u592A\u4E00\u6837\u7684\uFF0C\u56E0\u4E3A\u5B83\u9690\u85CF\u4E86\u8D77\u6765\u3002 \u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u6267\u884C\u811A\u672C<code>npm run eject</code> \u6765\u663E\u793A\u8FD9\u4E9B\u9690\u85CF\u7684\u914D\u7F6E\uFF0C\u6CE8\u610F\uFF1A\u8FD9\u4E2A\u64CD\u4F5C\u662F\u4E0D\u53EF\u6062\u590D\u7684</p></li><li><p>\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u53C2\u8003\u5B83\u7684\u914D\u7F6E\u6765\u5B66\u4E60\u4E00\u4E9B\u7ECF\u5178\u7684\u4F18\u79C0\u7684\u914D\u7F6E</p></li></ol><h3 id="_6-2-vue-cli-\u811A\u624B\u67B6\u5DE5\u5177" tabindex="-1"><a class="header-anchor" href="#_6-2-vue-cli-\u811A\u624B\u67B6\u5DE5\u5177" aria-hidden="true">#</a> 6.2 Vue-Cli \u811A\u624B\u67B6\u5DE5\u5177</h3>`,2),Ut={href:"https://cli.vuejs.org/zh/guide/",target:"_blank",rel:"noopener noreferrer"},Nt=s("vue-cli"),$t=e(`<ol><li><p>\u6267\u884C\u547D\u4EE4</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// \u4F7F\u7528\u4E0B\u5217\u4EFB\u4E00\u547D\u4EE4\u5B89\u88C5\u8FD9\u4E2A\u65B0\u7684\u5305\uFF1A</span>
npm install <span class="token operator">-</span>g @vue<span class="token operator">/</span>cli
# <span class="token constant">OR</span>
yarn global add @vue<span class="token operator">/</span>cli

<span class="token comment">// \u521B\u5EFA\u4E00\u4E2A\u9879\u76EE</span>
vue create hello<span class="token operator">-</span>world
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li><li><p><code>vue.config.js</code>\u914D\u7F6E\u4FE1\u606F\u53C2\u8003<a href="">\u5730\u5740</a>https://cli.vuejs.org/zh/config/</p></li></ol>`,1);function Kt(Gt,Jt){const a=t("ExternalLinkIcon");return o(),c(l,null,[i,n("p",null,[n("a",k,[b,p(a)])]),n("p",null,[n("a",d,[m,p(a)])]),n("p",null,[n("a",g,[h,p(a)])]),y,n("ol",null,[n("li",null,[_,n("p",null,[n("a",v,[f,p(a)])]),j]),w]),x,n("p",null,[n("a",q,[P,p(a)])]),C,n("p",null,[n("a",E,[M,p(a)])]),n("p",null,[n("a",A,[D,p(a)])]),n("p",null,[n("a",R,[W,p(a)])]),S,n("p",null,[I,B,T,n("a",L,[O,p(a)]),H]),z,n("p",null,[n("a",F,[U,p(a)])]),n("p",null,[n("a",N,[$,p(a)])]),K,G,n("p",null,[n("a",J,[V,p(a)]),Y]),Q,n("p",null,[n("a",X,[Z,p(a)])]),nn,n("p",null,[n("a",sn,[an,p(a)])]),n("p",null,[n("a",pn,[en,p(a)])]),n("p",null,[n("a",tn,[on,p(a)])]),cn,n("p",null,[n("a",ln,[rn,p(a)])]),un,kn,n("p",null,[n("a",bn,[dn,p(a)]),mn]),gn,n("p",null,[n("a",hn,[yn,p(a)])]),n("p",null,[n("a",_n,[vn,p(a)])]),n("p",null,[n("a",fn,[jn,p(a)])]),wn,xn,n("p",null,[qn,n("a",Pn,[Cn,p(a)]),En]),Mn,n("p",null,[n("a",An,[Dn,p(a)])]),n("p",null,[n("a",Rn,[Wn,p(a)])]),n("p",null,[n("a",Sn,[In,p(a)])]),n("p",null,[n("a",Bn,[Tn,p(a)])]),Ln,n("blockquote",null,[n("p",null,[On,n("a",Hn,[zn,p(a)]),Fn])]),Un,n("ol",null,[n("li",null,[n("p",null,[Nn,n("a",$n,[Kn,p(a)])]),Gn])]),Jn,n("p",null,[n("a",Vn,[Yn,p(a)])]),n("p",null,[n("a",Qn,[Xn,p(a)])]),n("p",null,[n("a",Zn,[ns,p(a)])]),n("p",null,[n("a",ss,[as,p(a)])]),n("p",null,[n("a",ps,[es,p(a)])]),n("p",null,[n("a",ts,[os,p(a)])]),n("p",null,[n("a",cs,[ls,p(a)])]),n("p",null,[n("a",rs,[us,p(a)])]),n("p",null,[n("a",is,[ks,p(a)])]),bs,n("ul",null,[n("li",null,[n("a",ds,[ms,p(a)]),gs]),n("li",null,[n("a",hs,[ys,p(a)]),_s,n("a",vs,[fs,p(a)]),js])]),ws,xs,n("blockquote",null,[n("p",null,[qs,n("a",Ps,[Cs,p(a)]),Es])]),Ms,n("ol",null,[As,n("li",null,[n("p",null,[Ds,n("a",Rs,[Ws,p(a)]),Ss])])]),Is,n("ol",null,[Bs,n("li",null,[Ts,n("p",null,[n("a",Ls,[Os,p(a)])]),n("p",null,[n("a",Hs,[zs,p(a)])]),n("p",null,[n("a",Fs,[Us,p(a)])])])]),Ns,n("p",null,[n("a",$s,[Ks,p(a)])]),Gs,n("ol",null,[n("li",null,[n("a",Js,[Vs,p(a)]),Ys]),n("li",null,[n("a",Qs,[Xs,p(a)]),Zs]),n("li",null,[n("a",na,[sa,p(a)]),aa]),n("li",null,[n("a",pa,[ea,p(a)]),ta]),n("li",null,[n("a",oa,[ca,p(a)]),la])]),ra,n("p",null,[n("a",ua,[ia,p(a)])]),n("p",null,[n("a",ka,[ba,p(a)])]),n("p",null,[n("a",da,[ma,p(a)])]),ga,n("blockquote",null,[n("p",null,[ha,n("a",ya,[_a,p(a)]),va]),fa]),ja,n("p",null,[n("a",wa,[xa,p(a)])]),n("p",null,[n("a",qa,[Pa,p(a)])]),n("p",null,[n("a",Ca,[Ea,p(a)])]),Ma,n("p",null,[n("a",Aa,[Da,p(a)])]),Ra,Wa,n("p",null,[n("a",Sa,[Ia,p(a)])]),Ba,n("ol",null,[Ta,n("li",null,[La,n("blockquote",null,[Oa,n("p",null,[Ha,za,Fa,Ua,Na,$a,Ka,Ga,n("a",Ja,[Va,p(a)]),Ya]),Qa,n("p",null,[Xa,n("strong",null,[n("a",Za,[np,p(a)])]),sp,ap,pp,ep,tp,op,cp,lp,rp,up,ip,kp,bp]),dp])])]),mp,n("blockquote",null,[n("p",null,[n("a",gp,[hp,p(a)])])]),yp,n("blockquote",null,[n("p",null,[n("a",_p,[vp,p(a)])])]),fp,n("p",null,[n("a",jp,[wp,p(a)])]),n("p",null,[n("a",xp,[qp,p(a)])]),n("p",null,[n("a",Pp,[Cp,p(a)])]),n("p",null,[n("a",Ep,[Mp,p(a)])]),Ap,n("p",null,[n("a",Dp,[Rp,p(a)])]),Wp,n("ol",null,[Sp,n("li",null,[n("p",null,[Ip,Bp,Tp,Lp,Op,n("a",Hp,[zp,p(a)]),Fp]),Up,n("ol",null,[Np,$p,n("li",null,[Kp,Gp,Jp,Vp,Yp,n("a",Qp,[Xp,p(a)]),Zp,ne,se,ae,pe,ee,te]),oe])]),n("li",null,[ce,n("p",null,[n("a",le,[re,p(a)])]),n("p",null,[n("a",ue,[ie,p(a)])]),n("p",null,[n("a",ke,[be,p(a)])])])]),de,n("p",null,[n("a",me,[ge,p(a)])]),n("p",null,[n("a",he,[ye,p(a)])]),n("p",null,[n("a",_e,[ve,p(a)])]),fe,n("p",null,[n("a",je,[we,p(a)])]),xe,n("ol",null,[n("li",null,[n("p",null,[qe,n("a",Pe,[Ce,p(a)]),Ee,Me,Ae]),De])]),Re,We,n("ol",null,[n("li",null,[Se,n("blockquote",null,[Ie,n("p",null,[n("a",Be,[Te,p(a)])])])]),Le]),Oe,n("ol",null,[He,n("li",null,[ze,n("p",null,[Fe,Ue,n("a",Ne,[$e,p(a)]),Ke,Ge,Je,Ve,Ye]),Qe])]),Xe,n("p",null,[n("a",Ze,[nt,p(a)])]),n("p",null,[n("a",st,[at,p(a)])]),n("p",null,[n("a",pt,[et,p(a)])]),n("p",null,[n("a",tt,[ot,p(a)])]),ct,n("p",null,[n("a",lt,[rt,p(a)])]),ut,n("p",null,[n("a",it,[kt,p(a)])]),bt,n("blockquote",null,[n("p",null,[dt,n("a",mt,[gt,p(a)]),ht])]),yt,n("blockquote",null,[n("p",null,[_t,n("a",vt,[ft,p(a)]),jt]),wt]),xt,n("blockquote",null,[n("p",null,[qt,n("a",Pt,[Ct,p(a)]),Et])]),Mt,n("blockquote",null,[n("p",null,[At,Dt,n("a",Rt,[Wt,p(a)]),St]),It]),Bt,n("p",null,[n("a",Tt,[Lt,p(a)])]),Ot,n("blockquote",null,[n("p",null,[n("a",Ht,[zt,p(a)])])]),Ft,n("blockquote",null,[n("p",null,[n("a",Ut,[Nt,p(a)])])]),$t],64)}var Qt=r(u,[["render",Kt]]);export{Qt as default};
