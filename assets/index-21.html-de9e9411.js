import{_ as p,M as o,p as l,q as c,R as n,t as s,N as t,a1 as e}from"./framework-e8cb8151.js";const i={},u=n("h1",{id:"_21-加餐-高阶实战——彻底搞懂前端性能监控和优化",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_21-加餐-高阶实战——彻底搞懂前端性能监控和优化","aria-hidden":"true"},"#"),s(" 21-加餐：高阶实战——彻底搞懂前端性能监控和优化")],-1),r={href:"https://juejin.cn/post/7159807927908302884#comment",target:"_blank",rel:"noopener noreferrer"},k={href:"https://juejin.cn/post/6973567030528065573",target:"_blank",rel:"noopener noreferrer"},d=e('<h2 id="_01-什么是前端性能" tabindex="-1"><a class="header-anchor" href="#_01-什么是前端性能" aria-hidden="true">#</a> 01: 什么是前端性能？</h2><blockquote><p>产品性能是指产品具有适合用户要求的物理、化学或者技术特性，如强度、化学成分、纯度、功率、转速等。通常所说的产品性能，实际上指的是产品的功能和质量两个方面。</p></blockquote><h3 id="前端性能" tabindex="-1"><a class="header-anchor" href="#前端性能" aria-hidden="true">#</a> 前端性能</h3><p>前端性能通常指的是<strong>前端页面的访问速度</strong></p><h3 id="为什么要提升前端性能" tabindex="-1"><a class="header-anchor" href="#为什么要提升前端性能" aria-hidden="true">#</a> 为什么要提升前端性能</h3><p>提升前端性能可以显著提升用户访问体验，提高用户活跃度和留存率。</p><h3 id="如何提升前端性能" tabindex="-1"><a class="header-anchor" href="#如何提升前端性能" aria-hidden="true">#</a> 如何提升前端性能</h3><p>核心是两步</p><ul><li>监控前端性能</li><li>优化前端性能</li></ul><h2 id="_02-深入剖析前端性能监控原理-上" tabindex="-1"><a class="header-anchor" href="#_02-深入剖析前端性能监控原理-上" aria-hidden="true">#</a> 02：深入剖析前端性能监控原理（上）</h2><p><img src="https://pic2.zhimg.com/v2-9f63018694b9b4471e28295ddb675a91_r.jpg" alt="img"></p><h2 id="_03-深入剖析前端性能监控原理-下" tabindex="-1"><a class="header-anchor" href="#_03-深入剖析前端性能监控原理-下" aria-hidden="true">#</a> 03：深入剖析前端性能监控原理（下）</h2><h2 id="_04-如何监控前端性能" tabindex="-1"><a class="header-anchor" href="#_04-如何监控前端性能" aria-hidden="true">#</a> 04：如何监控前端性能 ？</h2><h3 id="前端性能监控" tabindex="-1"><a class="header-anchor" href="#前端性能监控" aria-hidden="true">#</a> 前端性能监控</h3><h4 id="原理" tabindex="-1"><a class="header-anchor" href="#原理" aria-hidden="true">#</a> 原理</h4>',15),m=n("li",null,[n("p",null,"核心指标：fp、fcp、fmp")],-1),v=n("p",null,"监控方法：",-1),b=n("ul",null,[n("li",null,[s("Performance "),n("ul",null,[n("li",null,"PerformanceNavigation"),n("li",null,"PerformanceTiming"),n("li",null,"PerformanceNavigationTiming")])]),n("li",null,"PerformanceCbServer")],-1),g={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Performance_API/Navigation_timing",target:"_blank",rel:"noopener noreferrer"},q=e(`<h3 id="代码实操" tabindex="-1"><a class="header-anchor" href="#代码实操" aria-hidden="true">#</a> 代码实操</h3><ol><li><p>我们新建一个页面<code>performance-test.html </code></p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>performance-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>performance<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> <span class="token punctuation">{</span>
        domainLookupStart<span class="token punctuation">,</span>
        domainLookupEnd<span class="token punctuation">,</span>
        domComplete<span class="token punctuation">,</span>
        domLoading<span class="token punctuation">,</span>
        loadEventEnd<span class="token punctuation">,</span>
        loadEventStart<span class="token punctuation">,</span>
      <span class="token punctuation">}</span> <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span>timing
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;dns获取时间&#39;</span><span class="token punctuation">,</span> domainLookupEnd <span class="token operator">-</span> domainLookupStart<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;dom获取时间&#39;</span><span class="token punctuation">,</span> domComplete <span class="token operator">-</span> domLoading<span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;dom渲染时间&#39;</span><span class="token punctuation">,</span> loadEventEnd<span class="token punctuation">,</span> loadEventStart<span class="token punctuation">)</span> <span class="token comment">// 这时还没渲染，不准确</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>运行至浏览器结果如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
  <span class="token string">&quot;timeOrigin&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810.5</span>,
  <span class="token string">&quot;timing&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;connectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>,
    <span class="token string">&quot;navigationStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>,
    <span class="token string">&quot;secureConnectionStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;fetchStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>,
    <span class="token string">&quot;domContentLoadedEventStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983821</span>,
    <span class="token string">&quot;responseStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>,
    <span class="token string">&quot;domInteractive&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983821</span>,
    <span class="token string">&quot;domainLookupEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>,
    <span class="token string">&quot;responseEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983814</span>,
    <span class="token string">&quot;redirectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;requestStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>,
    <span class="token string">&quot;unloadEventEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983817</span>,
    <span class="token string">&quot;unloadEventStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983817</span>,
    <span class="token string">&quot;domLoading&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983818</span>,
    <span class="token string">&quot;domComplete&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983821</span>,
    <span class="token string">&quot;domainLookupStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>,
    <span class="token string">&quot;loadEventStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983821</span>,
    <span class="token string">&quot;domContentLoadedEventEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983821</span>,
    <span class="token string">&quot;loadEventEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;redirectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;connectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1683795983810</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;navigation&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
    <span class="token string">&quot;redirectCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

dns获取时间 <span class="token number">0</span>
performance-test.html:23 dom获取时间 <span class="token number">3</span>
performance-test.html:24 dom渲染时间 <span class="token number">0</span> <span class="token number">1683795983821</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="_05-performance-entry-解决监控精度和多资源性能" tabindex="-1"><a class="header-anchor" href="#_05-performance-entry-解决监控精度和多资源性能" aria-hidden="true">#</a> 05: Performance Entry 解决监控精度和多资源性能</h2>`,3),h={href:"https://juejin.cn/post/6973567030528065573",target:"_blank",rel:"noopener noreferrer"},f=e(`<blockquote><p>目前 mdn 推荐使用的是 Performance Entry</p><p>原有 performance.timing 具体到 <strong>毫秒</strong>, 它的一个数据类型是：<strong>performanceTiming</strong></p><p>而 Performance Entry 获取的时间精确到 <strong>纳秒</strong>，它的一个数据类型是: <strong>PerformanceNavigationTiming</strong></p></blockquote><ol><li><p>修改<code>performance-test.html</code>,代码如下</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// console.log(JSON.stringify(window.performance, null, 2))</span>
  <span class="token comment">// const {</span>
  <span class="token comment">//   domainLookupStart,</span>
  <span class="token comment">//   domainLookupEnd,</span>
  <span class="token comment">//   domComplete,</span>
  <span class="token comment">//   domLoading,</span>
  <span class="token comment">//   loadEventEnd,</span>
  <span class="token comment">//   loadEventStart,</span>
  <span class="token comment">// } = window.performance.timing</span>
  <span class="token comment">// console.log(&#39;dns获取时间&#39;, domainLookupEnd - domainLookupStart)</span>
  <span class="token comment">// console.log(&#39;dom获取时间&#39;, domComplete - domLoading)</span>
  <span class="token comment">// console.log(dom渲染时间&#39;, loadEventEnd, loadEventStart) // 这时还没渲染，不准确</span>
  <span class="token keyword">const</span> perfEntries <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>perfEntries<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>以上代码在 chrome 中没有打印出来是空数组，延迟执行后有值</p></li><li><p>而使用 safari 浏览器运行时，直接有值，不需要延迟执行，原因暂时未找到</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a673d00d850b4c2aa74ff70172a17009~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p></li><li><p>修改<code>performance-test.html</code>,引入<code>js</code>文件以及图片文件</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>performance-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://code.jquery.com/jquery-3.6.4.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> perfEntries <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>perfEntries<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>这时候在<code>chrome</code>浏览器中运行即可看到如下效果(强刷情况下 first-xxx 才会出现)</p><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/657c5eed34204dfe95a0bdab463419c8~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p></li><li><p>而<code>safari</code>浏览器效果如下(强刷情况下 first-content-paint 才会出现)</p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ae21dde109234dc38a2d9e8adf8a7bab~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p></li></ol><h2 id="_06-性能指标核心概念讲解-fp、fcp-和-lcp" tabindex="-1"><a class="header-anchor" href="#_06-性能指标核心概念讲解-fp、fcp-和-lcp" aria-hidden="true">#</a> 06：性能指标核心概念讲解：fp、fcp 和 lcp</h2><h3 id="fp-first-paint" tabindex="-1"><a class="header-anchor" href="#fp-first-paint" aria-hidden="true">#</a> FP: First Paint</h3><p>First Paint, part of the Paint Timing API, is the time between navigator and when the browser renders the first pixels to the screen, rendering anything that is visually different from what was on the screen prior to navigation. It answers the queston &quot;Is that happening ?&quot;</p>`,5),y={href:"https://developer.mozilla.org/en-US/docs/Glossary/First_paint",target:"_blank",rel:"noopener noreferrer"},_=n("h3",{id:"fcp-first-contentful-paint",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#fcp-first-contentful-paint","aria-hidden":"true"},"#"),s(" FCP: First contentful paint")],-1),w=n("p",null,[n("strong",null,"First Contentful Paint"),s(' (FCP) is when the browser renders the first bit of content from the DOM, providing the first feedback to the user that the page is actually loading. The question "Is it happening?" is "yes" when the first contentful paint completes.')],-1),S={href:"https://developer.mozilla.org/en-US/docs/Glossary/First_contentful_paint",target:"_blank",rel:"noopener noreferrer"},E=n("h3",{id:"lcp-largest-contentful-paint",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#lcp-largest-contentful-paint","aria-hidden":"true"},"#"),s(" LCP: Largest Contentful Paint")],-1),T=n("p",null,[s("The "),n("strong",null,"Largest Contentful Paint"),s(" (LCP) performance metric provides the render time of the largest image or text block visible within the viewport, recorded from when the page first begins to load.")],-1),x={href:"https://developer.mozilla.org/en-US/docs/Glossary/Largest_contentful_paint",target:"_blank",rel:"noopener noreferrer"},j=e(`<ol><li><p>修改<code>performance-test.html</code>,代码如下</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>performance-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://code.jquery.com/jquery-3.6.4.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    window<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> perfEntries <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> paint <span class="token operator">=</span> window<span class="token punctuation">.</span>performance<span class="token punctuation">.</span><span class="token function">getEntriesByType</span><span class="token punctuation">(</span><span class="token string">&#39;paint&#39;</span><span class="token punctuation">)</span>
      <span class="token keyword">const</span> fp <span class="token operator">=</span> paint<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&#39;first-paint&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>startTime
      <span class="token keyword">const</span> fcp <span class="token operator">=</span> paint<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> e<span class="token punctuation">.</span>name <span class="token operator">===</span> <span class="token string">&#39;first-contentful-paint&#39;</span><span class="token punctuation">,</span>
      <span class="token punctuation">)</span><span class="token punctuation">.</span>startTime
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>fp<span class="token punctuation">,</span> fcp<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>强刷浏览器，就可以看到控制台中打印的时间数据</p></li></ol><h2 id="_07-性能监控和性能度量之-performance-observe" tabindex="-1"><a class="header-anchor" href="#_07-性能监控和性能度量之-performance-observe" aria-hidden="true">#</a> 07：性能监控和性能度量之 Performance Observe</h2><blockquote><p>目前我们的时间获取都是在 window.onload 回调中，有很多数据并不能准确的拿到。那么该如何操作呢？</p></blockquote><h3 id="前端的-dom-加载性能" tabindex="-1"><a class="header-anchor" href="#前端的-dom-加载性能" aria-hidden="true">#</a> 前端的 DOM 加载性能</h3><ol><li><p>修改<code>performance-test.html</code>,代码如下</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">html</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>en<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">http-equiv</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>X-UA-Compatible<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>IE=edge<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>viewport<span class="token punctuation">&quot;</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>width=device-width, initial-scale=1.0<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>performance-test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">function</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token parameter">list<span class="token punctuation">,</span> ob</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">let</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span>callback<span class="token punctuation">)</span>
    <span class="token comment">// 这里可以看到的前端 DOM 加载性能</span>
    observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;element&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
    // img 需要增加属性 elementtiming=&quot;big-image&quot;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
      <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg<span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span>
      <span class="token attr-name">elementtiming</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>big-image<span class="token punctuation">&quot;</span></span>
    <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://code.jquery.com/jquery-3.6.4.min.js<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>运行至浏览器，打开控制看，结果如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;image-paint&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;element&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">153.60000000009313</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;renderTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">153.60000000009313</span>,
    <span class="token string">&quot;loadTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">141.60000000009313</span>,
    <span class="token string">&quot;intersectionRect&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
        <span class="token string">&quot;x&quot;</span><span class="token builtin class-name">:</span> <span class="token number">8</span>,
        <span class="token string">&quot;y&quot;</span><span class="token builtin class-name">:</span> <span class="token number">8</span>,
        <span class="token string">&quot;width&quot;</span><span class="token builtin class-name">:</span> <span class="token number">137</span>,
        <span class="token string">&quot;height&quot;</span><span class="token builtin class-name">:</span> <span class="token number">28</span>,
        <span class="token string">&quot;top&quot;</span><span class="token builtin class-name">:</span> <span class="token number">8</span>,
        <span class="token string">&quot;right&quot;</span><span class="token builtin class-name">:</span> <span class="token number">145</span>,
        <span class="token string">&quot;bottom&quot;</span><span class="token builtin class-name">:</span> <span class="token number">36</span>,
        <span class="token string">&quot;left&quot;</span><span class="token builtin class-name">:</span> <span class="token number">8</span>
    <span class="token punctuation">}</span>,
    <span class="token string">&quot;identifier&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;big-image&quot;</span>,
    <span class="token string">&quot;naturalWidth&quot;</span><span class="token builtin class-name">:</span> <span class="token number">137</span>,
    <span class="token string">&quot;naturalHeight&quot;</span><span class="token builtin class-name">:</span> <span class="token number">28</span>,
    <span class="token string">&quot;id&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
    <span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg&quot;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="navigation-前端模板-文档-html-加载性能" tabindex="-1"><a class="header-anchor" href="#navigation-前端模板-文档-html-加载性能" aria-hidden="true">#</a> navigation: 前端模板/文档(HTML)加载性能</h3><ol><li><p>修改<code>performance-test.html</code>,代码如下</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 修改 entryTypes 为 navigation</span>
  observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;navigation&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>运行至浏览器，打开控制看，结果如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;navigation&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1669.7000000001863</span>,
    <span class="token string">&quot;initiatorType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;navigation&quot;</span>,
    <span class="token string">&quot;nextHopProtocol&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
    <span class="token string">&quot;renderBlockingStatus&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;non-blocking&quot;</span>,
    <span class="token string">&quot;workerStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;redirectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;redirectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;fetchStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.39999999990686774</span>,
    <span class="token string">&quot;domainLookupStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.39999999990686774</span>,
    <span class="token string">&quot;domainLookupEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.39999999990686774</span>,
    <span class="token string">&quot;connectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.39999999990686774</span>,
    <span class="token string">&quot;secureConnectionStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;connectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.39999999990686774</span>,
    <span class="token string">&quot;requestStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.39999999990686774</span>,
    <span class="token string">&quot;responseStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0.39999999990686774</span>,
    <span class="token string">&quot;responseEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">2.2999999998137355</span>,
    <span class="token string">&quot;transferSize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">300</span>,
    <span class="token string">&quot;encodedBodySize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;decodedBodySize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;responseStatus&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;serverTiming&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>,
    <span class="token string">&quot;unloadEventStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">5.2999999998137355</span>,
    <span class="token string">&quot;unloadEventEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">5.2999999998137355</span>,
    <span class="token string">&quot;domInteractive&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1668.6000000000931</span>,
    <span class="token string">&quot;domContentLoadedEventStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1668.6000000000931</span>,
    <span class="token string">&quot;domContentLoadedEventEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1668.7999999998137</span>,
    <span class="token string">&quot;domComplete&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1669.7000000001863</span>,
    <span class="token string">&quot;loadEventStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1669.7000000001863</span>,
    <span class="token string">&quot;loadEventEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1669.7000000001863</span>,
    <span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;reload&quot;</span>,
    <span class="token string">&quot;redirectCount&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;activationStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="resource-前端-html-模板和资源的加载性能" tabindex="-1"><a class="header-anchor" href="#resource-前端-html-模板和资源的加载性能" aria-hidden="true">#</a> resource: 前端 HTML 模板和资源的加载性能</h3><ol><li><p>修改<code>performance-test.html</code>,代码如下</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 修改 entryTypes 为 resouce</span>
  observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;resource&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>运行至浏览器，打开控制看，结果如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;https://lf3-cdn-tos.bytescm.com/obj/static/xitu_juejin_web/e08da34488b114bd4c665ba2fa520a31.svg&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;resource&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.100000000093132</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">22.100000000093132</span>,
    <span class="token string">&quot;initiatorType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;img&quot;</span>,
    <span class="token string">&quot;nextHopProtocol&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;h2&quot;</span>,
    <span class="token string">&quot;renderBlockingStatus&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;non-blocking&quot;</span>,
    <span class="token string">&quot;workerStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;redirectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;redirectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;fetchStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.100000000093132</span>,
    <span class="token string">&quot;domainLookupStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.100000000093132</span>,
    <span class="token string">&quot;domainLookupEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.100000000093132</span>,
    <span class="token string">&quot;connectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.100000000093132</span>,
    <span class="token string">&quot;secureConnectionStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.100000000093132</span>,
    <span class="token string">&quot;connectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.100000000093132</span>,
    <span class="token string">&quot;requestStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">32.10000000009313</span>,
    <span class="token string">&quot;responseStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">32.60000000009313</span>,
    <span class="token string">&quot;responseEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">34.200000000186265</span>,
    <span class="token string">&quot;transferSize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;encodedBodySize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1452</span>,
    <span class="token string">&quot;decodedBodySize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">3234</span>,
    <span class="token string">&quot;responseStatus&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;serverTiming&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;cdn-cache&quot;</span>,
            <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
            <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;HIT&quot;</span>
        <span class="token punctuation">}</span>,
        <span class="token punctuation">{</span>
            <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;edge&quot;</span>,
            <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1</span>,
            <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;https://code.jquery.com/jquery-3.6.4.min.js&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;resource&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.600000000093132</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">34.700000000186265</span>,
    <span class="token string">&quot;initiatorType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;script&quot;</span>,
    <span class="token string">&quot;nextHopProtocol&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
    <span class="token string">&quot;renderBlockingStatus&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;non-blocking&quot;</span>,
    <span class="token string">&quot;workerStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;redirectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;redirectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;fetchStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">12.600000000093132</span>,
    <span class="token string">&quot;domainLookupStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;domainLookupEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;connectStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;secureConnectionStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;connectEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;requestStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;responseStart&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;responseEnd&quot;</span><span class="token builtin class-name">:</span> <span class="token number">47.3000000002794</span>,
    <span class="token string">&quot;transferSize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;encodedBodySize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;decodedBodySize&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;responseStatus&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>,
    <span class="token string">&quot;serverTiming&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="mark-和-measure-前端性能的度量" tabindex="-1"><a class="header-anchor" href="#mark-和-measure-前端性能的度量" aria-hidden="true">#</a> mark 和 measure: 前端性能的度量</h3><ol><li><p>修改<code>performance-test.html</code>,代码如下</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 修改 entryTypes 为 resouce</span>
  observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;mark&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;measure&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 以一个标志开始。</span>
  performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&#39;mySetTimeout-start&#39;</span><span class="token punctuation">)</span>
  <span class="token comment">// 等待一些时间。</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 标志时间的结束。</span>
    performance<span class="token punctuation">.</span><span class="token function">mark</span><span class="token punctuation">(</span><span class="token string">&#39;mySetTimeout-end&#39;</span><span class="token punctuation">)</span>
    <span class="token comment">// 测量两个不同的标志。</span>
    performance<span class="token punctuation">.</span><span class="token function">measure</span><span class="token punctuation">(</span>
      <span class="token string">&#39;mySetTimeout&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;mySetTimeout-start&#39;</span><span class="token punctuation">,</span>
      <span class="token string">&#39;mySetTimeout-end&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">)</span>
    <span class="token comment">// 清除存储的标志位</span>
    performance<span class="token punctuation">.</span><span class="token function">clearMarks</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    performance<span class="token punctuation">.</span><span class="token function">clearMeasures</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>运行至浏览器，打开控制看，结果如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mySetTimeout-start&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mark&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">51</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mySetTimeout&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;measure&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">51</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1005.8999999999069</span> // 两者执行时间差
<span class="token punctuation">}</span>

<span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mySetTimeout-end&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;mark&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">1056.8999999999069</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="paint-either-first-paint-or-first-contentful-paint" tabindex="-1"><a class="header-anchor" href="#paint-either-first-paint-or-first-contentful-paint" aria-hidden="true">#</a> paint：Either <code>&#39;first-paint&#39;</code> or <code>&#39;first-contentful-paint&#39;</code>.</h3><ol><li><p>修改<code>performance-test.html</code>,代码如下</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 修改 entryTypes 为 resouce</span>
  observer<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">entryTypes</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;paint&#39;</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>运行至浏览器，强制刷新，打开控制看，结果如下</p><div class="language-bash line-numbers-mode" data-ext="sh"><pre class="language-bash"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;first-paint&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;paint&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">151.90000000037253</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
<span class="token punctuation">{</span>
    <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;first-contentful-paint&quot;</span>,
    <span class="token string">&quot;entryType&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;paint&quot;</span>,
    <span class="token string">&quot;startTime&quot;</span><span class="token builtin class-name">:</span> <span class="token number">151.90000000037253</span>,
    <span class="token string">&quot;duration&quot;</span><span class="token builtin class-name">:</span> <span class="token number">0</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h2 id="_08-chromeperformance-用法教学" tabindex="-1"><a class="header-anchor" href="#_08-chromeperformance-用法教学" aria-hidden="true">#</a> 08：ChromePerformance 用法教学</h2><h3 id="工具" tabindex="-1"><a class="header-anchor" href="#工具" aria-hidden="true">#</a> 工具</h3><ul><li>Chrome Performance</li><li>前端性能监控平台</li></ul><h2 id="_09-分享前端性能监控平台架构设计" tabindex="-1"><a class="header-anchor" href="#_09-分享前端性能监控平台架构设计" aria-hidden="true">#</a> 09：分享前端性能监控平台架构设计</h2><h3 id="如何构建前端性能监控平台" tabindex="-1"><a class="header-anchor" href="#如何构建前端性能监控平台" aria-hidden="true">#</a> 如何构建前端性能监控平台</h3><p><img src="https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/f3830de380fd46e8888f492322e2d430~tplv-k3u1fbpfcp-watermark.image?" alt="image.png"></p><h2 id="_10-前端性能优化方法总结" tabindex="-1"><a class="header-anchor" href="#_10-前端性能优化方法总结" aria-hidden="true">#</a> 10：前端性能优化方法总结</h2><ul><li><p>减少请求次数</p></li><li><p>减小资源大小</p></li><li><p>提高响应速度和加载速度（<code>HTTP</code> 请求：强缓存和协商缓存）、</p></li><li><p>DNS缓存</p></li><li><p>提升 <code>TCP</code> 链接速度（服务器宽带和性能、客户端网络带宽和性能、中间件服务器和优化）</p></li><li><p>请求优化（请求头内容精简）</p></li><li><p>相应优化(gzip压缩)</p></li><li><p>DOM优化（script 放后，style放前）</p></li><li><p>优化资源加载时机</p><ul><li>异步请求 js(<code>defer</code>、<code>async</code>)</li></ul></li><li><p>优化加载方式</p></li></ul>`,21),P={href:"https://blog.csdn.net/mahoking/article/details/51472697",target:"_blank",rel:"noopener noreferrer"};function C(L,z){const a=o("ExternalLinkIcon");return l(),c("div",null,[u,n("p",null,[n("a",r,[s("可观测性之国内第一篇讲如何减少卡顿的代码级别详细文章"),t(a)])]),n("p",null,[n("a",k,[s("使用 Performance API 获取页面性能"),t(a)])]),d,n("ul",null,[m,n("li",null,[v,b,n("blockquote",null,[n("p",null,[n("a",g,[s("https://developer.mozilla.org/zh-CN/docs/Web/API/Performance_API/Navigation_timing"),t(a)])])])])]),q,n("p",null,[n("a",h,[s("使用 Performance API 获取页面性能"),t(a)])]),f,n("p",null,[n("a",y,[s("https://developer.mozilla.org/en-US/docs/Glossary/First_paint"),t(a)])]),_,w,n("p",null,[n("a",S,[s("https://developer.mozilla.org/en-US/docs/Glossary/First_contentful_paint"),t(a)])]),E,T,n("p",null,[n("a",x,[s("https://developer.mozilla.org/en-US/docs/Glossary/Largest_contentful_paint"),t(a)])]),j,n("p",null,[n("a",P,[s("参考文档: web前端性能优化总结"),t(a)])])])}const F=p(i,[["render",C],["__file","index-21.html.vue"]]);export{F as default};
