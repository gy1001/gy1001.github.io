import{_ as e,p as i,q as a,a1 as l}from"./framework-e8cb8151.js";const t={},r=l('<h1 id="_17-综合案例-事件分析库" tabindex="-1"><a class="header-anchor" href="#_17-综合案例-事件分析库" aria-hidden="true">#</a> 17-综合案例-事件分析库</h1><blockquote><p>工作中，我们会对 window, DOM 节点，WebSoket, 或者单纯的事件中心等注册事件监听函数。本章分析事件监听，并排查因此可能导致的内存泄漏。 本章节主要讨论和分析几个技术点：</p><ol><li>怎么准确知道某个对象或者函数是否被回收</li><li>常见事件监听函数的本质</li><li>拦截方法常见方式</li><li>弱引用回收问题</li><li>如何裁定事件监...</li></ol></blockquote><h2 id="_01-事件分析库简介" tabindex="-1"><a class="header-anchor" href="#_01-事件分析库简介" aria-hidden="true">#</a> 01：事件分析库简介</h2><h3 id="常见的事件没有移除造成的事件泄漏" tabindex="-1"><a class="header-anchor" href="#常见的事件没有移除造成的事件泄漏" aria-hidden="true">#</a> 常见的事件没有移除造成的事件泄漏</h3><h4 id="常见事件" tabindex="-1"><a class="header-anchor" href="#常见事件" aria-hidden="true">#</a> 常见事件</h4><ul><li>window</li><li>DOM</li><li>Websocket</li><li>单纯的事件中心</li><li>XMLHttpRequest</li><li>...</li></ul><h4 id="spa-加剧了事件泄漏" tabindex="-1"><a class="header-anchor" href="#spa-加剧了事件泄漏" aria-hidden="true">#</a> SPA 加剧了事件泄漏</h4><ul><li>比如 React 组件加载后，在 window 上注册了监听，组件卸载没有删除，极有可能像滚雪球一样，一发不可收拾</li></ul><h3 id="自研事件分析库-功能" tabindex="-1"><a class="header-anchor" href="#自研事件分析库-功能" aria-hidden="true">#</a> 自研事件分析库-功能</h3><h4 id="报警" tabindex="-1"><a class="header-anchor" href="#报警" aria-hidden="true">#</a> 报警</h4><ul><li>同一事件从属对象，比如 window, Socket 等同一个实例</li><li>事件类型，比如 message , resize 等</li><li>事件回调函数</li><li>事件回调函数参数</li></ul><h4 id="高危统计" tabindex="-1"><a class="header-anchor" href="#高危统计" aria-hidden="true">#</a> 高危统计</h4><h4 id="事件统计" tabindex="-1"><a class="header-anchor" href="#事件统计" aria-hidden="true">#</a> 事件统计</h4><h4 id="支持多种事件类型" tabindex="-1"><a class="header-anchor" href="#支持多种事件类型" aria-hidden="true">#</a> 支持多种事件类型</h4><ul><li>EventTarget</li><li>DOM 节点 + window + document 其继承于 EventTarget</li><li>XMLHttpRequest 其继承于 EventTarget</li><li>原生的 WebSocket 继承于 EventTarget</li><li>nodejs 标准的 events</li><li>MQTT 基于 events 库</li><li>socket.io 基于 events 库</li><li>socket.io-client 基于 component-emitter 库</li></ul>',15),d=[r];function h(n,o){return i(),a("div",null,d)}const c=e(t,[["render",h],["__file","index-17.html.vue"]]);export{c as default};
