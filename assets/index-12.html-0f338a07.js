import{_ as n,p as s,q as a,a1 as t}from"./framework-e8cb8151.js";const p="/assets/面试题-打车-0a50179a.png",e="/assets/面试题-停车场-d5e12279.png",o={},c=t('<h1 id="_12-实战演练" tabindex="-1"><a class="header-anchor" href="#_12-实战演练" aria-hidden="true">#</a> 12- 实战演练</h1><p>看两个面试真题，体会一下设计模式的价值</p><p>对于工作经验超过 3 年的同学，面试是经常考察项目设计问题的，这就会用到设计模式。本章就准备了两个面试真题，让你亲身体会面试过程中设计模式的重要性。</p><h2 id="_01-实战演练" tabindex="-1"><a class="header-anchor" href="#_01-实战演练" aria-hidden="true">#</a> 01: 实战演练</h2><h3 id="主要内容" tabindex="-1"><a class="header-anchor" href="#主要内容" aria-hidden="true">#</a> 主要内容</h3><ul><li>面试题 - 模拟打车</li><li>面试题 - 模拟停车场</li></ul><h3 id="学习方法" tabindex="-1"><a class="header-anchor" href="#学习方法" aria-hidden="true">#</a> 学习方法</h3><ul><li>详细审题，抓住细节和重点</li><li>分析：抽象数据模型，梳理关系，定义属性和方法</li><li>最后再 UML 类图，写代码</li></ul><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项" aria-hidden="true">#</a> 注意事项</h3><ul><li>先审题、分析，切忌一开始就写代码</li><li>关注整体设计，别较真细节</li></ul><h2 id="_02-面试题-打车" tabindex="-1"><a class="header-anchor" href="#_02-面试题-打车" aria-hidden="true">#</a> 02: 面试题 - 打车</h2><h3 id="题目" tabindex="-1"><a class="header-anchor" href="#题目" aria-hidden="true">#</a> 题目</h3><p>背景</p><ul><li>打车时，你可以打快车和专车</li><li>无论什么车，都有车牌号和车辆名称</li><li>打不同的车价格不同，快车每公里 1 元，专车每公里 2 元</li><li>打车时，你要启动行程并显示车辆信息</li><li>结束行程，显示价格（假定行驶了 5 公里）</li></ul><p>题目</p><ul><li>画出 UML 类图</li><li>用 TS 语法写出该示例</li></ul><h3 id="分析" tabindex="-1"><a class="header-anchor" href="#分析" aria-hidden="true">#</a> 分析</h3><p><strong>抽象数据模型</strong></p><ul><li>车，抽象为一个 class</li><li>快车，专车是派生类，有一个父类或接口 （快车、专车，有相同，有不同）</li><li>行程，抽象为一个 class ，且和车有关系</li></ul><p><strong>属性和方法</strong></p><ul><li>车：车牌号，名称（在父类或接口），价格（在派生类）</li><li>行程：开始，结束</li><li>行程：关联的车辆</li></ul><h3 id="uml-类图" tabindex="-1"><a class="header-anchor" href="#uml-类图" aria-hidden="true">#</a> UML 类图</h3><p><img src="'+p+`" alt=""></p><h3 id="代码演示" tabindex="-1"><a class="header-anchor" href="#代码演示" aria-hidden="true">#</a> 代码演示</h3><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">string</span>
  price <span class="token operator">=</span> <span class="token number">0</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token builtin">number</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ExpressCar</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  price <span class="token operator">=</span> <span class="token number">1</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">SpecialCar</span> <span class="token keyword">extends</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  price <span class="token operator">=</span> <span class="token number">2</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token builtin">number</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Trip</span> <span class="token punctuation">{</span>
  car<span class="token operator">:</span> Car <span class="token comment">// 类型是 Car， 这样可以兼容 Car的子类，依赖倒置原则</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>car<span class="token operator">:</span> Car<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>car <span class="token operator">=</span> car
  <span class="token punctuation">}</span>
  <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">行程开始，名称: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>car<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, 车牌号: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token keyword">this</span><span class="token punctuation">.</span>car<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;行程结束，价格: &#39;</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>car<span class="token punctuation">.</span>price <span class="token operator">*</span> <span class="token number">5</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// const car = new ExpressCar(&#39;桑塔纳&#39;, &#39;A111222&#39;)</span>
<span class="token keyword">const</span> car <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SpecialCar</span><span class="token punctuation">(</span><span class="token string">&#39;迈腾&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;B333444&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> trip <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Trip</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span>
trip<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
trip<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结" aria-hidden="true">#</a> 总结</h3><ul><li>分析：数据模型，属性和方法，关系</li><li>UML 类图</li><li>代码演示</li></ul><h2 id="_03-面试题-停车场" tabindex="-1"><a class="header-anchor" href="#_03-面试题-停车场" aria-hidden="true">#</a> 03: 面试题 - 停车场</h2><h3 id="题目-1" tabindex="-1"><a class="header-anchor" href="#题目-1" aria-hidden="true">#</a> 题目</h3><p>描述：</p><ul><li>某停车场，分 3 层，每层 100 车位</li><li>每个车位可以监控车辆的进入和离开</li><li>车辆进入前，显示每层的空余车位数量</li><li>车辆进入时，摄像头可识别车牌号和时间</li><li>车辆出来时，出口显示器显示车牌号和停车时长</li></ul><p>题目：</p><ul><li>画出 UML 类图</li></ul><p>（代码量较多，正式面试时不用一行一行写，画图即可）</p><h3 id="分析-1" tabindex="-1"><a class="header-anchor" href="#分析-1" aria-hidden="true">#</a> 分析</h3><p>数据模型</p><ul><li>车</li><li>停车场，层，车位</li><li>摄像头，显示屏</li></ul><p>梳理流程</p><ul><li>进入之前：显示当前空余车位</li><li>进入：停车数量 + 1，计算开始时间</li><li>离开：计算结束时间，停车数量 -1</li></ul><h3 id="uml-类图-1" tabindex="-1"><a class="header-anchor" href="#uml-类图-1" aria-hidden="true">#</a> UML 类图</h3><p><img src="`+e+`" alt=""></p><h3 id="代码演示-1" tabindex="-1"><a class="header-anchor" href="#代码演示-1" aria-hidden="true">#</a> 代码演示</h3><p>HTML 代码</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-car1-into<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>car1 进入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-car1-out<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>car1 离开<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-car2-into<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>car2 进入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-car2-out<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>car2 离开<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-car3-into<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>car3 进入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn-car3-out<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>car3 离开<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>TS 代码</p><div class="language-typescript line-numbers-mode" data-ext="ts"><pre class="language-typescript"><code><span class="token comment">// 车</span>
<span class="token keyword">class</span> <span class="token class-name">Car</span> <span class="token punctuation">{</span>
  <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">string</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token builtin">number</span> <span class="token operator">=</span> <span class="token builtin">number</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 停车信息</span>
<span class="token keyword">interface</span> <span class="token class-name">IEntryInfo</span> <span class="token punctuation">{</span>
  <span class="token builtin">number</span><span class="token operator">:</span> <span class="token builtin">string</span>
  inTime<span class="token operator">:</span> <span class="token builtin">number</span>
  place<span class="token operator">?</span><span class="token operator">:</span> ParkPlace
<span class="token punctuation">}</span>

<span class="token comment">// 入口摄像头</span>
<span class="token keyword">class</span> <span class="token class-name">ParkCamera</span> <span class="token punctuation">{</span>
  <span class="token comment">// 拍照</span>
  <span class="token function">shot</span><span class="token punctuation">(</span>car<span class="token operator">:</span> Car<span class="token punctuation">)</span><span class="token operator">:</span> IEntryInfo <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token builtin">number</span><span class="token operator">:</span> car<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">,</span>
      inTime<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 出口显示器</span>
<span class="token keyword">class</span> <span class="token class-name">ParkScreen</span> <span class="token punctuation">{</span>
  <span class="token function">show</span><span class="token punctuation">(</span>info<span class="token operator">:</span> IEntryInfo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> inTime<span class="token punctuation">,</span> <span class="token builtin">number</span> <span class="token punctuation">}</span> <span class="token operator">=</span> info
    <span class="token keyword">const</span> duration <span class="token operator">=</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> inTime
    <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">车牌号：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span><span class="token builtin">number</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> ，停留时间：</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>duration<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 车位</span>
<span class="token keyword">class</span> <span class="token class-name">ParkPlace</span> <span class="token punctuation">{</span>
  isEmpty <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token function">getInto</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isEmpty <span class="token operator">=</span> <span class="token boolean">false</span>
  <span class="token punctuation">}</span>
  <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>isEmpty <span class="token operator">=</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 层</span>
<span class="token keyword">class</span> <span class="token class-name">ParkFloor</span> <span class="token punctuation">{</span>
  index<span class="token operator">:</span> <span class="token builtin">number</span>
  parkPlaces<span class="token operator">:</span> ParkPlace<span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span>index<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> places<span class="token operator">:</span> ParkPlace<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> index
    <span class="token keyword">this</span><span class="token punctuation">.</span>parkPlaces <span class="token operator">=</span> places
  <span class="token punctuation">}</span>
  <span class="token keyword">get</span> <span class="token function">emptyPlaceNum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> num <span class="token operator">=</span> <span class="token number">0</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> place <span class="token keyword">of</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parkPlaces<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>place<span class="token punctuation">.</span>isEmpty<span class="token punctuation">)</span> num<span class="token operator">++</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> num
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 停车场</span>
<span class="token keyword">class</span> <span class="token class-name">Park</span> <span class="token punctuation">{</span>
  parkFloors<span class="token operator">:</span> ParkFloor<span class="token punctuation">[</span><span class="token punctuation">]</span>
  parkCamera <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ParkCamera</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  parkScreen <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ParkScreen</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  entryInfoList<span class="token operator">:</span> Map<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> IEntryInfo<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// key 是 car.number</span>

  <span class="token function">constructor</span><span class="token punctuation">(</span>floors<span class="token operator">:</span> ParkFloor<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parkFloors <span class="token operator">=</span> floors
  <span class="token punctuation">}</span>

  <span class="token function">getInto</span><span class="token punctuation">(</span>car<span class="token operator">:</span> Car<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取摄像头的信息：车牌号，时间</span>
    <span class="token keyword">const</span> entryInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parkCamera<span class="token punctuation">.</span><span class="token function">shot</span><span class="token punctuation">(</span>car<span class="token punctuation">)</span>
    <span class="token comment">// 某个车位</span>
    <span class="token keyword">const</span> i <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">round</span><span class="token punctuation">(</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">)</span>
    <span class="token comment">// 停在第一层的某个车位（想要第二层，第三层，也可以用随机数获取）</span>
    <span class="token keyword">const</span> place <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parkFloors<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>parkPlaces<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
    <span class="token comment">// 进入车位</span>
    place<span class="token punctuation">.</span><span class="token function">getInto</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token comment">// 记录停车信息</span>
    entryInfo<span class="token punctuation">.</span>place <span class="token operator">=</span> place
    <span class="token keyword">this</span><span class="token punctuation">.</span>entryInfoList<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">,</span> entryInfo<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">out</span><span class="token punctuation">(</span>car<span class="token operator">:</span> Car<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 获取停车信息</span>
    <span class="token keyword">const</span> entryInfo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>entryInfoList<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>entryInfo <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> place <span class="token punctuation">}</span> <span class="token operator">=</span> entryInfo
    <span class="token keyword">if</span> <span class="token punctuation">(</span>place <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token keyword">return</span>

    <span class="token comment">// 从车位离开</span>
    place<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 出口显示屏，显示</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parkScreen<span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span>entryInfo<span class="token punctuation">)</span>

    <span class="token comment">// 删除停车信息</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>entryInfoList<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span><span class="token builtin">number</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 当前停车场的空余车位</span>
  <span class="token keyword">get</span> <span class="token function">emptyInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parkFloors
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>floor<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>floor<span class="token punctuation">.</span>index<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 层还有 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>floor<span class="token punctuation">.</span>emptyPlaceNum<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> 个车位</span><span class="token template-punctuation string">\`</span></span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&#39;\\n&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// ---------- 初始化停车场 ----------</span>
<span class="token keyword">const</span> floors<span class="token operator">:</span> ParkFloor<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token comment">// 3 层</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">3</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> places<span class="token operator">:</span> ParkPlace<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token comment">// 每层 100 个车位</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> <span class="token number">100</span><span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    places<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ParkPlace</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  floors<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ParkFloor</span><span class="token punctuation">(</span>i <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> places<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> park <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Park</span><span class="token punctuation">(</span>floors<span class="token punctuation">)</span>

<span class="token comment">// ---------- 模拟车辆进入、离开 ----------</span>
<span class="token keyword">const</span> car1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;A1&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;A2&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> car3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Car</span><span class="token punctuation">(</span><span class="token string">&#39;A3&#39;</span><span class="token punctuation">)</span>

document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn-car1-into&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第一辆车即将进入&#39;</span><span class="token punctuation">)</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>park<span class="token punctuation">.</span>emptyInfo<span class="token punctuation">)</span>
  park<span class="token punctuation">.</span><span class="token function">getInto</span><span class="token punctuation">(</span>car1<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn-car1-out&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第一辆车离开&#39;</span><span class="token punctuation">)</span>
  park<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span>car1<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn-car2-into&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第二辆车即将进入&#39;</span><span class="token punctuation">)</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>park<span class="token punctuation">.</span>emptyInfo<span class="token punctuation">)</span>
  park<span class="token punctuation">.</span><span class="token function">getInto</span><span class="token punctuation">(</span>car2<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn-car2-out&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第二辆车离开&#39;</span><span class="token punctuation">)</span>
  park<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span>car2<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn-car3-into&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第三辆车即将进入&#39;</span><span class="token punctuation">)</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>park<span class="token punctuation">.</span>emptyInfo<span class="token punctuation">)</span>
  park<span class="token punctuation">.</span><span class="token function">getInto</span><span class="token punctuation">(</span>car3<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;btn-car3-out&#39;</span><span class="token punctuation">)</span><span class="token operator">?.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">&#39;click&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&#39;第三辆车离开&#39;</span><span class="token punctuation">)</span>
  park<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span>car3<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="总结-1" tabindex="-1"><a class="header-anchor" href="#总结-1" aria-hidden="true">#</a> 总结</h3><ul><li>题目信息</li><li>分析</li><li>UML 类图</li><li>代码演示</li></ul>`,48),l=[c];function i(u,k){return s(),a("div",null,l)}const d=n(o,[["render",i],["__file","index-12.html.vue"]]);export{d as default};
